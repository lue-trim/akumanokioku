var sF=Object.defineProperty;var uF=(e,t,r)=>t in e?sF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var oe=(e,t,r)=>(uF(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var sA={exports:{}},Vl={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var eS=Object.getOwnPropertySymbols,cF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable;function hF(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function dF(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var x0=dF()?Object.assign:function(e,t){for(var r,n=hF(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)cF.call(r,a)&&(n[a]=r[a]);if(eS){i=eS(r);for(var s=0;s<i.length;s++)fF.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const pF=rr(x0);var uA={exports:{}},Fe={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=x0,Es=60103,lA=60106;Fe.Fragment=60107;Fe.StrictMode=60108;Fe.Profiler=60114;var cA=60109,fA=60110,hA=60112;Fe.Suspense=60113;var dA=60115,pA=60116;if(typeof Symbol=="function"&&Symbol.for){var fn=Symbol.for;Es=fn("react.element"),lA=fn("react.portal"),Fe.Fragment=fn("react.fragment"),Fe.StrictMode=fn("react.strict_mode"),Fe.Profiler=fn("react.profiler"),cA=fn("react.provider"),fA=fn("react.context"),hA=fn("react.forward_ref"),Fe.Suspense=fn("react.suspense"),dA=fn("react.memo"),pA=fn("react.lazy")}var tS=typeof Symbol=="function"&&Symbol.iterator;function vF(e){return e===null||typeof e!="object"?null:(e=tS&&e[tS]||e["@@iterator"],typeof e=="function"?e:null)}function Wl(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA={};function Ts(e,t,r){this.props=e,this.context=t,this.refs=mA,this.updater=r||vA}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Wl(85));this.updater.enqueueSetState(this,e,t,"setState")};Ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gA(){}gA.prototype=Ts.prototype;function S0(e,t,r){this.props=e,this.context=t,this.refs=mA,this.updater=r||vA}var w0=S0.prototype=new gA;w0.constructor=S0;b0(w0,Ts.prototype);w0.isPureReactComponent=!0;var E0={current:null},yA=Object.prototype.hasOwnProperty,_A={key:!0,ref:!0,__self:!0,__source:!0};function xA(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)yA.call(t,n)&&!_A.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Es,type:e,key:o,ref:a,props:i,_owner:E0.current}}function mF(e,t){return{$$typeof:Es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function T0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es}function gF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rS=/\/+/g;function $p(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gF(""+e.key):t.toString(36)}function df(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Es:case lA:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+$p(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(rS,"$&/")+"/"),df(i,t,r,"",function(l){return l})):i!=null&&(T0(i)&&(i=mF(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rS,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=n+$p(o,s);a+=df(o,t,r,u,i)}else if(u=vF(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=n+$p(o,s++),a+=df(o,t,r,u,i);else if(o==="object")throw t=""+e,Error(Wl(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function yc(e,t,r){if(e==null)return e;var n=[],i=0;return df(e,n,"","",function(o){return t.call(r,o,i++)}),n}function yF(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var bA={current:null};function wi(){var e=bA.current;if(e===null)throw Error(Wl(321));return e}var _F={ReactCurrentDispatcher:bA,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E0,IsSomeRendererActing:{current:!1},assign:b0};Fe.Children={map:yc,forEach:function(e,t,r){yc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yc(e,function(){t++}),t},toArray:function(e){return yc(e,function(t){return t})||[]},only:function(e){if(!T0(e))throw Error(Wl(143));return e}};Fe.Component=Ts;Fe.PureComponent=S0;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_F;Fe.cloneElement=function(e,t,r){if(e==null)throw Error(Wl(267,e));var n=b0({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=E0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)yA.call(t,u)&&!_A.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Es,type:e.type,key:i,ref:o,props:n,_owner:a}};Fe.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:fA,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:cA,_context:e},e.Consumer=e};Fe.createElement=xA;Fe.createFactory=function(e){var t=xA.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:hA,render:e}};Fe.isValidElement=T0;Fe.lazy=function(e){return{$$typeof:pA,_payload:{_status:-1,_result:e},_init:yF}};Fe.memo=function(e,t){return{$$typeof:dA,type:e,compare:t===void 0?null:t}};Fe.useCallback=function(e,t){return wi().useCallback(e,t)};Fe.useContext=function(e,t){return wi().useContext(e,t)};Fe.useDebugValue=function(){};Fe.useEffect=function(e,t){return wi().useEffect(e,t)};Fe.useImperativeHandle=function(e,t,r){return wi().useImperativeHandle(e,t,r)};Fe.useLayoutEffect=function(e,t){return wi().useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return wi().useMemo(e,t)};Fe.useReducer=function(e,t,r){return wi().useReducer(e,t,r)};Fe.useRef=function(e){return wi().useRef(e)};Fe.useState=function(e){return wi().useState(e)};Fe.version="17.0.2";uA.exports=Fe;var $=uA.exports;const H=rr($);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF=$,SA=60103;Vl.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var nS=Symbol.for;SA=nS("react.element"),Vl.Fragment=nS("react.fragment")}var bF=xF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SF=Object.prototype.hasOwnProperty,wF={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)SF.call(t,n)&&!wF.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:SA,type:e,key:o,ref:a,props:i,_owner:bF.current}}Vl.jsx=wA;Vl.jsxs=wA;sA.exports=Vl;var S=sA.exports,EA={exports:{}},ln={},TA={exports:{}},CA={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,l=null,c=function(){if(u!==null)try{var N=e.unstable_now();u(!0,N),u=null}catch(X){throw setTimeout(c,0),X}};t=function(N){u!==null?setTimeout(t,0,N):(u=N,setTimeout(c,0))},r=function(N,X){l=setTimeout(N,X)},n=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var d=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof d!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,p=-1,m=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<N?Math.floor(1e3/N):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(g!==null){var N=e.unstable_now();y=N+m;try{g(!0,N)?x.postMessage(null):(v=!1,g=null)}catch(X){throw x.postMessage(null),X}}else v=!1},t=function(N){g=N,v||(v=!0,x.postMessage(null))},r=function(N,X){p=f(function(){N(e.unstable_now())},X)},n=function(){h(p),p=-1}}function b(N,X){var ne=N.length;N.push(X);e:for(;;){var ue=ne-1>>>1,_e=N[ue];if(_e!==void 0&&0<P(_e,X))N[ue]=X,N[ne]=_e,ne=ue;else break e}}function w(N){return N=N[0],N===void 0?null:N}function E(N){var X=N[0];if(X!==void 0){var ne=N.pop();if(ne!==X){N[0]=ne;e:for(var ue=0,_e=N.length;ue<_e;){var Se=2*(ue+1)-1,we=N[Se],Ue=Se+1,He=N[Ue];if(we!==void 0&&0>P(we,ne))He!==void 0&&0>P(He,we)?(N[ue]=He,N[Ue]=ne,ue=Ue):(N[ue]=we,N[Se]=ne,ue=Se);else if(He!==void 0&&0>P(He,ne))N[ue]=He,N[Ue]=ne,ue=Ue;else break e}}return X}return null}function P(N,X){var ne=N.sortIndex-X.sortIndex;return ne!==0?ne:N.id-X.id}var A=[],k=[],F=1,j=null,z=3,q=!1,D=!1,U=!1;function K(N){for(var X=w(k);X!==null;){if(X.callback===null)E(k);else if(X.startTime<=N)E(k),X.sortIndex=X.expirationTime,b(A,X);else break;X=w(k)}}function de(N){if(U=!1,K(N),!D)if(w(A)!==null)D=!0,t(pe);else{var X=w(k);X!==null&&r(de,X.startTime-N)}}function pe(N,X){D=!1,U&&(U=!1,n()),q=!0;var ne=z;try{for(K(X),j=w(A);j!==null&&(!(j.expirationTime>X)||N&&!e.unstable_shouldYield());){var ue=j.callback;if(typeof ue=="function"){j.callback=null,z=j.priorityLevel;var _e=ue(j.expirationTime<=X);X=e.unstable_now(),typeof _e=="function"?j.callback=_e:j===w(A)&&E(A),K(X)}else E(A);j=w(A)}if(j!==null)var Se=!0;else{var we=w(k);we!==null&&r(de,we.startTime-X),Se=!1}return Se}finally{j=null,z=ne,q=!1}}var Y=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){D||q||(D=!0,t(pe))},e.unstable_getCurrentPriorityLevel=function(){return z},e.unstable_getFirstCallbackNode=function(){return w(A)},e.unstable_next=function(N){switch(z){case 1:case 2:case 3:var X=3;break;default:X=z}var ne=z;z=X;try{return N()}finally{z=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Y,e.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ne=z;z=N;try{return X()}finally{z=ne}},e.unstable_scheduleCallback=function(N,X,ne){var ue=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ue+ne:ue):ne=ue,N){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ne+_e,N={id:F++,callback:X,priorityLevel:N,startTime:ne,expirationTime:_e,sortIndex:-1},ne>ue?(N.sortIndex=ne,b(k,N),w(A)===null&&N===w(k)&&(U?n():U=!0,r(de,ne-ue))):(N.sortIndex=_e,b(A,N),D||q||(D=!0,t(pe))),N},e.unstable_wrapCallback=function(N){var X=z;return function(){var ne=z;z=X;try{return N.apply(this,arguments)}finally{z=ne}}}})(CA);TA.exports=CA;var EF=TA.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=$,dt=x0,Wt=EF;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Kh)throw Error(Q(227));var OA=new Set,nl={};function ia(e,t){os(e,t),os(e+"Capture",t)}function os(e,t){for(nl[e]=t,e=0;e<t.length;e++)OA.add(t[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iS=Object.prototype.hasOwnProperty,oS={},aS={};function CF(e){return iS.call(aS,e)?!0:iS.call(oS,e)?!1:TF.test(e)?aS[e]=!0:(oS[e]=!0,!1)}function OF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AF(e,t,r,n){if(t===null||typeof t>"u"||OF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new Sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new Sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new Sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new Sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new Sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new Sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new Sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new Sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new Sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function O0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C0,O0);tr[t]=new Sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C0,O0);tr[t]=new Sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C0,O0);tr[t]=new Sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new Sr(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new Sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function A0(e,t,r,n){var i=tr.hasOwnProperty(t)?tr[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(AF(t,r,i,n)&&(r=null),n||i===null?CF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var oa=Kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ou=60103,Lo=60106,Li=60107,P0=60108,Mu=60114,k0=60109,R0=60110,Zh=60112,Fu=60113,Vf=60120,Jh=60115,I0=60116,N0=60121,L0=60128,AA=60129,M0=60130,gg=60131;if(typeof Symbol=="function"&&Symbol.for){var jt=Symbol.for;Ou=jt("react.element"),Lo=jt("react.portal"),Li=jt("react.fragment"),P0=jt("react.strict_mode"),Mu=jt("react.profiler"),k0=jt("react.provider"),R0=jt("react.context"),Zh=jt("react.forward_ref"),Fu=jt("react.suspense"),Vf=jt("react.suspense_list"),Jh=jt("react.memo"),I0=jt("react.lazy"),N0=jt("react.block"),jt("react.scope"),L0=jt("react.opaque.id"),AA=jt("react.debug_trace_mode"),M0=jt("react.offscreen"),gg=jt("react.legacy_hidden")}var sS=typeof Symbol=="function"&&Symbol.iterator;function eu(e){return e===null||typeof e!="object"?null:(e=sS&&e[sS]||e["@@iterator"],typeof e=="function"?e:null)}var Up;function Au(e){if(Up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Up=t&&t[1]||""}return`
`+Up+e}var Gp=!1;function _c(e,t){if(!e||Gp)return"";Gp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{Gp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Au(e):""}function PF(e){switch(e.tag){case 5:return Au(e.type);case 16:return Au("Lazy");case 13:return Au("Suspense");case 19:return Au("SuspenseList");case 0:case 2:case 15:return e=_c(e.type,!1),e;case 11:return e=_c(e.type.render,!1),e;case 22:return e=_c(e.type._render,!1),e;case 1:return e=_c(e.type,!0),e;default:return""}}function za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Lo:return"Portal";case Mu:return"Profiler";case P0:return"StrictMode";case Fu:return"Suspense";case Vf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R0:return(e.displayName||"Context")+".Consumer";case k0:return(e._context.displayName||"Context")+".Provider";case Zh:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Jh:return za(e.type);case N0:return za(e._render);case I0:t=e._payload,e=e._init;try{return za(e(t))}catch{}}return null}function no(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function PA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kF(e){var t=PA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xc(e){e._valueTracker||(e._valueTracker=kF(e))}function kA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yg(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=no(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RA(e,t){t=t.checked,t!=null&&A0(e,"checked",t,!1)}function _g(e,t){RA(e,t);var r=no(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xg(e,t.type,r):t.hasOwnProperty("defaultValue")&&xg(e,t.type,no(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xg(e,t,r){(t!=="number"||Wf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function RF(e){var t="";return Kh.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function bg(e,t){return e=dt({children:void 0},t),(t=RF(t.children))&&(e.children=t),e}function Ha(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+no(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:no(r)}}function IA(e,t){var r=no(t.value),n=no(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var wg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function NA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bc,LA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==wg.svg||"innerHTML"in e)e.innerHTML=t;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function il(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Du={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IF=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(e){IF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Du[t]=Du[e]})});function MA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Du.hasOwnProperty(e)&&Du[e]?(""+t).trim():t+"px"}function FA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=MA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var NF=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tg(e,t){if(t){if(NF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Cg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function F0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Og=null,Va=null,Wa=null;function hS(e){if(e=Xl(e)){if(typeof Og!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=id(t),Og(e.stateNode,e.type,t))}}function DA(e){Va?Wa?Wa.push(e):Wa=[e]:Va=e}function BA(){if(Va){var e=Va,t=Wa;if(Wa=Va=null,hS(e),t)for(e=0;e<t.length;e++)hS(t[e])}}function D0(e,t){return e(t)}function jA(e,t,r,n,i){return e(t,r,n,i)}function B0(){}var $A=D0,Mo=!1,zp=!1;function j0(){(Va!==null||Wa!==null)&&(B0(),BA())}function LF(e,t,r){if(zp)return e(t,r);zp=!0;try{return $A(e,t,r)}finally{zp=!1,j0()}}function ol(e,t){var r=e.stateNode;if(r===null)return null;var n=id(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var Ag=!1;if(bi)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Ag=!1}function MF(e,t,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Bu=!1,qf=null,Xf=!1,Pg=null,FF={onError:function(e){Bu=!0,qf=e}};function DF(e,t,r,n,i,o,a,s,u){Bu=!1,qf=null,MF.apply(FF,arguments)}function BF(e,t,r,n,i,o,a,s,u){if(DF.apply(this,arguments),Bu){if(Bu){var l=qf;Bu=!1,qf=null}else throw Error(Q(198));Xf||(Xf=!0,Pg=l)}}function aa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function UA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dS(e){if(aa(e)!==e)throw Error(Q(188))}function jF(e){var t=e.alternate;if(!t){if(t=aa(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return dS(i),e;if(o===n)return dS(i),t;o=o.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function GA(e){if(e=jF(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function pS(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var zA,$0,HA,VA,kg=!1,jn=[],Hi=null,Vi=null,Wi=null,al=new Map,sl=new Map,ru=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function mS(e,t){switch(e){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(t.pointerId)}}function nu(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=Rg(t,r,n,i,o),t!==null&&(t=Xl(t),t!==null&&$0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $F(e,t,r,n,i){switch(t){case"focusin":return Hi=nu(Hi,e,t,r,n,i),!0;case"dragenter":return Vi=nu(Vi,e,t,r,n,i),!0;case"mouseover":return Wi=nu(Wi,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return al.set(o,nu(al.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,sl.set(o,nu(sl.get(o)||null,e,t,r,n,i)),!0}return!1}function UF(e){var t=Fo(e.target);if(t!==null){var r=aa(t);if(r!==null){if(t=r.tag,t===13){if(t=UA(r),t!==null){e.blockedOn=t,VA(e.lanePriority,function(){Wt.unstable_runWithPriority(e.priority,function(){HA(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=H0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Xl(r),t!==null&&$0(t),e.blockedOn=r,!1;t.shift()}return!0}function gS(e,t,r){pf(e)&&r.delete(t)}function GF(){for(kg=!1;0<jn.length;){var e=jn[0];if(e.blockedOn!==null){e=Xl(e.blockedOn),e!==null&&zA(e);break}for(var t=e.targetContainers;0<t.length;){var r=H0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&jn.shift()}Hi!==null&&pf(Hi)&&(Hi=null),Vi!==null&&pf(Vi)&&(Vi=null),Wi!==null&&pf(Wi)&&(Wi=null),al.forEach(gS),sl.forEach(gS)}function iu(e,t){e.blockedOn===t&&(e.blockedOn=null,kg||(kg=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,GF)))}function WA(e){function t(i){return iu(i,e)}if(0<jn.length){iu(jn[0],e);for(var r=1;r<jn.length;r++){var n=jn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Hi!==null&&iu(Hi,e),Vi!==null&&iu(Vi,e),Wi!==null&&iu(Wi,e),al.forEach(t),sl.forEach(t),r=0;r<ru.length;r++)n=ru[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ru.length&&(r=ru[0],r.blockedOn===null);)UF(r),r.blockedOn===null&&ru.shift()}function Sc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ia={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},Hp={},qA={};bi&&(qA=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Qh(e){if(Hp[e])return Hp[e];if(!Ia[e])return e;var t=Ia[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qA)return Hp[e]=t[r];return e}var XA=Qh("animationend"),YA=Qh("animationiteration"),KA=Qh("animationstart"),ZA=Qh("transitionend"),JA=new Map,U0=new Map,zF=["abort","abort",XA,"animationEnd",YA,"animationIteration",KA,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ZA,"transitionEnd","waiting","waiting"];function G0(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),U0.set(n,t),JA.set(n,i),ia(i,[n])}}var HF=Wt.unstable_now;HF();var nt=8;function Aa(e){if(1&e)return nt=15,1;if(2&e)return nt=14,2;if(4&e)return nt=13,4;var t=24&e;return t!==0?(nt=12,t):e&32?(nt=11,32):(t=192&e,t!==0?(nt=10,t):e&256?(nt=9,256):(t=3584&e,t!==0?(nt=8,t):e&4096?(nt=7,4096):(t=4186112&e,t!==0?(nt=6,t):(t=62914560&e,t!==0?(nt=5,t):e&67108864?(nt=4,67108864):e&134217728?(nt=3,134217728):(t=805306368&e,t!==0?(nt=2,t):1073741824&e?(nt=1,1073741824):(nt=8,e))))))}function VF(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function WF(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Q(358,e))}}function ul(e,t){var r=e.pendingLanes;if(r===0)return nt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(o!==0)n=o,i=nt=15;else if(o=r&134217727,o!==0){var u=o&~a;u!==0?(n=Aa(u),i=nt):(s&=o,s!==0&&(n=Aa(s),i=nt))}else o=r&~a,o!==0?(n=Aa(o),i=nt):s!==0&&(n=Aa(s),i=nt);if(n===0)return 0;if(n=31-io(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&a)){if(Aa(t),i<=nt)return t;nt=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-io(t),i=1<<r,n|=e[r],t&=~i;return n}function QA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yf(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Pa(24&~t),e===0?Yf(10,t):e;case 10:return e=Pa(192&~t),e===0?Yf(8,t):e;case 8:return e=Pa(3584&~t),e===0&&(e=Pa(4186112&~t),e===0&&(e=512)),e;case 2:return t=Pa(805306368&~t),t===0&&(t=268435456),t}throw Error(Q(358,e))}function Pa(e){return e&-e}function Vp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ed(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-io(t),e[t]=r}var io=Math.clz32?Math.clz32:YF,qF=Math.log,XF=Math.LN2;function YF(e){return e===0?32:31-(qF(e)/XF|0)|0}var KF=Wt.unstable_UserBlockingPriority,ZF=Wt.unstable_runWithPriority,vf=!0;function JF(e,t,r,n){Mo||B0();var i=z0,o=Mo;Mo=!0;try{jA(i,e,t,r,n)}finally{(Mo=o)||j0()}}function QF(e,t,r,n){ZF(KF,z0.bind(null,e,t,r,n))}function z0(e,t,r,n){if(vf){var i;if((i=(t&4)===0)&&0<jn.length&&-1<vS.indexOf(e))e=Rg(null,e,t,r,n),jn.push(e);else{var o=H0(e,t,r,n);if(o===null)i&&mS(e,n);else{if(i){if(-1<vS.indexOf(e)){e=Rg(o,e,t,r,n),jn.push(e);return}if($F(o,e,t,r,n))return;mS(e,n)}hP(e,t,n,null,r)}}}}function H0(e,t,r,n){var i=F0(n);if(i=Fo(i),i!==null){var o=aa(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=UA(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return hP(e,t,n,i,r),null}var Bi=null,V0=null,mf=null;function eP(){if(mf)return mf;var e,t=V0,r=t.length,n,i="value"in Bi?Bi.value:Bi.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return mf=i.slice(e,1<n?1-n:void 0)}function gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wc(){return!0}function yS(){return!1}function Hr(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wc:yS,this.isPropagationStopped=yS,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W0=Hr(Cs),ql=dt({},Cs,{view:0,detail:0}),eD=Hr(ql),Wp,qp,ou,td=dt({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ou&&(ou&&e.type==="mousemove"?(Wp=e.screenX-ou.screenX,qp=e.screenY-ou.screenY):qp=Wp=0,ou=e),Wp)},movementY:function(e){return"movementY"in e?e.movementY:qp}}),_S=Hr(td),tD=dt({},td,{dataTransfer:0}),rD=Hr(tD),nD=dt({},ql,{relatedTarget:0}),Xp=Hr(nD),iD=dt({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),oD=Hr(iD),aD=dt({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sD=Hr(aD),uD=dt({},Cs,{data:0}),xS=Hr(uD),lD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fD[e])?!!t[e]:!1}function q0(){return hD}var dD=dt({},ql,{key:function(e){if(e.key){var t=lD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q0,charCode:function(e){return e.type==="keypress"?gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pD=Hr(dD),vD=dt({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bS=Hr(vD),mD=dt({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q0}),gD=Hr(mD),yD=dt({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_D=Hr(yD),xD=dt({},td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bD=Hr(xD),SD=[9,13,27,32],X0=bi&&"CompositionEvent"in window,ju=null;bi&&"documentMode"in document&&(ju=document.documentMode);var wD=bi&&"TextEvent"in window&&!ju,tP=bi&&(!X0||ju&&8<ju&&11>=ju),SS=String.fromCharCode(32),wS=!1;function rP(e,t){switch(e){case"keyup":return SD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function ED(e,t){switch(e){case"compositionend":return nP(t);case"keypress":return t.which!==32?null:(wS=!0,SS);case"textInput":return e=t.data,e===SS&&wS?null:e;default:return null}}function TD(e,t){if(Na)return e==="compositionend"||!X0&&rP(e,t)?(e=eP(),mf=V0=Bi=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tP&&t.locale!=="ko"?null:t.data;default:return null}}var CD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ES(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CD[e.type]:t==="textarea"}function iP(e,t,r,n){DA(n),t=Kf(t,"onChange"),0<t.length&&(r=new W0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $u=null,ll=null;function OD(e){lP(e,0)}function rd(e){var t=Ma(e);if(kA(t))return e}function AD(e,t){if(e==="change")return t}var oP=!1;if(bi){var Yp;if(bi){var Kp="oninput"in document;if(!Kp){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),Kp=typeof TS.oninput=="function"}Yp=Kp}else Yp=!1;oP=Yp&&(!document.documentMode||9<document.documentMode)}function CS(){$u&&($u.detachEvent("onpropertychange",aP),ll=$u=null)}function aP(e){if(e.propertyName==="value"&&rd(ll)){var t=[];if(iP(t,ll,e,F0(e)),e=OD,Mo)e(t);else{Mo=!0;try{D0(e,t)}finally{Mo=!1,j0()}}}}function PD(e,t,r){e==="focusin"?(CS(),$u=t,ll=r,$u.attachEvent("onpropertychange",aP)):e==="focusout"&&CS()}function kD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rd(ll)}function RD(e,t){if(e==="click")return rd(t)}function ID(e,t){if(e==="input"||e==="change")return rd(t)}function ND(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jr=typeof Object.is=="function"?Object.is:ND,LD=Object.prototype.hasOwnProperty;function cl(e,t){if(Jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!LD.call(t,r[n])||!Jr(e[r[n]],t[r[n]]))return!1;return!0}function OS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AS(e,t){var r=OS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OS(r)}}function sP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PS(){for(var e=window,t=Wf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wf(e.document)}return t}function Ig(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var MD=bi&&"documentMode"in document&&11>=document.documentMode,La=null,Ng=null,Uu=null,Lg=!1;function kS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lg||La==null||La!==Wf(n)||(n=La,"selectionStart"in n&&Ig(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uu&&cl(Uu,n)||(Uu=n,n=Kf(Ng,"onSelect"),0<n.length&&(t=new W0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=La)))}G0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);G0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);G0(zF,2);for(var RS="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Zp=0;Zp<RS.length;Zp++)U0.set(RS[Zp],0);os("onMouseEnter",["mouseout","mouseover"]);os("onMouseLeave",["mouseout","mouseover"]);os("onPointerEnter",["pointerout","pointerover"]);os("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pu));function IS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,BF(n,t,void 0,e),e.currentTarget=null}function lP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;IS(i,s,l),o=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;IS(i,s,l),o=u}}}if(Xf)throw e=Pg,Xf=!1,Pg=null,e}function ot(e,t){var r=pP(t),n=e+"__bubble";r.has(n)||(fP(t,e,2,!1),r.add(n))}var NS="_reactListening"+Math.random().toString(36).slice(2);function cP(e){e[NS]||(e[NS]=!0,OA.forEach(function(t){uP.has(t)||LS(t,!1,e,null),LS(t,!0,e,null)}))}function LS(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&uP.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=pP(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),fP(o,e,i,t),a.add(s))}function fP(e,t,r,n){var i=U0.get(t);switch(i===void 0?2:i){case 0:i=JF;break;case 1:i=QF;break;default:i=z0}r=i.bind(null,t,r,e),i=void 0,!Ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function hP(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Fo(s),a===null)return;if(u=a.tag,u===5||u===6){n=o=a;continue e}s=s.parentNode}}n=n.return}LF(function(){var l=o,c=F0(r),f=[];e:{var h=JA.get(e);if(h!==void 0){var d=W0,v=e;switch(e){case"keypress":if(gf(r)===0)break e;case"keydown":case"keyup":d=pD;break;case"focusin":v="focus",d=Xp;break;case"focusout":v="blur",d=Xp;break;case"beforeblur":case"afterblur":d=Xp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=_S;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=rD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=gD;break;case XA:case YA:case KA:d=oD;break;case ZA:d=_D;break;case"scroll":d=eD;break;case"wheel":d=bD;break;case"copy":case"cut":case"paste":d=sD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=bS}var g=(t&4)!==0,p=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=l,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,m!==null&&(x=ol(y,m),x!=null&&g.push(fl(y,x,_)))),p)break;y=y.return}0<g.length&&(h=new d(h,v,null,r,c),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&!(t&16)&&(v=r.relatedTarget||r.fromElement)&&(Fo(v)||v[Os]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(v=r.relatedTarget||r.toElement,d=l,v=v?Fo(v):null,v!==null&&(p=aa(v),v!==p||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=l),d!==v)){if(g=_S,x="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=bS,x="onPointerLeave",m="onPointerEnter",y="pointer"),p=d==null?h:Ma(d),_=v==null?h:Ma(v),h=new g(x,y+"leave",d,r,c),h.target=p,h.relatedTarget=_,x=null,Fo(c)===l&&(g=new g(m,y+"enter",v,r,c),g.target=_,g.relatedTarget=p,x=g),p=x,d&&v)t:{for(g=d,m=v,y=0,_=g;_;_=ga(_))y++;for(_=0,x=m;x;x=ga(x))_++;for(;0<y-_;)g=ga(g),y--;for(;0<_-y;)m=ga(m),_--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=ga(g),m=ga(m)}g=null}else g=null;d!==null&&MS(f,h,d,g,!1),v!==null&&p!==null&&MS(f,p,v,g,!0)}}e:{if(h=l?Ma(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var b=AD;else if(ES(h))if(oP)b=ID;else{b=kD;var w=PD}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=RD);if(b&&(b=b(e,l))){iP(f,b,r,c);break e}w&&w(e,h,l),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&xg(h,"number",h.value)}switch(w=l?Ma(l):window,e){case"focusin":(ES(w)||w.contentEditable==="true")&&(La=w,Ng=l,Uu=null);break;case"focusout":Uu=Ng=La=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,kS(f,r,c);break;case"selectionchange":if(MD)break;case"keydown":case"keyup":kS(f,r,c)}var E;if(X0)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Na?rP(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(tP&&r.locale!=="ko"&&(Na||P!=="onCompositionStart"?P==="onCompositionEnd"&&Na&&(E=eP()):(Bi=c,V0="value"in Bi?Bi.value:Bi.textContent,Na=!0)),w=Kf(l,P),0<w.length&&(P=new xS(P,e,null,r,c),f.push({event:P,listeners:w}),E?P.data=E:(E=nP(r),E!==null&&(P.data=E)))),(E=wD?ED(e,r):TD(e,r))&&(l=Kf(l,"onBeforeInput"),0<l.length&&(c=new xS("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=E))}lP(f,t)})}function fl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ol(e,r),o!=null&&n.unshift(fl(e,o,i)),o=ol(e,t),o!=null&&n.push(fl(e,o,i))),e=e.return}return n}function ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MS(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=ol(r,o),u!=null&&a.unshift(fl(r,u,s))):i||(u=ol(r,o),u!=null&&a.push(fl(r,u,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function Zf(){}var Jp=null,Qp=null;function dP(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Mg(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var FS=typeof setTimeout=="function"?setTimeout:void 0,FD=typeof clearTimeout=="function"?clearTimeout:void 0;function Y0(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function qa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function DS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ev=0;function DD(e){return{$$typeof:L0,toString:e,valueOf:e}}var nd=Math.random().toString(36).slice(2),ji="__reactFiber$"+nd,Jf="__reactProps$"+nd,Os="__reactContainer$"+nd,BS="__reactEvents$"+nd;function Fo(e){var t=e[ji];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Os]||r[ji]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=DS(e);e!==null;){if(r=e[ji])return r;e=DS(e)}return t}e=r,r=e.parentNode}return null}function Xl(e){return e=e[ji]||e[Os],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ma(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function id(e){return e[Jf]||null}function pP(e){var t=e[BS];return t===void 0&&(t=e[BS]=new Set),t}var Fg=[],Fa=-1;function mo(e){return{current:e}}function lt(e){0>Fa||(e.current=Fg[Fa],Fg[Fa]=null,Fa--)}function St(e,t){Fa++,Fg[Fa]=e.current,e.current=t}var oo={},pr=mo(oo),Ir=mo(!1),Yo=oo;function as(e,t){var r=e.type.contextTypes;if(!r)return oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(e){return e=e.childContextTypes,e!=null}function Qf(){lt(Ir),lt(pr)}function jS(e,t,r){if(pr.current!==oo)throw Error(Q(168));St(pr,t),St(Ir,r)}function vP(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,za(t)||"Unknown",i));return dt({},r,n)}function yf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,Yo=pr.current,St(pr,e),St(Ir,Ir.current),!0}function $S(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=vP(e,t,Yo),n.__reactInternalMemoizedMergedChildContext=e,lt(Ir),lt(pr),St(pr,e)):lt(Ir),St(Ir,r)}var K0=null,zo=null,BD=Wt.unstable_runWithPriority,Z0=Wt.unstable_scheduleCallback,Dg=Wt.unstable_cancelCallback,jD=Wt.unstable_shouldYield,US=Wt.unstable_requestPaint,Bg=Wt.unstable_now,$D=Wt.unstable_getCurrentPriorityLevel,od=Wt.unstable_ImmediatePriority,mP=Wt.unstable_UserBlockingPriority,gP=Wt.unstable_NormalPriority,yP=Wt.unstable_LowPriority,_P=Wt.unstable_IdlePriority,tv={},UD=US!==void 0?US:function(){},ci=null,_f=null,rv=!1,GS=Bg(),hr=1e4>GS?Bg:function(){return Bg()-GS};function ss(){switch($D()){case od:return 99;case mP:return 98;case gP:return 97;case yP:return 96;case _P:return 95;default:throw Error(Q(332))}}function xP(e){switch(e){case 99:return od;case 98:return mP;case 97:return gP;case 96:return yP;case 95:return _P;default:throw Error(Q(332))}}function Ko(e,t){return e=xP(e),BD(e,t)}function hl(e,t,r){return e=xP(e),Z0(e,t,r)}function Qn(){if(_f!==null){var e=_f;_f=null,Dg(e)}bP()}function bP(){if(!rv&&ci!==null){rv=!0;var e=0;try{var t=ci;Ko(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),ci=null}catch(r){throw ci!==null&&(ci=ci.slice(e+1)),Z0(od,Qn),r}finally{rv=!1}}}var GD=oa.ReactCurrentBatchConfig;function gn(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var eh=mo(null),th=null,Da=null,rh=null;function J0(){rh=Da=th=null}function Q0(e){var t=eh.current;lt(eh),e.type._context._currentValue=t}function SP(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Xa(e,t){th=e,rh=Da=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_n=!0),e.firstContext=null)}function on(e,t){if(rh!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(rh=e,t=1073741823),t={context:e,observedBits:t,next:null},Da===null){if(th===null)throw Error(Q(308));Da=t,th.dependencies={lanes:0,firstContext:t,responders:null}}else Da=Da.next=t;return e._currentValue}var Ri=!1;function ex(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function wP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function zS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dl(e,t,r,n){var i=e.updateQueue;Ri=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=e.alternate;if(c!==null){c=c.updateQueue;var f=c.lastBaseUpdate;f!==a&&(f===null?c.firstBaseUpdate=l:f.next=l,c.lastBaseUpdate=u)}}if(o!==null){f=i.baseState,a=0,c=l=u=null;do{s=o.lane;var h=o.eventTime;if((n&s)===s){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,v=o;switch(s=t,h=r,v.tag){case 1:if(d=v.payload,typeof d=="function"){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=d.flags&-4097|64;case 0:if(d=v.payload,s=typeof d=="function"?d.call(h,f,s):d,s==null)break e;f=dt({},f,s);break e;case 2:Ri=!0}}o.callback!==null&&(e.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,Kl|=a,e.lanes=a,e.memoizedState=f}}function HS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var EP=new Kh.Component().refs;function nh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ad={isMounted:function(e){return(e=e._reactInternals)?aa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ur(),i=Yi(e),o=qi(n,i);o.payload=t,r!=null&&(o.callback=r),Xi(e,o),Ki(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ur(),i=Yi(e),o=qi(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),Xi(e,o),Ki(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ur(),n=Yi(e),i=qi(r,n);i.tag=2,t!=null&&(i.callback=t),Xi(e,i),Ki(e,n,r)}};function VS(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!cl(r,n)||!cl(i,o):!0}function TP(e,t,r){var n=!1,i=oo,o=t.contextType;return typeof o=="object"&&o!==null?o=on(o):(i=Nr(t)?Yo:pr.current,n=t.contextTypes,o=(n=n!=null)?as(e,i):oo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ad,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function WS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ad.enqueueReplaceState(t,t.state,null)}function jg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=EP,ex(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=on(o):(o=Nr(t)?Yo:pr.current,i.context=as(e,o)),dl(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nh(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ad.enqueueReplaceState(i,i.state,null),dl(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Ec=Array.isArray;function au(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===EP&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function Tc(e,t){if(e.type!=="textarea")throw Error(Q(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function CP(e){function t(p,m){if(e){var y=p.lastEffect;y!==null?(y.nextEffect=m,p.lastEffect=m):p.firstEffect=p.lastEffect=m,m.nextEffect=null,m.flags=8}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=so(p,m),p.index=0,p.sibling=null,p}function o(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags=2,m):y):(p.flags=2,m)):m}function a(p){return e&&p.alternate===null&&(p.flags=2),p}function s(p,m,y,_){return m===null||m.tag!==6?(m=sv(y,p.mode,_),m.return=p,m):(m=i(m,y),m.return=p,m)}function u(p,m,y,_){return m!==null&&m.elementType===y.type?(_=i(m,y.props),_.ref=au(p,m,y),_.return=p,_):(_=wf(y.type,y.key,y.props,null,p.mode,_),_.ref=au(p,m,y),_.return=p,_)}function l(p,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=uv(y,p.mode,_),m.return=p,m):(m=i(m,y.children||[]),m.return=p,m)}function c(p,m,y,_,x){return m===null||m.tag!==7?(m=Ja(y,p.mode,_,x),m.return=p,m):(m=i(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"||typeof m=="number")return m=sv(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ou:return y=wf(m.type,m.key,m.props,null,p.mode,y),y.ref=au(p,null,m),y.return=p,y;case Lo:return m=uv(m,p.mode,y),m.return=p,m}if(Ec(m)||eu(m))return m=Ja(m,p.mode,y,null),m.return=p,m;Tc(p,m)}return null}function h(p,m,y,_){var x=m!==null?m.key:null;if(typeof y=="string"||typeof y=="number")return x!==null?null:s(p,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ou:return y.key===x?y.type===Li?c(p,m,y.props.children,_,x):u(p,m,y,_):null;case Lo:return y.key===x?l(p,m,y,_):null}if(Ec(y)||eu(y))return x!==null?null:c(p,m,y,_,null);Tc(p,y)}return null}function d(p,m,y,_,x){if(typeof _=="string"||typeof _=="number")return p=p.get(y)||null,s(m,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ou:return p=p.get(_.key===null?y:_.key)||null,_.type===Li?c(m,p,_.props.children,x,_.key):u(m,p,_,x);case Lo:return p=p.get(_.key===null?y:_.key)||null,l(m,p,_,x)}if(Ec(_)||eu(_))return p=p.get(y)||null,c(m,p,_,x,null);Tc(m,_)}return null}function v(p,m,y,_){for(var x=null,b=null,w=m,E=m=0,P=null;w!==null&&E<y.length;E++){w.index>E?(P=w,w=null):P=w.sibling;var A=h(p,w,y[E],_);if(A===null){w===null&&(w=P);break}e&&w&&A.alternate===null&&t(p,w),m=o(A,m,E),b===null?x=A:b.sibling=A,b=A,w=P}if(E===y.length)return r(p,w),x;if(w===null){for(;E<y.length;E++)w=f(p,y[E],_),w!==null&&(m=o(w,m,E),b===null?x=w:b.sibling=w,b=w);return x}for(w=n(p,w);E<y.length;E++)P=d(w,p,E,y[E],_),P!==null&&(e&&P.alternate!==null&&w.delete(P.key===null?E:P.key),m=o(P,m,E),b===null?x=P:b.sibling=P,b=P);return e&&w.forEach(function(k){return t(p,k)}),x}function g(p,m,y,_){var x=eu(y);if(typeof x!="function")throw Error(Q(150));if(y=x.call(y),y==null)throw Error(Q(151));for(var b=x=null,w=m,E=m=0,P=null,A=y.next();w!==null&&!A.done;E++,A=y.next()){w.index>E?(P=w,w=null):P=w.sibling;var k=h(p,w,A.value,_);if(k===null){w===null&&(w=P);break}e&&w&&k.alternate===null&&t(p,w),m=o(k,m,E),b===null?x=k:b.sibling=k,b=k,w=P}if(A.done)return r(p,w),x;if(w===null){for(;!A.done;E++,A=y.next())A=f(p,A.value,_),A!==null&&(m=o(A,m,E),b===null?x=A:b.sibling=A,b=A);return x}for(w=n(p,w);!A.done;E++,A=y.next())A=d(w,p,E,A.value,_),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?E:A.key),m=o(A,m,E),b===null?x=A:b.sibling=A,b=A);return e&&w.forEach(function(F){return t(p,F)}),x}return function(p,m,y,_){var x=typeof y=="object"&&y!==null&&y.type===Li&&y.key===null;x&&(y=y.props.children);var b=typeof y=="object"&&y!==null;if(b)switch(y.$$typeof){case Ou:e:{for(b=y.key,x=m;x!==null;){if(x.key===b){switch(x.tag){case 7:if(y.type===Li){r(p,x.sibling),m=i(x,y.props.children),m.return=p,p=m;break e}break;default:if(x.elementType===y.type){r(p,x.sibling),m=i(x,y.props),m.ref=au(p,x,y),m.return=p,p=m;break e}}r(p,x);break}else t(p,x);x=x.sibling}y.type===Li?(m=Ja(y.props.children,p.mode,_,y.key),m.return=p,p=m):(_=wf(y.type,y.key,y.props,null,p.mode,_),_.ref=au(p,m,y),_.return=p,p=_)}return a(p);case Lo:e:{for(x=y.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(p,m.sibling),m=i(m,y.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=uv(y,p.mode,_),m.return=p,p=m}return a(p)}if(typeof y=="string"||typeof y=="number")return y=""+y,m!==null&&m.tag===6?(r(p,m.sibling),m=i(m,y),m.return=p,p=m):(r(p,m),m=sv(y,p.mode,_),m.return=p,p=m),a(p);if(Ec(y))return v(p,m,y,_);if(eu(y))return g(p,m,y,_);if(b&&Tc(p,y),typeof y>"u"&&!x)switch(p.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Q(152,za(p.type)||"Component"))}return r(p,m)}}var ih=CP(!0),OP=CP(!1),Yl={},zn=mo(Yl),pl=mo(Yl),vl=mo(Yl);function Do(e){if(e===Yl)throw Error(Q(174));return e}function $g(e,t){switch(St(vl,t),St(pl,e),St(zn,Yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eg(t,e)}lt(zn),St(zn,t)}function us(){lt(zn),lt(pl),lt(vl)}function qS(e){Do(vl.current);var t=Do(zn.current),r=Eg(t,e.type);t!==r&&(St(pl,e),St(zn,r))}function tx(e){pl.current===e&&(lt(zn),lt(pl))}var bt=mo(0);function oh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=null,$i=null,Hn=!1;function AP(e,t){var r=Qr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function XS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Ug(e){if(Hn){var t=$i;if(t){var r=t;if(!XS(e,t)){if(t=qa(r.nextSibling),!t||!XS(e,t)){e.flags=e.flags&-1025|2,Hn=!1,di=e;return}AP(di,r)}di=e,$i=qa(t.firstChild)}else e.flags=e.flags&-1025|2,Hn=!1,di=e}}function YS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;di=e}function Cc(e){if(e!==di)return!1;if(!Hn)return YS(e),Hn=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Mg(t,e.memoizedProps))for(t=$i;t;)AP(e,t),t=qa(t.nextSibling);if(YS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$i=qa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$i=null}}else $i=di?qa(e.stateNode.nextSibling):null;return!0}function nv(){$i=di=null,Hn=!1}var Ya=[];function rx(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Gu=oa.ReactCurrentDispatcher,rn=oa.ReactCurrentBatchConfig,ml=0,Ct=null,cr=null,Zt=null,ah=!1,zu=!1;function Er(){throw Error(Q(321))}function nx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function ix(e,t,r,n,i,o){if(ml=o,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gu.current=e===null||e.memoizedState===null?HD:VD,e=r(n,i),zu){o=0;do{if(zu=!1,!(25>o))throw Error(Q(301));o+=1,Zt=cr=null,t.updateQueue=null,Gu.current=WD,e=r(n,i)}while(zu)}if(Gu.current=ch,t=cr!==null&&cr.next!==null,ml=0,Zt=cr=Ct=null,ah=!1,t)throw Error(Q(300));return e}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ct.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function sa(){if(cr===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=cr.next;var t=Zt===null?Ct.memoizedState:Zt.next;if(t!==null)Zt=t,cr=e;else{if(e===null)throw Error(Q(310));cr=e,e={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Zt===null?Ct.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function $n(e,t){return typeof t=="function"?t(e):t}function su(e){var t=sa(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=cr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=a=o=null,u=i;do{var l=u.lane;if((ml&l)===l)s!==null&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};s===null?(a=s=c,o=n):s=s.next=c,Ct.lanes|=l,Kl|=l}u=u.next}while(u!==null&&u!==i);s===null?o=n:s.next=a,Jr(n,t.memoizedState)||(_n=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=s,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function uu(e){var t=sa(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Jr(o,t.memoizedState)||(_n=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function KS(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(ml&e)===e)&&(t._workInProgressVersionPrimary=n,Ya.push(t))),e)return r(t._source);throw Ya.push(t),Error(Q(350))}function PP(e,t,r,n){var i=yr;if(i===null)throw Error(Q(349));var o=t._getVersion,a=o(t._source),s=Gu.current,u=s.useState(function(){return KS(i,t,r)}),l=u[1],c=u[0];u=Zt;var f=e.memoizedState,h=f.refs,d=h.getSnapshot,v=f.source;f=f.subscribe;var g=Ct;return e.memoizedState={refs:h,source:t,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var p=o(t._source);if(!Jr(a,p)){p=r(t._source),Jr(c,p)||(l(p),p=Yi(g),i.mutableReadLanes|=p&i.pendingLanes),p=i.mutableReadLanes,i.entangledLanes|=p;for(var m=i.entanglements,y=p;0<y;){var _=31-io(y),x=1<<_;m[_]|=p,y&=~x}}},[r,t,n]),s.useEffect(function(){return n(t._source,function(){var p=h.getSnapshot,m=h.setSnapshot;try{m(p(t._source));var y=Yi(g);i.mutableReadLanes|=y&i.pendingLanes}catch(_){m(function(){throw _})}})},[t,n]),Jr(d,r)&&Jr(v,t)&&Jr(f,n)||(e={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:c},e.dispatch=l=sx.bind(null,Ct,e),u.queue=e,u.baseQueue=null,c=KS(i,t,r),u.memoizedState=u.baseState=c),c}function kP(e,t,r){var n=sa();return PP(n,e,t,r)}function lu(e){var t=Bo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},e=e.dispatch=sx.bind(null,Ct,e),[t.memoizedState,e]}function sh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null},Ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ZS(e){var t=Bo();return e={current:e},t.memoizedState=e}function uh(){return sa().memoizedState}function Gg(e,t,r,n){var i=Bo();Ct.flags|=e,i.memoizedState=sh(1|t,r,void 0,n===void 0?null:n)}function ox(e,t,r,n){var i=sa();n=n===void 0?null:n;var o=void 0;if(cr!==null){var a=cr.memoizedState;if(o=a.destroy,n!==null&&nx(n,a.deps)){sh(t,r,o,n);return}}Ct.flags|=e,i.memoizedState=sh(1|t,r,o,n)}function JS(e,t){return Gg(516,4,e,t)}function lh(e,t){return ox(516,4,e,t)}function RP(e,t){return ox(4,2,e,t)}function IP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NP(e,t,r){return r=r!=null?r.concat([e]):null,ox(4,2,IP.bind(null,t,e),r)}function ax(){}function LP(e,t){var r=sa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function MP(e,t){var r=sa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zD(e,t){var r=ss();Ko(98>r?98:r,function(){e(!0)}),Ko(97<r?97:r,function(){var n=rn.transition;rn.transition=1;try{e(!1),t()}finally{rn.transition=n}})}function sx(e,t,r){var n=Ur(),i=Yi(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ct||a!==null&&a===Ct)zu=ah=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,u=a(s,r);if(o.eagerReducer=a,o.eagerState=u,Jr(u,s))return}catch{}finally{}Ki(e,i,n)}}var ch={readContext:on,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useOpaqueIdentifier:Er,unstable_isNewReconciler:!1},HD={readContext:on,useCallback:function(e,t){return Bo().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:JS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gg(4,2,IP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gg(4,2,e,t)},useMemo:function(e,t){var r=Bo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=sx.bind(null,Ct,e),[n.memoizedState,e]},useRef:ZS,useState:lu,useDebugValue:ax,useDeferredValue:function(e){var t=lu(e),r=t[0],n=t[1];return JS(function(){var i=rn.transition;rn.transition=1;try{n(e)}finally{rn.transition=i}},[e]),r},useTransition:function(){var e=lu(!1),t=e[0];return e=zD.bind(null,e[1]),ZS(e),[e,t]},useMutableSource:function(e,t,r){var n=Bo();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},PP(n,e,t,r)},useOpaqueIdentifier:function(){if(Hn){var e=!1,t=DD(function(){throw e||(e=!0,r("r:"+(ev++).toString(36))),Error(Q(355))}),r=lu(t)[1];return!(Ct.mode&2)&&(Ct.flags|=516,sh(5,function(){r("r:"+(ev++).toString(36))},void 0,null)),t}return t="r:"+(ev++).toString(36),lu(t),t},unstable_isNewReconciler:!1},VD={readContext:on,useCallback:LP,useContext:on,useEffect:lh,useImperativeHandle:NP,useLayoutEffect:RP,useMemo:MP,useReducer:su,useRef:uh,useState:function(){return su($n)},useDebugValue:ax,useDeferredValue:function(e){var t=su($n),r=t[0],n=t[1];return lh(function(){var i=rn.transition;rn.transition=1;try{n(e)}finally{rn.transition=i}},[e]),r},useTransition:function(){var e=su($n)[0];return[uh().current,e]},useMutableSource:kP,useOpaqueIdentifier:function(){return su($n)[0]},unstable_isNewReconciler:!1},WD={readContext:on,useCallback:LP,useContext:on,useEffect:lh,useImperativeHandle:NP,useLayoutEffect:RP,useMemo:MP,useReducer:uu,useRef:uh,useState:function(){return uu($n)},useDebugValue:ax,useDeferredValue:function(e){var t=uu($n),r=t[0],n=t[1];return lh(function(){var i=rn.transition;rn.transition=1;try{n(e)}finally{rn.transition=i}},[e]),r},useTransition:function(){var e=uu($n)[0];return[uh().current,e]},useMutableSource:kP,useOpaqueIdentifier:function(){return uu($n)[0]},unstable_isNewReconciler:!1},qD=oa.ReactCurrentOwner,_n=!1;function Or(e,t,r,n){t.child=e===null?OP(t,null,r,n):ih(t,e.child,r,n)}function QS(e,t,r,n,i){r=r.render;var o=t.ref;return Xa(t,i),n=ix(e,t,r,n,o,i),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,pi(e,t,i)):(t.flags|=1,Or(e,t,n,i),t.child)}function ew(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!dx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,FP(e,t,a,n,i,o)):(e=wf(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,!(i&o)&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:cl,r(i,n)&&e.ref===t.ref)?pi(e,t,o):(t.flags|=1,e=so(a,n),e.ref=t.ref,e.return=t,t.child=e)}function FP(e,t,r,n,i,o){if(e!==null&&cl(e.memoizedProps,n)&&e.ref===t.ref)if(_n=!1,(o&i)!==0)e.flags&16384&&(_n=!0);else return t.lanes=e.lanes,pi(e,t,o);return zg(e,t,r,n,o)}function iv(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},Ac(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},Ac(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ac(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ac(t,n);return Or(e,t,i,r),t.child}function DP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function zg(e,t,r,n,i){var o=Nr(r)?Yo:pr.current;return o=as(t,o),Xa(t,i),r=ix(e,t,r,n,o,i),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,pi(e,t,i)):(t.flags|=1,Or(e,t,r,i),t.child)}function tw(e,t,r,n,i){if(Nr(r)){var o=!0;yf(t)}else o=!1;if(Xa(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),TP(t,r,n),jg(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=on(l):(l=Nr(r)?Yo:pr.current,l=as(t,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&WS(t,a,n,l),Ri=!1;var h=t.memoizedState;a.state=h,dl(t,n,a,i),u=t.memoizedState,s!==n||h!==u||Ir.current||Ri?(typeof c=="function"&&(nh(t,r,c,n),u=t.memoizedState),(s=Ri||VS(t,r,s,n,h,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,wP(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:gn(t.type,s),a.props=l,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=on(u):(u=Nr(r)?Yo:pr.current,u=as(t,u));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==u)&&WS(t,a,n,u),Ri=!1,h=t.memoizedState,a.state=h,dl(t,n,a,i);var v=t.memoizedState;s!==f||h!==v||Ir.current||Ri?(typeof d=="function"&&(nh(t,r,d,n),v=t.memoizedState),(l=Ri||VS(t,r,l,n,h,v,u))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),n=!1)}return Hg(e,t,r,n,o,i)}function Hg(e,t,r,n,i,o){DP(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&$S(t,r,!1),pi(e,t,o);n=t.stateNode,qD.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ih(t,e.child,null,o),t.child=ih(t,null,s,o)):Or(e,t,s,o),t.memoizedState=n.state,i&&$S(t,r,!0),t.child}function rw(e){var t=e.stateNode;t.pendingContext?jS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jS(e,t.context,!1),$g(e,t.containerInfo)}var Oc={dehydrated:null,retryLane:0};function nw(e,t,r){var n=t.pendingProps,i=bt.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),St(bt,i&1),e===null?(n.fallback!==void 0&&Ug(t),e=n.children,i=n.fallback,o?(e=iw(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Oc,e):typeof n.unstable_expectedLoadTime=="number"?(e=iw(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Oc,t.lanes=33554432,e):(r=px({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=aw(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Oc,n):(r=ow(e,t,n.children,r),t.memoizedState=null,r):o?(n=aw(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Oc,n):(r=ow(e,t,n.children,r),t.memoizedState=null,r)}function iw(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=t):o=px(t,i,0,null),r=Ja(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function ow(e,t,r,n){var i=e.child;return e=i.sibling,r=so(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function aw(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return!(o&2)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=so(a,s),e!==null?n=so(e,n):(n=Ja(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function sw(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),SP(e.return,t)}function ov(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function uw(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Or(e,t,n.children,r),n=bt.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sw(e,r);else if(e.tag===19)sw(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(St(bt,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&oh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ov(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ov(t,!0,r,null,o,t.lastEffect);break;case"together":ov(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function pi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=so(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=so(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var BP,Vg,jP,$P;BP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vg=function(){};jP=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Do(zn.current);var o=null;switch(r){case"input":i=yg(e,i),n=yg(e,n),o=[];break;case"option":i=bg(e,i),n=bg(e,n),o=[];break;case"select":i=dt({},i,{value:void 0}),n=dt({},n,{value:void 0}),o=[];break;case"textarea":i=Sg(e,i),n=Sg(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zf)}Tg(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(nl.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(nl.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ot("scroll",e),o||s===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===L0?u.toString():(o=o||[]).push(l,u))}r&&(o=o||[]).push("style",r);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};$P=function(e,t,r,n){r!==n&&(t.flags|=4)};function cu(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function XD(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Nr(t.type)&&Qf(),null;case 3:return us(),lt(Ir),lt(pr),rx(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cc(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Vg(t),null;case 5:tx(t);var i=Do(vl.current);if(r=t.type,e!==null&&t.stateNode!=null)jP(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return null}if(e=Do(zn.current),Cc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ji]=t,n[Jf]=o,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(e=0;e<Pu.length;e++)ot(Pu[e],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":uS(n,o),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ot("invalid",n);break;case"textarea":cS(n,o),ot("invalid",n)}Tg(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):nl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&ot("scroll",n));switch(r){case"input":xc(n),lS(n,o,!0);break;case"textarea":xc(n),fS(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Zf)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===wg.html&&(e=NA(r)),e===wg.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ji]=t,e[Jf]=n,BP(e,t,!1,!1),t.stateNode=e,a=Cg(r,n),r){case"dialog":ot("cancel",e),ot("close",e),i=n;break;case"iframe":case"object":case"embed":ot("load",e),i=n;break;case"video":case"audio":for(i=0;i<Pu.length;i++)ot(Pu[i],e);i=n;break;case"source":ot("error",e),i=n;break;case"img":case"image":case"link":ot("error",e),ot("load",e),i=n;break;case"details":ot("toggle",e),i=n;break;case"input":uS(e,n),i=yg(e,n),ot("invalid",e);break;case"option":i=bg(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=dt({},n,{value:void 0}),ot("invalid",e);break;case"textarea":cS(e,n),i=Sg(e,n),ot("invalid",e);break;default:i=n}Tg(r,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?FA(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&LA(e,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&il(e,u):typeof u=="number"&&il(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ot("scroll",e):u!=null&&A0(e,o,u,a))}switch(r){case"input":xc(e),lS(e,n,!1);break;case"textarea":xc(e),fS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+no(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ha(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ha(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zf)}dP(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)$P(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));r=Do(vl.current),Do(zn.current),Cc(t)?(n=t.stateNode,r=t.memoizedProps,n[ji]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=t,t.stateNode=n)}return null;case 13:return lt(bt),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&Cc(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||bt.current&1?er===0&&(er=3):((er===0||er===3)&&(er=4),yr===null||!(Kl&134217727)&&!(Ps&134217727)||Ka(yr,dr))),(n||r)&&(t.flags|=4),null);case 4:return us(),Vg(t),e===null&&cP(t.stateNode.containerInfo),null;case 10:return Q0(t),null;case 17:return Nr(t.type)&&Qf(),null;case 19:if(lt(bt),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null)if(o)cu(n,!1);else{if(er!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(a=oh(e),a!==null){for(t.flags|=64,cu(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return St(bt,bt.current&1|2),t.child}e=e.sibling}n.tail!==null&&hr()>Zg&&(t.flags|=64,o=!0,cu(n,!1),t.lanes=33554432)}else{if(!o)if(e=oh(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Hn)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*hr()-n.renderingStartTime>Zg&&r!==1073741824&&(t.flags|=64,o=!0,cu(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=hr(),r.sibling=null,t=bt.current,St(bt,o?t&1|2:t&1),r):null;case 23:case 24:return hx(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Q(156,t.tag))}function YD(e){switch(e.tag){case 1:Nr(e.type)&&Qf();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(us(),lt(Ir),lt(pr),rx(),t=e.flags,t&64)throw Error(Q(285));return e.flags=t&-4097|64,e;case 5:return tx(e),null;case 13:return lt(bt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return lt(bt),null;case 4:return us(),null;case 10:return Q0(e),null;case 23:case 24:return hx(),null;default:return null}}function ux(e,t){try{var r="",n=t;do r+=PF(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Wg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KD=typeof WeakMap=="function"?WeakMap:Map;function UP(e,t,r){r=qi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hh||(hh=!0,Jg=n),Wg(e,t)},r}function GP(e,t,r){r=qi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Wg(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Un===null?Un=new Set([this]):Un.add(this),Wg(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var ZD=typeof WeakSet=="function"?WeakSet:Set;function lw(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Zi(e,r)}else t.current=null}function JD(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:gn(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Y0(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Q(163))}function QD(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&(ZP(r,e),s3(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:gn(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&HS(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}HS(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&dP(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&WA(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Q(163))}function cw(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=MA("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function fw(e,t){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(K0,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)ZP(t,r);else{n=t;try{i()}catch(o){Zi(n,o)}}r=r.next}while(r!==e)}break;case 1:if(lw(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Zi(t,o)}break;case 5:lw(t);break;case 4:zP(e,t)}}function hw(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function dw(e){return e.tag===5||e.tag===3||e.tag===4}function pw(e){e:{for(var t=e.return;t!==null;){if(dw(t))break e;t=t.return}throw Error(Q(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Q(161))}r.flags&16&&(il(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||dw(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?qg(e,r,t):Xg(e,r,t)}function qg(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zf));else if(n!==4&&(e=e.child,e!==null))for(qg(e,t,r),e=e.sibling;e!==null;)qg(e,t,r),e=e.sibling}function Xg(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xg(e,t,r),e=e.sibling;e!==null;)Xg(e,t,r),e=e.sibling}function zP(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Q(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,s=r,u=s;;)if(fw(a,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(a=i,s=r.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(fw(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function av(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[Jf]=n,e==="input"&&n.type==="radio"&&n.name!=null&&RA(r,n),Cg(e,i),t=Cg(e,n),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?FA(r,s):a==="dangerouslySetInnerHTML"?LA(r,s):a==="children"?il(r,s):A0(r,a,s,t)}switch(e){case"input":_g(r,n);break;case"textarea":IA(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Ha(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Ha(r,!!n.multiple,n.defaultValue,!0):Ha(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Q(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,WA(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(fx=hr(),cw(t.child,!0)),vw(t);return;case 19:vw(t);return;case 17:return;case 23:case 24:cw(t,t.memoizedState!==null);return}throw Error(Q(163))}function vw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ZD),t.forEach(function(n){var i=c3.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function e3(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var t3=Math.ceil,fh=oa.ReactCurrentDispatcher,lx=oa.ReactCurrentOwner,ge=0,yr=null,Dt=null,dr=0,Zo=0,Yg=mo(0),er=0,sd=null,As=0,Kl=0,Ps=0,cx=0,Kg=null,fx=0,Zg=1/0;function ks(){Zg=hr()+500}var se=null,hh=!1,Jg=null,Un=null,ao=!1,Hu=null,ku=90,Qg=[],ey=[],gi=null,Vu=0,ty=null,xf=-1,fi=0,bf=0,Wu=null,Sf=!1;function Ur(){return ge&48?hr():xf!==-1?xf:xf=hr()}function Yi(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return ss()===99?1:2;if(fi===0&&(fi=As),GD.transition!==0){bf!==0&&(bf=Kg!==null?Kg.pendingLanes:0),e=fi;var t=4186112&~bf;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=ss(),ge&4&&e===98?e=Yf(12,fi):(e=VF(e),e=Yf(e,fi)),e}function Ki(e,t,r){if(50<Vu)throw Vu=0,ty=null,Error(Q(185));if(e=ud(e,t),e===null)return null;ed(e,t,r),e===yr&&(Ps|=t,er===4&&Ka(e,dr));var n=ss();t===1?ge&8&&!(ge&48)?ry(e):(an(e,r),ge===0&&(ks(),Qn())):(!(ge&4)||n!==98&&n!==99||(gi===null?gi=new Set([e]):gi.add(e)),an(e,r)),Kg=e}function ud(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function an(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-io(a),u=1<<s,l=o[s];if(l===-1){if(!(u&n)||u&i){l=t,Aa(u);var c=nt;o[s]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);a&=~u}if(n=ul(e,e===yr?dr:0),t=nt,n===0)r!==null&&(r!==tv&&Dg(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==tv&&Dg(r)}t===15?(r=ry.bind(null,e),ci===null?(ci=[r],_f=Z0(od,bP)):ci.push(r),r=tv):t===14?r=hl(99,ry.bind(null,e)):(r=WF(t),r=hl(r,HP.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function HP(e){if(xf=-1,bf=fi=0,ge&48)throw Error(Q(327));var t=e.callbackNode;if(go()&&e.callbackNode!==t)return null;var r=ul(e,e===yr?dr:0);if(r===0)return null;var n=r,i=ge;ge|=16;var o=XP();(yr!==e||dr!==n)&&(ks(),Za(e,n));do try{i3();break}catch(s){qP(e,s)}while(1);if(J0(),fh.current=o,ge=i,Dt!==null?n=0:(yr=null,dr=0,n=er),As&Ps)Za(e,0);else if(n!==0){if(n===2&&(ge|=64,e.hydrate&&(e.hydrate=!1,Y0(e.containerInfo)),r=QA(e),r!==0&&(n=Ru(e,r))),n===1)throw t=sd,Za(e,0),Ka(e,r),an(e,hr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Q(345));case 2:Co(e);break;case 3:if(Ka(e,r),(r&62914560)===r&&(n=fx+500-hr(),10<n)){if(ul(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=FS(Co.bind(null,e),n);break}Co(e);break;case 4:if(Ka(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-io(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=hr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t3(r/1960))-r,10<r){e.timeoutHandle=FS(Co.bind(null,e),r);break}Co(e);break;case 5:Co(e);break;default:throw Error(Q(329))}}return an(e,hr()),e.callbackNode===t?HP.bind(null,e):null}function Ka(e,t){for(t&=~cx,t&=~Ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-io(t),n=1<<r;e[r]=-1,t&=~n}}function ry(e){if(ge&48)throw Error(Q(327));if(go(),e===yr&&e.expiredLanes&dr){var t=dr,r=Ru(e,t);As&Ps&&(t=ul(e,t),r=Ru(e,t))}else t=ul(e,0),r=Ru(e,t);if(e.tag!==0&&r===2&&(ge|=64,e.hydrate&&(e.hydrate=!1,Y0(e.containerInfo)),t=QA(e),t!==0&&(r=Ru(e,t))),r===1)throw r=sd,Za(e,0),Ka(e,t),an(e,hr()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Co(e),an(e,hr()),null}function r3(){if(gi!==null){var e=gi;gi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,an(t,hr())})}Qn()}function VP(e,t){var r=ge;ge|=1;try{return e(t)}finally{ge=r,ge===0&&(ks(),Qn())}}function WP(e,t){var r=ge;ge&=-2,ge|=8;try{return e(t)}finally{ge=r,ge===0&&(ks(),Qn())}}function Ac(e,t){St(Yg,Zo),Zo|=t,As|=t}function hx(){Zo=Yg.current,lt(Yg)}function Za(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,FD(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qf();break;case 3:us(),lt(Ir),lt(pr),rx();break;case 5:tx(n);break;case 4:us();break;case 13:lt(bt);break;case 19:lt(bt);break;case 10:Q0(n);break;case 23:case 24:hx()}r=r.return}yr=e,Dt=so(e.current,null),dr=Zo=As=t,er=0,sd=null,cx=Ps=Kl=0}function qP(e,t){do{var r=Dt;try{if(J0(),Gu.current=ch,ah){for(var n=Ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ah=!1}if(ml=0,Zt=cr=Ct=null,zu=!1,lx.current=null,r===null||r.return===null){er=1,sd=t,Dt=null;break}e:{var o=e,a=r.return,s=r,u=t;if(t=dr,s.flags|=2048,s.firstEffect=s.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if(!(s.mode&2)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(bt.current&1)!==0,h=a;do{var d;if(d=h.tag===13){var v=h.memoizedState;if(v!==null)d=v.dehydrated!==null;else{var g=h.memoizedProps;d=g.fallback===void 0?!1:g.unstable_avoidThisFallback!==!0?!0:!f}}if(d){var p=h.updateQueue;if(p===null){var m=new Set;m.add(l),h.updateQueue=m}else p.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var y=qi(-1,1);y.tag=2,Xi(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=o.pingCache;if(_===null?(_=o.pingCache=new KD,u=new Set,_.set(l,u)):(u=_.get(l),u===void 0&&(u=new Set,_.set(l,u))),!u.has(s)){u.add(s);var x=l3.bind(null,o,l,s);l.then(x,x)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(h!==null);u=Error((za(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}er!==5&&(er=2),u=ux(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t;var b=UP(h,o,t);zS(h,b);break e;case 1:o=u;var w=h.type,E=h.stateNode;if(!(h.flags&64)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Un===null||!Un.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t;var P=GP(h,o,t);zS(h,P);break e}}h=h.return}while(h!==null)}KP(r)}catch(A){t=A,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(1)}function XP(){var e=fh.current;return fh.current=ch,e===null?ch:e}function Ru(e,t){var r=ge;ge|=16;var n=XP();yr===e&&dr===t||Za(e,t);do try{n3();break}catch(i){qP(e,i)}while(1);if(J0(),ge=r,fh.current=n,Dt!==null)throw Error(Q(261));return yr=null,dr=0,er}function n3(){for(;Dt!==null;)YP(Dt)}function i3(){for(;Dt!==null&&!jD();)YP(Dt)}function YP(e){var t=JP(e.alternate,e,Zo);e.memoizedProps=e.pendingProps,t===null?KP(e):Dt=t,lx.current=null}function KP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=YD(t),r!==null){r.flags&=2047,Dt=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=XD(r,t,Zo),r!==null){Dt=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||Zo&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);er===0&&(er=5)}function Co(e){var t=ss();return Ko(99,o3.bind(null,e,t)),null}function o3(e,t){do go();while(Hu!==null);if(ge&48)throw Error(Q(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-io(o),l=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~l}if(gi!==null&&!(n&24)&&gi.has(e)&&gi.delete(e),e===yr&&(Dt=yr=null,dr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=ge,ge|=32,lx.current=null,Jp=vf,a=PS(),Ig(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var c=0,f=-1,h=-1,d=0,v=0,g=a,p=null;t:for(;;){for(var m;g!==s||o!==0&&g.nodeType!==3||(f=c+o),g!==u||l!==0&&g.nodeType!==3||(h=c+l),g.nodeType===3&&(c+=g.nodeValue.length),(m=g.firstChild)!==null;)p=g,g=m;for(;;){if(g===a)break t;if(p===s&&++d===o&&(f=c),p===u&&++v===l&&(h=c),(m=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=m}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Qp={focusedElem:a,selectionRange:s},vf=!1,Wu=null,Sf=!1,se=n;do try{a3()}catch(A){if(se===null)throw Error(Q(330));Zi(se,A),se=se.nextEffect}while(se!==null);Wu=null,se=n;do try{for(a=e;se!==null;){var y=se.flags;if(y&16&&il(se.stateNode,""),y&128){var _=se.alternate;if(_!==null){var x=_.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(y&1038){case 2:pw(se),se.flags&=-3;break;case 6:pw(se),se.flags&=-3,av(se.alternate,se);break;case 1024:se.flags&=-1025;break;case 1028:se.flags&=-1025,av(se.alternate,se);break;case 4:av(se.alternate,se);break;case 8:s=se,zP(a,s);var b=s.alternate;hw(s),b!==null&&hw(b)}se=se.nextEffect}}catch(A){if(se===null)throw Error(Q(330));Zi(se,A),se=se.nextEffect}while(se!==null);if(x=Qp,_=PS(),y=x.focusedElem,a=x.selectionRange,_!==y&&y&&y.ownerDocument&&sP(y.ownerDocument.documentElement,y)){for(a!==null&&Ig(y)&&(_=a.start,x=a.end,x===void 0&&(x=_),"selectionStart"in y?(y.selectionStart=_,y.selectionEnd=Math.min(x,y.value.length)):(x=(_=y.ownerDocument||document)&&_.defaultView||window,x.getSelection&&(x=x.getSelection(),s=y.textContent.length,b=Math.min(a.start,s),a=a.end===void 0?b:Math.min(a.end,s),!x.extend&&b>a&&(s=a,a=b,b=s),s=AS(y,b),o=AS(y,a),s&&o&&(x.rangeCount!==1||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&(_=_.createRange(),_.setStart(s.node,s.offset),x.removeAllRanges(),b>a?(x.addRange(_),x.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),x.addRange(_)))))),_=[],x=y;x=x.parentNode;)x.nodeType===1&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<_.length;y++)x=_[y],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}vf=!!Jp,Qp=Jp=null,e.current=r,se=n;do try{for(y=e;se!==null;){var w=se.flags;if(w&36&&QD(y,se.alternate,se),w&128){_=void 0;var E=se.ref;if(E!==null){var P=se.stateNode;switch(se.tag){case 5:_=P;break;default:_=P}typeof E=="function"?E(_):E.current=_}}se=se.nextEffect}}catch(A){if(se===null)throw Error(Q(330));Zi(se,A),se=se.nextEffect}while(se!==null);se=null,UD(),ge=i}else e.current=r;if(ao)ao=!1,Hu=e,ku=t;else for(se=n;se!==null;)t=se.nextEffect,se.nextEffect=null,se.flags&8&&(w=se,w.sibling=null,w.stateNode=null),se=t;if(n=e.pendingLanes,n===0&&(Un=null),n===1?e===ty?Vu++:(Vu=0,ty=e):Vu=0,r=r.stateNode,zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(K0,r,void 0,(r.current.flags&64)===64)}catch{}if(an(e,hr()),hh)throw hh=!1,e=Jg,Jg=null,e;return ge&8||Qn(),null}function a3(){for(;se!==null;){var e=se.alternate;Sf||Wu===null||(se.flags&8?pS(se,Wu)&&(Sf=!0):se.tag===13&&e3(e,se)&&pS(se,Wu)&&(Sf=!0));var t=se.flags;t&256&&JD(e,se),!(t&512)||ao||(ao=!0,hl(97,function(){return go(),null})),se=se.nextEffect}}function go(){if(ku!==90){var e=97<ku?97:ku;return ku=90,Ko(e,u3)}return!1}function s3(e,t){Qg.push(t,e),ao||(ao=!0,hl(97,function(){return go(),null}))}function ZP(e,t){ey.push(t,e),ao||(ao=!0,hl(97,function(){return go(),null}))}function u3(){if(Hu===null)return!1;var e=Hu;if(Hu=null,ge&48)throw Error(Q(331));var t=ge;ge|=32;var r=ey;ey=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(u){if(o===null)throw Error(Q(330));Zi(o,u)}}for(r=Qg,Qg=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var s=i.create;i.destroy=s()}catch(u){if(o===null)throw Error(Q(330));Zi(o,u)}}for(s=e.current.firstEffect;s!==null;)e=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=e;return ge=t,Qn(),!0}function mw(e,t,r){t=ux(r,t),t=UP(e,t,1),Xi(e,t),t=Ur(),e=ud(e,1),e!==null&&(ed(e,1,t),an(e,t))}function Zi(e,t){if(e.tag===3)mw(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){mw(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Un===null||!Un.has(n))){e=ux(t,e);var i=GP(r,e,1);if(Xi(r,i),i=Ur(),r=ud(r,1),r!==null)ed(r,1,i),an(r,i);else if(typeof n.componentDidCatch=="function"&&(Un===null||!Un.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function l3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ur(),e.pingedLanes|=e.suspendedLanes&r,yr===e&&(dr&r)===r&&(er===4||er===3&&(dr&62914560)===dr&&500>hr()-fx?Za(e,0):cx|=r),an(e,t)}function c3(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(fi===0&&(fi=As),t=Pa(62914560&~fi),t===0&&(t=4194304)):t=ss()===99?1:2:t=1),r=Ur(),e=ud(e,t),e!==null&&(ed(e,t,r),an(e,r))}var JP;JP=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)_n=!0;else if(r&n)_n=!!(e.flags&16384);else{switch(_n=!1,t.tag){case 3:rw(t),nv();break;case 5:qS(t);break;case 1:Nr(t.type)&&yf(t);break;case 4:$g(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;St(eh,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?nw(e,t,r):(St(bt,bt.current&1),t=pi(e,t,r),t!==null?t.sibling:null);St(bt,bt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return uw(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(bt,bt.current),n)break;return null;case 23:case 24:return t.lanes=0,iv(e,t,r)}return pi(e,t,r)}else _n=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=as(t,pr.current),Xa(t,r),i=ix(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nr(n)){var o=!0;yf(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ex(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&nh(t,n,a,e),i.updater=ad,t.stateNode=i,i._reactInternals=t,jg(t,n,e,r),t=Hg(null,t,n,!0,o,r)}else t.tag=0,Or(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=h3(i),e=gn(i,e),o){case 0:t=zg(null,t,i,e,r);break e;case 1:t=tw(null,t,i,e,r);break e;case 11:t=QS(null,t,i,e,r);break e;case 14:t=ew(null,t,i,gn(i.type,e),n,r);break e}throw Error(Q(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),zg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),tw(e,t,n,i,r);case 3:if(rw(t),n=t.updateQueue,e===null||n===null)throw Error(Q(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,wP(e,t),dl(t,n,null,r),n=t.memoizedState.element,n===i)nv(),t=pi(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&($i=qa(t.stateNode.containerInfo.firstChild),di=t,o=Hn=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Ya.push(o);for(r=OP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Or(e,t,n,r),nv();t=t.child}return t;case 5:return qS(t),e===null&&Ug(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Mg(n,i)?a=null:o!==null&&Mg(n,o)&&(t.flags|=16),DP(e,t),Or(e,t,a,r),t.child;case 6:return e===null&&Ug(t),null;case 13:return nw(e,t,r);case 4:return $g(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ih(t,null,n,r):Or(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),QS(e,t,n,i,r);case 7:return Or(e,t,t.pendingProps,r),t.child;case 8:return Or(e,t,t.pendingProps.children,r),t.child;case 12:return Or(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(St(eh,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Jr(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!Ir.current){t=pi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n&&l.observedBits&o){s.tag===1&&(l=qi(-1,r&-r),l.tag=2,Xi(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),SP(s.return,r),u.lanes|=r;break}l=l.next}}else a=s.tag===10&&s.type===t.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Or(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Xa(t,r),i=on(i,o.unstable_observedBits),n=n(i),t.flags|=1,Or(e,t,n,r),t.child;case 14:return i=t.type,o=gn(i,t.pendingProps),o=gn(i.type,o),ew(e,t,i,o,n,r);case 15:return FP(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Nr(n)?(e=!0,yf(t)):e=!1,Xa(t,r),TP(t,n,i),jg(t,n,i,r),Hg(null,t,n,!0,e,r);case 19:return uw(e,t,r);case 23:return iv(e,t,r);case 24:return iv(e,t,r)}throw Error(Q(156,t.tag))};function f3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,r,n){return new f3(e,t,r,n)}function dx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function h3(e){if(typeof e=="function")return dx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zh)return 11;if(e===Jh)return 14}return 2}function so(e,t){var r=e.alternate;return r===null?(r=Qr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wf(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")dx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Li:return Ja(r.children,i,o,t);case AA:a=8,i|=16;break;case P0:a=8,i|=1;break;case Mu:return e=Qr(12,r,t,i|8),e.elementType=Mu,e.type=Mu,e.lanes=o,e;case Fu:return e=Qr(13,r,t,i),e.type=Fu,e.elementType=Fu,e.lanes=o,e;case Vf:return e=Qr(19,r,t,i),e.elementType=Vf,e.lanes=o,e;case M0:return px(r,i,o,t);case gg:return e=Qr(24,r,t,i),e.elementType=gg,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k0:a=10;break e;case R0:a=9;break e;case Zh:a=11;break e;case Jh:a=14;break e;case I0:a=16,n=null;break e;case N0:a=22;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Qr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Ja(e,t,r,n){return e=Qr(7,e,n,t),e.lanes=r,e}function px(e,t,r,n){return e=Qr(23,e,n,t),e.elementType=M0,e.lanes=r,e}function sv(e,t,r){return e=Qr(6,e,null,t),e.lanes=r,e}function uv(e,t,r){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d3(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vp(0),this.expirationTimes=Vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vp(0),this.mutableSourceEagerHydrationData=null}function p3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dh(e,t,r,n){var i=t.current,o=Ur(),a=Yi(i);e:if(r){r=r._reactInternals;t:{if(aa(r)!==r||r.tag!==1)throw Error(Q(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Nr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Q(171))}if(r.tag===1){var u=r.type;if(Nr(u)){r=vP(r,u,s);break e}}r=s}else r=oo;return t.context===null?t.context=r:t.pendingContext=r,t=qi(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Xi(i,t),Ki(i,a,o),a}function lv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vx(e,t){gw(e,t),(e=e.alternate)&&gw(e,t)}function v3(){return null}function mx(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new d3(e,t,r!=null&&r.hydrate===!0),t=Qr(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,ex(t),e[Os]=r.current,cP(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}mx.prototype.render=function(e){dh(e,this._internalRoot,null,null)};mx.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;dh(null,e,null,function(){t[Os]=null})};function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function m3(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new mx(e,0,t?{hydrate:!0}:void 0)}function ld(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=lv(a);s.call(l)}}dh(t,a,e,i)}else{if(o=r._reactRootContainer=m3(r,n),a=o._internalRoot,typeof i=="function"){var u=i;i=function(){var l=lv(a);u.call(l)}}WP(function(){dh(t,a,e,i)})}return lv(a)}zA=function(e){if(e.tag===13){var t=Ur();Ki(e,4,t),vx(e,4)}};$0=function(e){if(e.tag===13){var t=Ur();Ki(e,67108864,t),vx(e,67108864)}};HA=function(e){if(e.tag===13){var t=Ur(),r=Yi(e);Ki(e,r,t),vx(e,r)}};VA=function(e,t){return t()};Og=function(e,t,r){switch(t){case"input":if(_g(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=id(n);if(!i)throw Error(Q(90));kA(n),_g(n,i)}}}break;case"textarea":IA(e,r);break;case"select":t=r.value,t!=null&&Ha(e,!!r.multiple,t,!1)}};D0=VP;jA=function(e,t,r,n,i){var o=ge;ge|=4;try{return Ko(98,e.bind(null,t,r,n,i))}finally{ge=o,ge===0&&(ks(),Qn())}};B0=function(){!(ge&49)&&(r3(),go())};$A=function(e,t){var r=ge;ge|=2;try{return e(t)}finally{ge=r,ge===0&&(ks(),Qn())}};function QP(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(t))throw Error(Q(200));return p3(e,t,null,r)}var g3={Events:[Xl,Ma,id,DA,BA,go,{current:!1}]},fu={findFiberByHostInstance:Fo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},y3={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GA(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||v3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{K0=Pc.inject(y3),zo=Pc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g3;ln.createPortal=QP;ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):Error(Q(268,Object.keys(e)));return e=GA(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e,t){var r=ge;if(r&48)return e(t);ge|=1;try{if(e)return Ko(99,e.bind(null,t))}finally{ge=r,Qn()}};ln.hydrate=function(e,t,r){if(!Zl(t))throw Error(Q(200));return ld(null,e,t,!0,r)};ln.render=function(e,t,r){if(!Zl(t))throw Error(Q(200));return ld(null,e,t,!1,r)};ln.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(Q(40));return e._reactRootContainer?(WP(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[Os]=null})}),!0):!1};ln.unstable_batchedUpdates=VP;ln.unstable_createPortal=function(e,t){return QP(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ln.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zl(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return ld(e,t,r,!1,n)};ln.version="17.0.2";function e2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e2)}catch(e){console.error(e)}}e2(),EA.exports=ln;var t2=EA.exports;const Xn=rr(t2);const _3="_MainStage_main_9enex_1",x3="_MainStage_main_container_9enex_10",b3="_MainStage_bgContainer_9enex_17",S3="_MainStage_showBgSoftly_9enex_1",w3="_MainStage_bgContainer_Settled_9enex_27",E3="_MainStage_oldBgContainer_9enex_37",T3="_MainStage_oldBgFadeout_9enex_1",C3="_MainStage_oldBgContainer_Settled_9enex_47",O3="_pixiContainer_9enex_72",A3="_chooseContainer_9enex_77",cv={MainStage_main:_3,MainStage_main_container:x3,MainStage_bgContainer:b3,MainStage_showBgSoftly:S3,MainStage_bgContainer_Settled:w3,MainStage_oldBgContainer:E3,MainStage_oldBgFadeout:T3,MainStage_oldBgContainer_Settled:C3,pixiContainer:O3,chooseContainer:A3};var r2={exports:{}},n2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=$;function P3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k3=typeof Object.is=="function"?Object.is:P3,R3=ls.useState,I3=ls.useEffect,N3=ls.useLayoutEffect,L3=ls.useDebugValue;function M3(e,t){var r=t(),n=R3({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return N3(function(){i.value=r,i.getSnapshot=t,fv(i)&&o({inst:i})},[e,r,t]),I3(function(){return fv(i)&&o({inst:i}),e(function(){fv(i)&&o({inst:i})})},[e]),L3(r),r}function fv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!k3(e,r)}catch{return!0}}function F3(e,t){return t()}var D3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F3:M3;n2.useSyncExternalStore=ls.useSyncExternalStore!==void 0?ls.useSyncExternalStore:D3;r2.exports=n2;var B3=r2.exports,i2={exports:{}},o2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=$,j3=B3;function $3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U3=typeof Object.is=="function"?Object.is:$3,G3=j3.useSyncExternalStore,z3=cd.useRef,H3=cd.useEffect,V3=cd.useMemo,W3=cd.useDebugValue;o2.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=z3(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=V3(function(){function u(d){if(!l){if(l=!0,c=d,d=n(d),i!==void 0&&a.hasValue){var v=a.value;if(i(v,d))return f=v}return f=d}if(v=f,U3(c,d))return v;var g=n(d);return i!==void 0&&i(v,g)?(c=d,v):(c=d,f=g)}var l=!1,c,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,i]);var s=G3(e,o[0],o[1]);return H3(function(){a.hasValue=!0,a.value=s},[s]),W3(s),s};i2.exports=o2;var q3=i2.exports;function X3(e){e()}let a2=X3;const Y3=e=>a2=e,K3=()=>a2,yw=Symbol.for("react-redux-context"),_w=typeof globalThis<"u"?globalThis:{};function Z3(){var e;if(!$.createContext)return{};const t=(e=_w[yw])!=null?e:_w[yw]=new Map;let r=t.get($.createContext);return r||(r=$.createContext(null),t.set($.createContext,r)),r}const uo=Z3();function gx(e=uo){return function(){return $.useContext(e)}}const s2=gx(),J3=()=>{throw new Error("uSES not initialized!")};let u2=J3;const Q3=e=>{u2=e},eB=(e,t)=>e===t;function tB(e=uo){const t=e===uo?s2:gx(e);return function(n,i={}){const{equalityFn:o=eB,stabilityCheck:a=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:h}=t();$.useRef(!0);const d=$.useCallback({[n.name](g){return n(g)}}[n.name],[n,f,a]),v=u2(l.addNestedSub,u.getState,c||u.getState,d,o);return $.useDebugValue(v),v}}const ve=tB();function rB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l2={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=typeof Symbol=="function"&&Symbol.for,yx=Xt?Symbol.for("react.element"):60103,_x=Xt?Symbol.for("react.portal"):60106,fd=Xt?Symbol.for("react.fragment"):60107,hd=Xt?Symbol.for("react.strict_mode"):60108,dd=Xt?Symbol.for("react.profiler"):60114,pd=Xt?Symbol.for("react.provider"):60109,vd=Xt?Symbol.for("react.context"):60110,xx=Xt?Symbol.for("react.async_mode"):60111,md=Xt?Symbol.for("react.concurrent_mode"):60111,gd=Xt?Symbol.for("react.forward_ref"):60112,yd=Xt?Symbol.for("react.suspense"):60113,nB=Xt?Symbol.for("react.suspense_list"):60120,_d=Xt?Symbol.for("react.memo"):60115,xd=Xt?Symbol.for("react.lazy"):60116,iB=Xt?Symbol.for("react.block"):60121,oB=Xt?Symbol.for("react.fundamental"):60117,aB=Xt?Symbol.for("react.responder"):60118,sB=Xt?Symbol.for("react.scope"):60119;function Vr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yx:switch(e=e.type,e){case xx:case md:case fd:case dd:case hd:case yd:return e;default:switch(e=e&&e.$$typeof,e){case vd:case gd:case xd:case _d:case pd:return e;default:return t}}case _x:return t}}}function c2(e){return Vr(e)===md}Ye.AsyncMode=xx;Ye.ConcurrentMode=md;Ye.ContextConsumer=vd;Ye.ContextProvider=pd;Ye.Element=yx;Ye.ForwardRef=gd;Ye.Fragment=fd;Ye.Lazy=xd;Ye.Memo=_d;Ye.Portal=_x;Ye.Profiler=dd;Ye.StrictMode=hd;Ye.Suspense=yd;Ye.isAsyncMode=function(e){return c2(e)||Vr(e)===xx};Ye.isConcurrentMode=c2;Ye.isContextConsumer=function(e){return Vr(e)===vd};Ye.isContextProvider=function(e){return Vr(e)===pd};Ye.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yx};Ye.isForwardRef=function(e){return Vr(e)===gd};Ye.isFragment=function(e){return Vr(e)===fd};Ye.isLazy=function(e){return Vr(e)===xd};Ye.isMemo=function(e){return Vr(e)===_d};Ye.isPortal=function(e){return Vr(e)===_x};Ye.isProfiler=function(e){return Vr(e)===dd};Ye.isStrictMode=function(e){return Vr(e)===hd};Ye.isSuspense=function(e){return Vr(e)===yd};Ye.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fd||e===md||e===dd||e===hd||e===yd||e===nB||typeof e=="object"&&e!==null&&(e.$$typeof===xd||e.$$typeof===_d||e.$$typeof===pd||e.$$typeof===vd||e.$$typeof===gd||e.$$typeof===oB||e.$$typeof===aB||e.$$typeof===sB||e.$$typeof===iB)};Ye.typeOf=Vr;l2.exports=Ye;var uB=l2.exports,f2=uB,lB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h2={};h2[f2.ForwardRef]=lB;h2[f2.Memo]=cB;var Ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),bd=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),Ed=Symbol.for("react.provider"),Td=Symbol.for("react.context"),fB=Symbol.for("react.server_context"),Cd=Symbol.for("react.forward_ref"),Od=Symbol.for("react.suspense"),Ad=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),kd=Symbol.for("react.lazy"),hB=Symbol.for("react.offscreen"),d2;d2=Symbol.for("react.module.reference");function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bx:switch(e=e.type,e){case bd:case wd:case Sd:case Od:case Ad:return e;default:switch(e=e&&e.$$typeof,e){case fB:case Td:case Cd:case kd:case Pd:case Ed:return e;default:return t}}case Sx:return t}}}Ze.ContextConsumer=Td;Ze.ContextProvider=Ed;Ze.Element=bx;Ze.ForwardRef=Cd;Ze.Fragment=bd;Ze.Lazy=kd;Ze.Memo=Pd;Ze.Portal=Sx;Ze.Profiler=wd;Ze.StrictMode=Sd;Ze.Suspense=Od;Ze.SuspenseList=Ad;Ze.isAsyncMode=function(){return!1};Ze.isConcurrentMode=function(){return!1};Ze.isContextConsumer=function(e){return cn(e)===Td};Ze.isContextProvider=function(e){return cn(e)===Ed};Ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bx};Ze.isForwardRef=function(e){return cn(e)===Cd};Ze.isFragment=function(e){return cn(e)===bd};Ze.isLazy=function(e){return cn(e)===kd};Ze.isMemo=function(e){return cn(e)===Pd};Ze.isPortal=function(e){return cn(e)===Sx};Ze.isProfiler=function(e){return cn(e)===wd};Ze.isStrictMode=function(e){return cn(e)===Sd};Ze.isSuspense=function(e){return cn(e)===Od};Ze.isSuspenseList=function(e){return cn(e)===Ad};Ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bd||e===wd||e===Sd||e===Od||e===Ad||e===hB||typeof e=="object"&&e!==null&&(e.$$typeof===kd||e.$$typeof===Pd||e.$$typeof===Ed||e.$$typeof===Td||e.$$typeof===Cd||e.$$typeof===d2||e.getModuleId!==void 0)};Ze.typeOf=cn;function dB(){const e=K3();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const xw={notify(){},get:()=>[]};function pB(e,t){let r,n=xw,i=0,o=!1;function a(g){c();const p=n.subscribe(g);let m=!1;return()=>{m||(m=!0,p(),f())}}function s(){n.notify()}function u(){v.onStateChange&&v.onStateChange()}function l(){return o}function c(){i++,r||(r=t?t.addNestedSub(u):e.subscribe(u),n=dB())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=xw)}function h(){o||(o=!0,c())}function d(){o&&(o=!1,f())}const v={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:l,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return v}const vB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mB=vB?$.useLayoutEffect:$.useEffect;function p2({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const a=$.useMemo(()=>{const l=pB(e);return{store:e,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[e,n,i,o]),s=$.useMemo(()=>e.getState(),[e]);mB(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const u=t||uo;return $.createElement(u.Provider,{value:a},r)}function v2(e=uo){const t=e===uo?s2:gx(e);return function(){const{store:n}=t();return n}}const gB=v2();function yB(e=uo){const t=e===uo?gB:v2(e);return function(){return t().dispatch}}const nr=yB();Q3(q3.useSyncExternalStoreWithSelector);Y3(t2.unstable_batchedUpdates);var nn=(e=>(e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e))(nn||{}),cs=(e=>(e[e.fangyuan=0]="fangyuan",e[e.yuanhei=1]="yuanhei",e))(cs||{}),gl=(e=>(e[e.yes=0]="yes",e[e.no=1]="no",e))(gl||{}),wx=(e=>(e[e.on=0]="on",e[e.off=1]="off",e))(wx||{});class _B{constructor(t){oe(this,"subject");oe(this,"result");oe(this,"isEnd",!1);this.subject=t}with(t,r){return!this.isEnd&&this.subject===t&&(this.result=r(),this.isEnd=!0),this}endsWith(t,r){return!this.isEnd&&this.subject===t&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(t){return this.isEnd||(this.result=t()),this.evaluate()}evaluate(){return this.result}}function Jl(e){return new _B(e)}function m2(){const e=ve(r=>r.userData.optionData.textboxFont);function t(){return Jl(e).with(cs.yuanhei,()=>'"YH", serif').with(cs.fangyuan,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return t()}function Ex(e){return 3+(100-e)*1.5}function Tx(e){return 200+(100-e)*15}function ny(e){switch(e){case 0:return 155;case 1:return 205;case 2:return 230;default:return 205}}const xB="_TextBox_EventHandler_1aepe_2",bB="_TextBox_Container_1aepe_10",SB="_showSoftly_1aepe_1",wB="_TextBox_main_1aepe_18",EB="_TextBox_main_miniavatarOff_1aepe_39",TB="_TextBox_Background_1aepe_43",CB="_TextBox_textElement_start_1aepe_56",OB="_TextDelayShow_1aepe_1",AB="_outer_1aepe_64",PB="_inner_1aepe_78",kB="_zhanwei_1aepe_89",RB="_TextBox_textElement_Settled_1aepe_97",IB="_TextBox_showName_1aepe_104",NB="_TextBox_ShowName_Background_1aepe_117",LB="_miniAvatarContainer_1aepe_132",MB="_miniAvatarImg_1aepe_142",FB="_nameContainer_1aepe_150",DB="_outerName_1aepe_156",BB="_innerName_1aepe_167",jB="_text_1aepe_174",Qe={TextBox_EventHandler:xB,TextBox_Container:bB,showSoftly:SB,TextBox_main:wB,TextBox_main_miniavatarOff:EB,TextBox_Background:TB,TextBox_textElement_start:CB,TextDelayShow:OB,outer:AB,inner:PB,zhanwei:kB,TextBox_textElement_Settled:RB,TextBox_showName:IB,TextBox_ShowName_Background:NB,miniAvatarContainer:LB,miniAvatarImg:MB,nameContainer:FB,outerName:DB,innerName:BB,text:jB};function yn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lo(e){return!!e&&!!e[ht]}function Si(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===XB}(e)||Array.isArray(e)||!!e[Ow]||!!(!((t=e.constructor)===null||t===void 0)&&t[Ow])||Cx(e)||Ox(e))}function Jo(e,t,r){r===void 0&&(r=!1),Rs(e)===0?(r?Object.keys:es)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Rs(e){var t=e[ht];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Cx(e)?2:Ox(e)?3:0}function Qa(e,t){return Rs(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $B(e,t){return Rs(e)===2?e.get(t):e[t]}function g2(e,t,r){var n=Rs(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function y2(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Cx(e){return WB&&e instanceof Map}function Ox(e){return qB&&e instanceof Set}function Oo(e){return e.o||e.t}function Ax(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=x2(e);delete t[ht];for(var r=es(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Px(e,t){return t===void 0&&(t=!1),kx(e)||lo(e)||!Si(e)||(Rs(e)>1&&(e.set=e.add=e.clear=e.delete=UB),Object.freeze(e),t&&Jo(e,function(r,n){return Px(n,!0)},!0)),e}function UB(){yn(2)}function kx(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Vn(e){var t=sy[e];return t||yn(18,e),t}function GB(e,t){sy[e]||(sy[e]=t)}function iy(){return yl}function hv(e,t){t&&(Vn("Patches"),e.u=[],e.s=[],e.v=t)}function ph(e){oy(e),e.p.forEach(zB),e.p=null}function oy(e){e===yl&&(yl=e.l)}function bw(e){return yl={p:[],l:yl,h:e,m:!0,_:0}}function zB(e){var t=e[ht];t.i===0||t.i===1?t.j():t.g=!0}function dv(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Vn("ES5").S(t,e,n),n?(r[ht].P&&(ph(t),yn(4)),Si(e)&&(e=vh(t,e),t.l||mh(t,e)),t.u&&Vn("Patches").M(r[ht].t,e,t.u,t.s)):e=vh(t,r,[]),ph(t),t.u&&t.v(t.u,t.s),e!==_2?e:void 0}function vh(e,t,r){if(kx(t))return t;var n=t[ht];if(!n)return Jo(t,function(s,u){return Sw(e,n,t,s,u,r)},!0),t;if(n.A!==e)return t;if(!n.P)return mh(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Ax(n.k):n.o,o=i,a=!1;n.i===3&&(o=new Set(i),i.clear(),a=!0),Jo(o,function(s,u){return Sw(e,n,i,s,u,r,a)}),mh(e,i,!1),r&&e.u&&Vn("Patches").N(n,r,e.u,e.s)}return n.o}function Sw(e,t,r,n,i,o,a){if(lo(i)){var s=vh(e,i,o&&t&&t.i!==3&&!Qa(t.R,n)?o.concat(n):void 0);if(g2(r,n,s),!lo(s))return;e.m=!1}else a&&r.add(i);if(Si(i)&&!kx(i)){if(!e.h.D&&e._<1)return;vh(e,i),t&&t.A.l||mh(e,i)}}function mh(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Px(t,r)}function pv(e,t){var r=e[ht];return(r?Oo(r):e)[t]}function ww(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Mi(e){e.P||(e.P=!0,e.l&&Mi(e.l))}function vv(e){e.o||(e.o=Ax(e.t))}function ay(e,t,r){var n=Cx(t)?Vn("MapSet").F(t,r):Ox(t)?Vn("MapSet").T(t,r):e.O?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:iy(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},u=s,l=_l;a&&(u=[s],l=Iu);var c=Proxy.revocable(u,l),f=c.revoke,h=c.proxy;return s.k=h,s.j=f,h}(t,r):Vn("ES5").J(t,r);return(r?r.A:iy()).p.push(n),n}function HB(e){return lo(e)||yn(22,e),function t(r){if(!Si(r))return r;var n,i=r[ht],o=Rs(r);if(i){if(!i.P&&(i.i<4||!Vn("ES5").K(i)))return i.t;i.I=!0,n=Ew(r,o),i.I=!1}else n=Ew(r,o);return Jo(n,function(a,s){i&&$B(i.t,a)===s||g2(n,a,t(s))}),o===3?new Set(n):n}(e)}function Ew(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ax(e)}function VB(){function e(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var u=this[ht];return _l.get(u,o)},set:function(u){var l=this[ht];_l.set(l,o,u)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][ht];if(!s.P)switch(s.i){case 5:n(s)&&Mi(s);break;case 4:r(s)&&Mi(s)}}}function r(o){for(var a=o.t,s=o.k,u=es(s),l=u.length-1;l>=0;l--){var c=u[l];if(c!==ht){var f=a[c];if(f===void 0&&!Qa(a,c))return!0;var h=s[c],d=h&&h[ht];if(d?d.t!==f:!y2(h,f))return!0}}var v=!!a[ht];return u.length!==es(a).length+(v?0:1)}function n(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var u=0;u<a.length;u++)if(!a.hasOwnProperty(u))return!0;return!1}var i={};GB("ES5",{J:function(o,a){var s=Array.isArray(o),u=function(c,f){if(c){for(var h=Array(f.length),d=0;d<f.length;d++)Object.defineProperty(h,""+d,e(d,!0));return h}var v=x2(f);delete v[ht];for(var g=es(v),p=0;p<g.length;p++){var m=g[p];v[m]=e(m,c||!!v[m].enumerable)}return Object.create(Object.getPrototypeOf(f),v)}(s,o),l={i:s?5:4,A:a?a.A:iy(),P:!1,I:!1,R:{},l:a,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,ht,{value:l,writable:!0}),u},S:function(o,a,s){s?lo(a)&&a[ht].A===o&&t(o.p):(o.u&&function u(l){if(l&&typeof l=="object"){var c=l[ht];if(c){var f=c.t,h=c.k,d=c.R,v=c.i;if(v===4)Jo(h,function(_){_!==ht&&(f[_]!==void 0||Qa(f,_)?d[_]||u(h[_]):(d[_]=!0,Mi(c)))}),Jo(f,function(_){h[_]!==void 0||Qa(h,_)||(d[_]=!1,Mi(c))});else if(v===5){if(n(c)&&(Mi(c),d.length=!0),h.length<f.length)for(var g=h.length;g<f.length;g++)d[g]=!1;else for(var p=f.length;p<h.length;p++)d[p]=!0;for(var m=Math.min(h.length,f.length),y=0;y<m;y++)h.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&u(h[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var Tw,yl,Rx=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",WB=typeof Map<"u",qB=typeof Set<"u",Cw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",_2=Rx?Symbol.for("immer-nothing"):((Tw={})["immer-nothing"]=!0,Tw),Ow=Rx?Symbol.for("immer-draftable"):"__$immer_draftable",ht=Rx?Symbol.for("immer-state"):"__$immer_state",XB=""+Object.prototype.constructor,es=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,x2=Object.getOwnPropertyDescriptors||function(e){var t={};return es(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},sy={},_l={get:function(e,t){if(t===ht)return e;var r=Oo(e);if(!Qa(r,t))return function(i,o,a){var s,u=ww(o,a);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Si(n)?n:n===pv(e.t,t)?(vv(e),e.o[t]=ay(e.A.h,n,e)):n},has:function(e,t){return t in Oo(e)},ownKeys:function(e){return Reflect.ownKeys(Oo(e))},set:function(e,t,r){var n=ww(Oo(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=pv(Oo(e),t),o=i==null?void 0:i[ht];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(y2(r,i)&&(r!==void 0||Qa(e.t,t)))return!0;vv(e),Mi(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return pv(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,vv(e),Mi(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Oo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){yn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){yn(12)}},Iu={};Jo(_l,function(e,t){Iu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Iu.deleteProperty=function(e,t){return Iu.set.call(this,e,t,void 0)},Iu.set=function(e,t,r){return _l.set.call(this,e[0],t,r,e[0])};var YB=function(){function e(r){var n=this;this.O=Cw,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var u=n;return function(g){var p=this;g===void 0&&(g=s);for(var m=arguments.length,y=Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];return u.produce(g,function(x){var b;return(b=o).call.apply(b,[p,x].concat(y))})}}var l;if(typeof o!="function"&&yn(6),a!==void 0&&typeof a!="function"&&yn(7),Si(i)){var c=bw(n),f=ay(n,i,void 0),h=!0;try{l=o(f),h=!1}finally{h?ph(c):oy(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return hv(c,a),dv(g,c)},function(g){throw ph(c),g}):(hv(c,a),dv(l,c))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===_2&&(l=void 0),n.D&&Px(l,!0),a){var d=[],v=[];Vn("Patches").M(i,l,d,v),a(d,v)}return l}yn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(f))})};var a,s,u=n.produce(i,o,function(l,c){a=l,s=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,a,s]}):[u,a,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Si(r)||yn(8),lo(r)&&(r=HB(r));var n=bw(this),i=ay(this,r,void 0);return i[ht].C=!0,oy(n),i},t.finishDraft=function(r,n){var i=r&&r[ht],o=i.A;return hv(o,n),dv(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Cw&&yn(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var a=Vn("Patches").$;return lo(r)?a(r,n):this.produce(r,function(s){return a(s,n)})},e}(),zr=new YB,b2=zr.produce;zr.produceWithPatches.bind(zr);zr.setAutoFreeze.bind(zr);zr.setUseProxies.bind(zr);zr.applyPatches.bind(zr);zr.createDraft.bind(zr);zr.finishDraft.bind(zr);function Vt(e){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}function KB(e,t){if(Vt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2(e){var t=KB(e,"string");return Vt(t)=="symbol"?t:t+""}function Wr(e,t,r){return(t=S2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var kw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mv=function(){return Math.random().toString(36).substring(7).split("").join(".")},gh={INIT:"@@redux/INIT"+mv(),REPLACE:"@@redux/REPLACE"+mv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mv()}};function ZB(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function w2(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(lr(1));return r(w2)(e,t)}if(typeof e!="function")throw new Error(lr(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(lr(3));return o}function f(g){if(typeof g!="function")throw new Error(lr(4));if(u)throw new Error(lr(5));var p=!0;return l(),s.push(g),function(){if(p){if(u)throw new Error(lr(6));p=!1,l();var y=s.indexOf(g);s.splice(y,1),a=null}}}function h(g){if(!ZB(g))throw new Error(lr(7));if(typeof g.type>"u")throw new Error(lr(8));if(u)throw new Error(lr(9));try{u=!0,o=i(o,g)}finally{u=!1}for(var p=a=s,m=0;m<p.length;m++){var y=p[m];y()}return g}function d(g){if(typeof g!="function")throw new Error(lr(10));i=g,h({type:gh.REPLACE})}function v(){var g,p=f;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(lr(11));function _(){y.next&&y.next(c())}_();var x=p(_);return{unsubscribe:x}}},g[kw]=function(){return this},g}return h({type:gh.INIT}),n={dispatch:h,subscribe:f,getState:c,replaceReducer:d},n[kw]=v,n}function JB(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:gh.INIT});if(typeof n>"u")throw new Error(lr(12));if(typeof r(void 0,{type:gh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function QB(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),a;try{JB(r)}catch(s){a=s}return function(u,l){if(u===void 0&&(u={}),a)throw a;for(var c=!1,f={},h=0;h<o.length;h++){var d=o[h],v=r[d],g=u[d],p=v(g,l);if(typeof p>"u")throw l&&l.type,new Error(lr(14));f[d]=p,c=c||p!==g}return c=c||o.length!==Object.keys(u).length,c?f:u}}function yh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function ej(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(lr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(u){return u(a)});return o=yh.apply(void 0,s)(i.dispatch),Pw(Pw({},i),{},{dispatch:o})}}}function E2(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,e):a(s)}}};return t}var T2=E2();T2.withExtraArgument=E2;const Rw=T2;var C2=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tj=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},fs=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},rj=Object.defineProperty,nj=Object.defineProperties,ij=Object.getOwnPropertyDescriptors,Iw=Object.getOwnPropertySymbols,oj=Object.prototype.hasOwnProperty,aj=Object.prototype.propertyIsEnumerable,Nw=function(e,t,r){return t in e?rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Ji=function(e,t){for(var r in t||(t={}))oj.call(t,r)&&Nw(e,r,t[r]);if(Iw)for(var n=0,i=Iw(t);n<i.length;n++){var r=i[n];aj.call(t,r)&&Nw(e,r,t[r])}return e},gv=function(e,t){return nj(e,ij(t))},sj=function(e,t,r){return new Promise(function(n,i){var o=function(u){try{s(r.next(u))}catch(l){i(l)}},a=function(u){try{s(r.throw(u))}catch(l){i(l)}},s=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(o,a)};s((r=r.apply(e,t)).next())})},uj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yh:yh.apply(null,arguments)};function lj(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function Qi(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ji(Ji({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var cj=function(e){C2(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,fs([void 0],r[0].concat(this)))):new(t.bind.apply(t,fs([void 0],r.concat(this))))},t}(Array),fj=function(e){C2(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,fs([void 0],r[0].concat(this)))):new(t.bind.apply(t,fs([void 0],r.concat(this))))},t}(Array);function uy(e){return Si(e)?b2(e,function(){}):e}function hj(e){return typeof e=="boolean"}function dj(){return function(t){return O2(t)}}function O2(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new cj;return r&&(hj(r)?n.push(Rw):n.push(Rw.withExtraArgument(r.extraArgument))),n}var pj=!0;function vj(e){var t=dj(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,a=o===void 0?t():o,s=r.devTools,u=s===void 0?!0:s,l=r.preloadedState,c=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,d;if(typeof i=="function")d=i;else if(lj(i))d=QB(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=a;typeof v=="function"&&(v=v(t));var g=ej.apply(void 0,v),p=yh;u&&(p=uj(Ji({trace:!pj},typeof u=="object"&&u)));var m=new fj(g),y=m;Array.isArray(h)?y=fs([g],h):typeof h=="function"&&(y=h(m));var _=p.apply(void 0,y);return w2(d,c,_)}function A2(e){var t={},r=[],n,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=a,i},addMatcher:function(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function mj(e){return typeof e=="function"}function gj(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?A2(t):[t,r,n],o=i[0],a=i[1],s=i[2],u;if(mj(e))u=function(){return uy(e())};else{var l=uy(e);u=function(){return l}}function c(f,h){f===void 0&&(f=u());var d=fs([o[h.type]],a.filter(function(v){var g=v.matcher;return g(h)}).map(function(v){var g=v.reducer;return g}));return d.filter(function(v){return!!v}).length===0&&(d=[s]),d.reduce(function(v,g){if(g)if(lo(v)){var p=v,m=g(p,h);return m===void 0?v:m}else{if(Si(v))return b2(v,function(y){return g(y,h)});var m=g(v,h);if(m===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return v},f)}return c.getInitialState=u,c}function yj(e,t){return e+"/"+t}function Rd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:uy(e.initialState),n=e.reducers||{},i=Object.keys(n),o={},a={},s={};i.forEach(function(c){var f=n[c],h=yj(t,c),d,v;"reducer"in f?(d=f.reducer,v=f.prepare):d=f,o[c]=d,a[h]=d,s[c]=v?Qi(h,v):Qi(h)});function u(){var c=typeof e.extraReducers=="function"?A2(e.extraReducers):[e.extraReducers],f=c[0],h=f===void 0?{}:f,d=c[1],v=d===void 0?[]:d,g=c[2],p=g===void 0?void 0:g,m=Ji(Ji({},h),a);return gj(r,function(y){for(var _ in m)y.addCase(_,m[_]);for(var x=0,b=v;x<b.length;x++){var w=b[x];y.addMatcher(w.matcher,w.reducer)}p&&y.addDefaultCase(p)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:s,caseReducers:o,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var _j="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xj=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=_j[Math.random()*64|0];return t},bj=["name","message","stack","code"],yv=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Lw=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Sj=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=bj;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,r,n){var i=Qi(t+"/fulfilled",function(l,c,f,h){return{payload:l,meta:gv(Ji({},h||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),o=Qi(t+"/pending",function(l,c,f){return{payload:void 0,meta:gv(Ji({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),a=Qi(t+"/rejected",function(l,c,f,h,d){return{payload:h,error:(n&&n.serializeError||Sj)(l||"Rejected"),meta:gv(Ji({},d||{}),{arg:f,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,h){var d=n!=null&&n.idGenerator?n.idGenerator(l):xj(),v=new s,g;function p(y){g=y,v.abort()}var m=function(){return sj(this,null,function(){var y,_,x,b,w,E,P;return tj(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),b=(y=n==null?void 0:n.condition)==null?void 0:y.call(n,l,{getState:f,extra:h}),Ej(b)?[4,b]:[3,2];case 1:b=A.sent(),A.label=2;case 2:if(b===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(k,F){return v.signal.addEventListener("abort",function(){return F({name:"AbortError",message:g||"Aborted"})})}),c(o(d,l,(_=n==null?void 0:n.getPendingMeta)==null?void 0:_.call(n,{requestId:d,arg:l},{getState:f,extra:h}))),[4,Promise.race([w,Promise.resolve(r(l,{dispatch:c,getState:f,extra:h,requestId:d,signal:v.signal,abort:p,rejectWithValue:function(k,F){return new yv(k,F)},fulfillWithValue:function(k,F){return new Lw(k,F)}})).then(function(k){if(k instanceof yv)throw k;return k instanceof Lw?i(k.payload,d,l,k.meta):i(k,d,l)})])];case 3:return x=A.sent(),[3,5];case 4:return E=A.sent(),x=E instanceof yv?a(null,d,l,E.payload,E.meta):a(E,d,l),[3,5];case 5:return P=n&&!n.dispatchConditionRejection&&a.match(x)&&x.meta.condition,P||c(x),[2,x]}})})}();return Object.assign(m,{abort:p,requestId:d,arg:l,unwrap:function(){return m.then(wj)}})}}return Object.assign(u,{pending:o,rejected:a,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function wj(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Ej(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Ix="listenerMiddleware";Qi(Ix+"/add");Qi(Ix+"/removeAll");Qi(Ix+"/remove");var Mw;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);VB();function Tj(){this.__data__=[],this.size=0}var Cj=Tj;function Oj(e,t){return e===t||e!==e&&t!==t}var Id=Oj,Aj=Id;function Pj(e,t){for(var r=e.length;r--;)if(Aj(e[r][0],t))return r;return-1}var Nd=Pj,kj=Nd,Rj=Array.prototype,Ij=Rj.splice;function Nj(e){var t=this.__data__,r=kj(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ij.call(t,r,1),--this.size,!0}var Lj=Nj,Mj=Nd;function Fj(e){var t=this.__data__,r=Mj(t,e);return r<0?void 0:t[r][1]}var Dj=Fj,Bj=Nd;function jj(e){return Bj(this.__data__,e)>-1}var $j=jj,Uj=Nd;function Gj(e,t){var r=this.__data__,n=Uj(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var zj=Gj,Hj=Cj,Vj=Lj,Wj=Dj,qj=$j,Xj=zj;function Is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Is.prototype.clear=Hj;Is.prototype.delete=Vj;Is.prototype.get=Wj;Is.prototype.has=qj;Is.prototype.set=Xj;var Ld=Is,Yj=Ld;function Kj(){this.__data__=new Yj,this.size=0}var Zj=Kj;function Jj(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Qj=Jj;function e4(e){return this.__data__.get(e)}var t4=e4;function r4(e){return this.__data__.has(e)}var n4=r4,i4=typeof $r=="object"&&$r&&$r.Object===Object&&$r,P2=i4,o4=P2,a4=typeof self=="object"&&self&&self.Object===Object&&self,s4=o4||a4||Function("return this")(),En=s4,u4=En,l4=u4.Symbol,Ql=l4,Fw=Ql,k2=Object.prototype,c4=k2.hasOwnProperty,f4=k2.toString,hu=Fw?Fw.toStringTag:void 0;function h4(e){var t=c4.call(e,hu),r=e[hu];try{e[hu]=void 0;var n=!0}catch{}var i=f4.call(e);return n&&(t?e[hu]=r:delete e[hu]),i}var d4=h4,p4=Object.prototype,v4=p4.toString;function m4(e){return v4.call(e)}var g4=m4,Dw=Ql,y4=d4,_4=g4,x4="[object Null]",b4="[object Undefined]",Bw=Dw?Dw.toStringTag:void 0;function S4(e){return e==null?e===void 0?b4:x4:Bw&&Bw in Object(e)?y4(e):_4(e)}var ec=S4;function w4(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tn=w4,E4=ec,T4=Tn,C4="[object AsyncFunction]",O4="[object Function]",A4="[object GeneratorFunction]",P4="[object Proxy]";function k4(e){if(!T4(e))return!1;var t=E4(e);return t==O4||t==A4||t==C4||t==P4}var R2=k4,R4=En,I4=R4["__core-js_shared__"],N4=I4,_v=N4,jw=function(){var e=/[^.]+$/.exec(_v&&_v.keys&&_v.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function L4(e){return!!jw&&jw in e}var M4=L4,F4=Function.prototype,D4=F4.toString;function B4(e){if(e!=null){try{return D4.call(e)}catch{}try{return e+""}catch{}}return""}var I2=B4,j4=R2,$4=M4,U4=Tn,G4=I2,z4=/[\\^$.*+?()[\]{}|]/g,H4=/^\[object .+?Constructor\]$/,V4=Function.prototype,W4=Object.prototype,q4=V4.toString,X4=W4.hasOwnProperty,Y4=RegExp("^"+q4.call(X4).replace(z4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K4(e){if(!U4(e)||$4(e))return!1;var t=j4(e)?Y4:H4;return t.test(G4(e))}var Z4=K4;function J4(e,t){return e==null?void 0:e[t]}var Q4=J4,e$=Z4,t$=Q4;function r$(e,t){var r=t$(e,t);return e$(r)?r:void 0}var ua=r$,n$=ua,i$=En,o$=n$(i$,"Map"),Nx=o$,a$=ua,s$=a$(Object,"create"),Md=s$,$w=Md;function u$(){this.__data__=$w?$w(null):{},this.size=0}var l$=u$;function c$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var f$=c$,h$=Md,d$="__lodash_hash_undefined__",p$=Object.prototype,v$=p$.hasOwnProperty;function m$(e){var t=this.__data__;if(h$){var r=t[e];return r===d$?void 0:r}return v$.call(t,e)?t[e]:void 0}var g$=m$,y$=Md,_$=Object.prototype,x$=_$.hasOwnProperty;function b$(e){var t=this.__data__;return y$?t[e]!==void 0:x$.call(t,e)}var S$=b$,w$=Md,E$="__lodash_hash_undefined__";function T$(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=w$&&t===void 0?E$:t,this}var C$=T$,O$=l$,A$=f$,P$=g$,k$=S$,R$=C$;function Ns(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ns.prototype.clear=O$;Ns.prototype.delete=A$;Ns.prototype.get=P$;Ns.prototype.has=k$;Ns.prototype.set=R$;var I$=Ns,Uw=I$,N$=Ld,L$=Nx;function M$(){this.size=0,this.__data__={hash:new Uw,map:new(L$||N$),string:new Uw}}var F$=M$;function D$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var B$=D$,j$=B$;function $$(e,t){var r=e.__data__;return j$(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fd=$$,U$=Fd;function G$(e){var t=U$(this,e).delete(e);return this.size-=t?1:0,t}var z$=G$,H$=Fd;function V$(e){return H$(this,e).get(e)}var W$=V$,q$=Fd;function X$(e){return q$(this,e).has(e)}var Y$=X$,K$=Fd;function Z$(e,t){var r=K$(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var J$=Z$,Q$=F$,eU=z$,tU=W$,rU=Y$,nU=J$;function Ls(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ls.prototype.clear=Q$;Ls.prototype.delete=eU;Ls.prototype.get=tU;Ls.prototype.has=rU;Ls.prototype.set=nU;var Lx=Ls,iU=Ld,oU=Nx,aU=Lx,sU=200;function uU(e,t){var r=this.__data__;if(r instanceof iU){var n=r.__data__;if(!oU||n.length<sU-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new aU(n)}return r.set(e,t),this.size=r.size,this}var lU=uU,cU=Ld,fU=Zj,hU=Qj,dU=t4,pU=n4,vU=lU;function Ms(e){var t=this.__data__=new cU(e);this.size=t.size}Ms.prototype.clear=fU;Ms.prototype.delete=hU;Ms.prototype.get=dU;Ms.prototype.has=pU;Ms.prototype.set=vU;var Mx=Ms;function mU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var gU=mU,yU=ua,_U=function(){try{var e=yU(Object,"defineProperty");return e({},"",{}),e}catch{}}(),xU=_U,Gw=xU;function bU(e,t,r){t=="__proto__"&&Gw?Gw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var N2=bU,SU=N2,wU=Id,EU=Object.prototype,TU=EU.hasOwnProperty;function CU(e,t,r){var n=e[t];(!(TU.call(e,t)&&wU(n,r))||r===void 0&&!(t in e))&&SU(e,t,r)}var Fx=CU,OU=Fx,AU=N2;function PU(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=n?n(r[s],e[s],s,r,e):void 0;u===void 0&&(u=e[s]),i?AU(r,s,u):OU(r,s,u)}return r}var Dd=PU;function kU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var RU=kU;function IU(e){return e!=null&&typeof e=="object"}var la=IU,NU=ec,LU=la,MU="[object Arguments]";function FU(e){return LU(e)&&NU(e)==MU}var DU=FU,zw=DU,BU=la,L2=Object.prototype,jU=L2.hasOwnProperty,$U=L2.propertyIsEnumerable,UU=zw(function(){return arguments}())?zw:function(e){return BU(e)&&jU.call(e,"callee")&&!$U.call(e,"callee")},M2=UU,GU=Array.isArray,Ei=GU,_h={exports:{}};function zU(){return!1}var HU=zU;_h.exports;(function(e,t){var r=En,n=HU,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;e.exports=l})(_h,_h.exports);var Dx=_h.exports,VU=9007199254740991,WU=/^(?:0|[1-9]\d*)$/;function qU(e,t){var r=typeof e;return t=t??VU,!!t&&(r=="number"||r!="symbol"&&WU.test(e))&&e>-1&&e%1==0&&e<t}var Bd=qU,XU=9007199254740991;function YU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=XU}var Bx=YU,KU=ec,ZU=Bx,JU=la,QU="[object Arguments]",e5="[object Array]",t5="[object Boolean]",r5="[object Date]",n5="[object Error]",i5="[object Function]",o5="[object Map]",a5="[object Number]",s5="[object Object]",u5="[object RegExp]",l5="[object Set]",c5="[object String]",f5="[object WeakMap]",h5="[object ArrayBuffer]",d5="[object DataView]",p5="[object Float32Array]",v5="[object Float64Array]",m5="[object Int8Array]",g5="[object Int16Array]",y5="[object Int32Array]",_5="[object Uint8Array]",x5="[object Uint8ClampedArray]",b5="[object Uint16Array]",S5="[object Uint32Array]",at={};at[p5]=at[v5]=at[m5]=at[g5]=at[y5]=at[_5]=at[x5]=at[b5]=at[S5]=!0;at[QU]=at[e5]=at[h5]=at[t5]=at[d5]=at[r5]=at[n5]=at[i5]=at[o5]=at[a5]=at[s5]=at[u5]=at[l5]=at[c5]=at[f5]=!1;function w5(e){return JU(e)&&ZU(e.length)&&!!at[KU(e)]}var E5=w5;function T5(e){return function(t){return e(t)}}var jx=T5,xh={exports:{}};xh.exports;(function(e,t){var r=P2,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(xh,xh.exports);var $x=xh.exports,C5=E5,O5=jx,Hw=$x,Vw=Hw&&Hw.isTypedArray,A5=Vw?O5(Vw):C5,F2=A5,P5=RU,k5=M2,R5=Ei,I5=Dx,N5=Bd,L5=F2,M5=Object.prototype,F5=M5.hasOwnProperty;function D5(e,t){var r=R5(e),n=!r&&k5(e),i=!r&&!n&&I5(e),o=!r&&!n&&!i&&L5(e),a=r||n||i||o,s=a?P5(e.length,String):[],u=s.length;for(var l in e)(t||F5.call(e,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||N5(l,u)))&&s.push(l);return s}var D2=D5,B5=Object.prototype;function j5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||B5;return e===r}var Ux=j5;function $5(e,t){return function(r){return e(t(r))}}var B2=$5,U5=B2,G5=U5(Object.keys,Object),z5=G5,H5=Ux,V5=z5,W5=Object.prototype,q5=W5.hasOwnProperty;function X5(e){if(!H5(e))return V5(e);var t=[];for(var r in Object(e))q5.call(e,r)&&r!="constructor"&&t.push(r);return t}var Y5=X5,K5=R2,Z5=Bx;function J5(e){return e!=null&&Z5(e.length)&&!K5(e)}var Gx=J5,Q5=D2,e8=Y5,t8=Gx;function r8(e){return t8(e)?Q5(e):e8(e)}var jd=r8,n8=Dd,i8=jd;function o8(e,t){return e&&n8(t,i8(t),e)}var a8=o8;function s8(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var u8=s8,l8=Tn,c8=Ux,f8=u8,h8=Object.prototype,d8=h8.hasOwnProperty;function p8(e){if(!l8(e))return f8(e);var t=c8(e),r=[];for(var n in e)n=="constructor"&&(t||!d8.call(e,n))||r.push(n);return r}var v8=p8,m8=D2,g8=v8,y8=Gx;function _8(e){return y8(e)?m8(e,!0):g8(e)}var zx=_8,x8=Dd,b8=zx;function S8(e,t){return e&&x8(t,b8(t),e)}var w8=S8,bh={exports:{}};bh.exports;(function(e,t){var r=En,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,a=o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}e.exports=u})(bh,bh.exports);var E8=bh.exports;function T8(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var C8=T8;function O8(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}var A8=O8;function P8(){return[]}var j2=P8,k8=A8,R8=j2,I8=Object.prototype,N8=I8.propertyIsEnumerable,Ww=Object.getOwnPropertySymbols,L8=Ww?function(e){return e==null?[]:(e=Object(e),k8(Ww(e),function(t){return N8.call(e,t)}))}:R8,Hx=L8,M8=Dd,F8=Hx;function D8(e,t){return M8(e,F8(e),t)}var B8=D8;function j8(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var $2=j8,$8=B2,U8=$8(Object.getPrototypeOf,Object),U2=U8,G8=$2,z8=U2,H8=Hx,V8=j2,W8=Object.getOwnPropertySymbols,q8=W8?function(e){for(var t=[];e;)G8(t,H8(e)),e=z8(e);return t}:V8,G2=q8,X8=Dd,Y8=G2;function K8(e,t){return X8(e,Y8(e),t)}var Z8=K8,J8=$2,Q8=Ei;function e6(e,t,r){var n=t(e);return Q8(e)?n:J8(n,r(e))}var z2=e6,t6=z2,r6=Hx,n6=jd;function i6(e){return t6(e,n6,r6)}var H2=i6,o6=z2,a6=G2,s6=zx;function u6(e){return o6(e,s6,a6)}var V2=u6,l6=ua,c6=En,f6=l6(c6,"DataView"),h6=f6,d6=ua,p6=En,v6=d6(p6,"Promise"),m6=v6,g6=ua,y6=En,_6=g6(y6,"Set"),W2=_6,x6=ua,b6=En,S6=x6(b6,"WeakMap"),w6=S6,ly=h6,cy=Nx,fy=m6,hy=W2,dy=w6,q2=ec,Fs=I2,qw="[object Map]",E6="[object Object]",Xw="[object Promise]",Yw="[object Set]",Kw="[object WeakMap]",Zw="[object DataView]",T6=Fs(ly),C6=Fs(cy),O6=Fs(fy),A6=Fs(hy),P6=Fs(dy),Ao=q2;(ly&&Ao(new ly(new ArrayBuffer(1)))!=Zw||cy&&Ao(new cy)!=qw||fy&&Ao(fy.resolve())!=Xw||hy&&Ao(new hy)!=Yw||dy&&Ao(new dy)!=Kw)&&(Ao=function(e){var t=q2(e),r=t==E6?e.constructor:void 0,n=r?Fs(r):"";if(n)switch(n){case T6:return Zw;case C6:return qw;case O6:return Xw;case A6:return Yw;case P6:return Kw}return t});var $d=Ao,k6=Object.prototype,R6=k6.hasOwnProperty;function I6(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&R6.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var N6=I6,L6=En,M6=L6.Uint8Array,X2=M6,Jw=X2;function F6(e){var t=new e.constructor(e.byteLength);return new Jw(t).set(new Jw(e)),t}var Vx=F6,D6=Vx;function B6(e,t){var r=t?D6(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var j6=B6,$6=/\w*$/;function U6(e){var t=new e.constructor(e.source,$6.exec(e));return t.lastIndex=e.lastIndex,t}var G6=U6,Qw=Ql,eE=Qw?Qw.prototype:void 0,tE=eE?eE.valueOf:void 0;function z6(e){return tE?Object(tE.call(e)):{}}var H6=z6,V6=Vx;function W6(e,t){var r=t?V6(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var q6=W6,X6=Vx,Y6=j6,K6=G6,Z6=H6,J6=q6,Q6="[object Boolean]",eG="[object Date]",tG="[object Map]",rG="[object Number]",nG="[object RegExp]",iG="[object Set]",oG="[object String]",aG="[object Symbol]",sG="[object ArrayBuffer]",uG="[object DataView]",lG="[object Float32Array]",cG="[object Float64Array]",fG="[object Int8Array]",hG="[object Int16Array]",dG="[object Int32Array]",pG="[object Uint8Array]",vG="[object Uint8ClampedArray]",mG="[object Uint16Array]",gG="[object Uint32Array]";function yG(e,t,r){var n=e.constructor;switch(t){case sG:return X6(e);case Q6:case eG:return new n(+e);case uG:return Y6(e,r);case lG:case cG:case fG:case hG:case dG:case pG:case vG:case mG:case gG:return J6(e,r);case tG:return new n;case rG:case oG:return new n(e);case nG:return K6(e);case iG:return new n;case aG:return Z6(e)}}var _G=yG,xG=Tn,rE=Object.create,bG=function(){function e(){}return function(t){if(!xG(t))return{};if(rE)return rE(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),SG=bG,wG=SG,EG=U2,TG=Ux;function CG(e){return typeof e.constructor=="function"&&!TG(e)?wG(EG(e)):{}}var OG=CG,AG=$d,PG=la,kG="[object Map]";function RG(e){return PG(e)&&AG(e)==kG}var IG=RG,NG=IG,LG=jx,nE=$x,iE=nE&&nE.isMap,MG=iE?LG(iE):NG,FG=MG,DG=$d,BG=la,jG="[object Set]";function $G(e){return BG(e)&&DG(e)==jG}var UG=$G,GG=UG,zG=jx,oE=$x,aE=oE&&oE.isSet,HG=aE?zG(aE):GG,VG=HG,WG=Mx,qG=gU,XG=Fx,YG=a8,KG=w8,ZG=E8,JG=C8,QG=B8,ez=Z8,tz=H2,rz=V2,nz=$d,iz=N6,oz=_G,az=OG,sz=Ei,uz=Dx,lz=FG,cz=Tn,fz=VG,hz=jd,dz=zx,pz=1,vz=2,mz=4,Y2="[object Arguments]",gz="[object Array]",yz="[object Boolean]",_z="[object Date]",xz="[object Error]",K2="[object Function]",bz="[object GeneratorFunction]",Sz="[object Map]",wz="[object Number]",Z2="[object Object]",Ez="[object RegExp]",Tz="[object Set]",Cz="[object String]",Oz="[object Symbol]",Az="[object WeakMap]",Pz="[object ArrayBuffer]",kz="[object DataView]",Rz="[object Float32Array]",Iz="[object Float64Array]",Nz="[object Int8Array]",Lz="[object Int16Array]",Mz="[object Int32Array]",Fz="[object Uint8Array]",Dz="[object Uint8ClampedArray]",Bz="[object Uint16Array]",jz="[object Uint32Array]",tt={};tt[Y2]=tt[gz]=tt[Pz]=tt[kz]=tt[yz]=tt[_z]=tt[Rz]=tt[Iz]=tt[Nz]=tt[Lz]=tt[Mz]=tt[Sz]=tt[wz]=tt[Z2]=tt[Ez]=tt[Tz]=tt[Cz]=tt[Oz]=tt[Fz]=tt[Dz]=tt[Bz]=tt[jz]=!0;tt[xz]=tt[K2]=tt[Az]=!1;function Ef(e,t,r,n,i,o){var a,s=t&pz,u=t&vz,l=t&mz;if(r&&(a=i?r(e,n,i,o):r(e)),a!==void 0)return a;if(!cz(e))return e;var c=sz(e);if(c){if(a=iz(e),!s)return JG(e,a)}else{var f=nz(e),h=f==K2||f==bz;if(uz(e))return ZG(e,s);if(f==Z2||f==Y2||h&&!i){if(a=u||h?{}:az(e),!s)return u?ez(e,KG(a,e)):QG(e,YG(a,e))}else{if(!tt[f])return i?e:{};a=oz(e,f,s)}}o||(o=new WG);var d=o.get(e);if(d)return d;o.set(e,a),fz(e)?e.forEach(function(p){a.add(Ef(p,t,r,p,e,o))}):lz(e)&&e.forEach(function(p,m){a.set(m,Ef(p,t,r,m,e,o))});var v=l?u?rz:tz:u?dz:hz,g=c?void 0:v(e);return qG(g||e,function(p,m){g&&(m=p,p=e[m]),XG(a,m,Ef(p,t,r,m,e,o))}),a}var $z=Ef,Uz=$z,Gz=1,zz=4;function Hz(e){return Uz(e,Gz|zz)}var Vz=Hz;const yt=rr(Vz);var Re=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setComplexAnimation=12]="setComplexAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e[e.setAnimation=25]="setAnimation",e[e.playEffect=26]="playEffect",e[e.setTempAnimation=27]="setTempAnimation",e[e.comment=28]="comment",e[e.setTransform=29]="setTransform",e[e.setTransition=30]="setTransition",e[e.getUserInput=31]="getUserInput",e[e.applyStyle=32]="applyStyle",e[e.wait=33]="wait",e))(Re||{});const kc={BGMAIN:"bg-main",FIG_C:"fig-center",FIG_L:"fig-left",FIG_R:"fig-right"},py="none",J2={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},figureMetaData:{}},Wx=Rd({name:"stage",initialState:yt(J2),reducers:{resetStageState:(e,t)=>{Object.assign(e,t.payload)},setStage:(e,t)=>{e[t.payload.key]=t.payload.value},setStageVar:(e,t)=>{e.GameVar[t.payload.key]=t.payload.value},updateEffect:(e,t)=>{const{target:r,transform:n}=t.payload;if(![kc.BGMAIN,kc.FIG_C,kc.FIG_L,kc.FIG_R,...e.freeFigure.map(a=>a.key)].includes(r))return;const o=e.effects.findIndex(a=>a.target===r);o>=0?e.effects[o].transform=n:e.effects.push({target:r,transform:n})},removeEffectByTargetId:(e,t)=>{const r=e.effects.findIndex(n=>n.target===t.payload);r>=0&&e.effects.splice(r,1)},addPerform:(e,t)=>{if(e.PerformList.findIndex(n=>n.id===t.payload.id)>-1){const n=t.payload.id;for(let i=0;i<e.PerformList.length;i++)e.PerformList[i].id===n&&(e.PerformList.splice(i,1),i--)}e.PerformList.push(t.payload)},removePerformByName:(e,t)=>{for(let r=0;r<e.PerformList.length;r++)e.PerformList[r].id===t.payload&&(e.PerformList.splice(r,1),r--)},removeAllPerform:e=>{e.PerformList.splice(0,e.PerformList.length)},removeAllPixiPerforms:(e,t)=>{for(let r=0;r<e.PerformList.length;r++)e.PerformList[r].script.command===Re.pixi&&(e.PerformList.splice(r,1),r--)},setFreeFigureByKey:(e,t)=>{const r=e.freeFigure,n=t.payload,i=r.findIndex(o=>o.key===n.key);if(i>=0)if(n.name===""){r.splice(i,1);const o=e.figureAssociatedAnimation.findIndex(a=>a.targetId===n.key);e.figureAssociatedAnimation.splice(o,1)}else r[i].basePosition=n.basePosition,r[i].name=n.name;else n.name!==""&&r.push(n)},setLive2dMotion:(e,t)=>{const{target:r,motion:n,overrideBounds:i}=t.payload,o=e.live2dMotion.findIndex(a=>a.target===r);o<0?e.live2dMotion.push({target:r,motion:n,overrideBounds:i}):(e.live2dMotion[o].motion=n,e.live2dMotion[o].overrideBounds=i)},setLive2dExpression:(e,t)=>{const{target:r,expression:n}=t.payload,i=e.live2dExpression.findIndex(o=>o.target===r);i<0?e.live2dExpression.push({target:r,expression:n}):e.live2dExpression[i].expression=n},replaceUIlable:(e,t)=>{e.replacedUIlable[t.payload[0]]=t.payload[1]},setFigureMetaData:(e,t)=>{t.payload[3]?e.figureMetaData[t.payload[0]]&&delete e.figureMetaData[t.payload[0]]:(e.figureMetaData[t.payload[0]]||(e.figureMetaData[t.payload[0]]={}),e.figureMetaData[t.payload[0]][t.payload[1]]=t.payload[2])}}}),{resetStageState:Ud,setStage:Te,setStageVar:Q2}=Wx.actions,Lt=Wx.actions,Wz=Wx.reducer;function Rc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ek={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,o){function a(l,c){if(!i[l]){if(!n[l]){var f=typeof Rc=="function"&&Rc;if(!c&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(v){var g=n[l][1][v];return a(g||v)},d,d.exports,r,n,i,o)}return i[l].exports}for(var s=typeof Rc=="function"&&Rc,u=0;u<o.length;u++)a(o[u]);return a}({1:[function(r,n,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,s;if(a){var u=0,l=new a(v),c=o.document.createTextNode("");l.observe(c,{characterData:!0}),s=function(){c.data=u=++u%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var f=new o.MessageChannel;f.port1.onmessage=v,s=function(){f.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?s=function(){var p=o.document.createElement("script");p.onreadystatechange=function(){v(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},o.document.documentElement.appendChild(p)}:s=function(){setTimeout(v,0)};var h,d=[];function v(){h=!0;for(var p,m,y=d.length;y;){for(m=d,d=[],p=-1;++p<y;)m[p]();y=d.length}h=!1}n.exports=g;function g(p){d.push(p)===1&&!h&&s()}}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var o=r(1);function a(){}var s={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];n.exports=f;function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,b!==a&&g(this,b)}f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,w){if(typeof b!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var E=new this.constructor(a);if(this.state!==c){var P=this.state===l?b:w;d(E,P,this.outcome)}else this.queue.push(new h(E,b,w));return E};function h(b,w,E){this.promise=b,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){d(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){d(this.promise,this.onRejected,b)};function d(b,w,E){o(function(){var P;try{P=w(E)}catch(A){return s.reject(b,A)}P===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,P)})}s.resolve=function(b,w){var E=p(v,w);if(E.status==="error")return s.reject(b,E.value);var P=E.value;if(P)g(b,P);else{b.state=l,b.outcome=w;for(var A=-1,k=b.queue.length;++A<k;)b.queue[A].callFulfilled(w)}return b},s.reject=function(b,w){b.state=u,b.outcome=w;for(var E=-1,P=b.queue.length;++E<P;)b.queue[E].callRejected(w);return b};function v(b){var w=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof w=="function")return function(){w.apply(b,arguments)}}function g(b,w){var E=!1;function P(j){E||(E=!0,s.reject(b,j))}function A(j){E||(E=!0,s.resolve(b,j))}function k(){w(A,P)}var F=p(k);F.status==="error"&&P(F.value)}function p(b,w){var E={};try{E.value=b(w),E.status="success"}catch(P){E.status="error",E.value=P}return E}f.resolve=m;function m(b){return b instanceof this?b:s.resolve(new this(a),b)}f.reject=y;function y(b){var w=new this(a);return s.reject(w,b)}f.all=_;function _(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,P=!1;if(!E)return this.resolve([]);for(var A=new Array(E),k=0,F=-1,j=new this(a);++F<E;)z(b[F],F);return j;function z(q,D){w.resolve(q).then(U,function(K){P||(P=!0,s.reject(j,K))});function U(K){A[D]=K,++k===E&&!P&&(P=!0,s.resolve(j,A))}}}f.race=x;function x(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,P=!1;if(!E)return this.resolve([]);for(var A=-1,k=new this(a);++A<E;)F(b[A]);return k;function F(j){w.resolve(j).then(function(z){P||(P=!0,s.resolve(k,z))},function(z){P||(P=!0,s.reject(k,z))})}}},{1:1}],3:[function(r,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=r(2))}).call(this,typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function a(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=s();function l(){try{if(!u||!u.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),R=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||R)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(T,R){T=T||[],R=R||{};try{return new Blob(T,R)}catch(I){if(I.name!=="TypeError")throw I;for(var O=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,L=new O,M=0;M<T.length;M+=1)L.append(T[M]);return L.getBlob(R.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(T,R){R&&T.then(function(O){R(null,O)},function(O){R(O)})}function d(T,R,O){typeof R=="function"&&T.then(R),typeof O=="function"&&T.catch(O)}function v(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",m=void 0,y={},_=Object.prototype.toString,x="readonly",b="readwrite";function w(T){for(var R=T.length,O=new ArrayBuffer(R),L=new Uint8Array(O),M=0;M<R;M++)L[M]=T.charCodeAt(M);return O}function E(T){return new f(function(R){var O=T.transaction(p,b),L=c([""]);O.objectStore(p).put(L,"key"),O.onabort=function(M){M.preventDefault(),M.stopPropagation(),R(!1)},O.oncomplete=function(){var M=navigator.userAgent.match(/Chrome\/(\d+)/),I=navigator.userAgent.match(/Edge\//);R(I||!M||parseInt(M[1],10)>=43)}}).catch(function(){return!1})}function P(T){return typeof m=="boolean"?f.resolve(m):E(T).then(function(R){return m=R,m})}function A(T){var R=y[T.name],O={};O.promise=new f(function(L,M){O.resolve=L,O.reject=M}),R.deferredOperations.push(O),R.dbReady?R.dbReady=R.dbReady.then(function(){return O.promise}):R.dbReady=O.promise}function k(T){var R=y[T.name],O=R.deferredOperations.pop();if(O)return O.resolve(),O.promise}function F(T,R){var O=y[T.name],L=O.deferredOperations.pop();if(L)return L.reject(R),L.promise}function j(T,R){return new f(function(O,L){if(y[T.name]=y[T.name]||X(),T.db)if(R)A(T),T.db.close();else return O(T.db);var M=[T.name];R&&M.push(T.version);var I=u.open.apply(u,M);R&&(I.onupgradeneeded=function(G){var V=I.result;try{V.createObjectStore(T.storeName),G.oldVersion<=1&&V.createObjectStore(p)}catch(Z){if(Z.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+G.oldVersion+" to version "+G.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw Z}}),I.onerror=function(G){G.preventDefault(),L(I.error)},I.onsuccess=function(){var G=I.result;G.onversionchange=function(V){V.target.close()},O(G),k(T)}})}function z(T){return j(T,!1)}function q(T){return j(T,!0)}function D(T,R){if(!T.db)return!0;var O=!T.db.objectStoreNames.contains(T.storeName),L=T.version<T.db.version,M=T.version>T.db.version;if(L&&(T.version!==R&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),M||O){if(O){var I=T.db.version+1;I>T.version&&(T.version=I)}return!0}return!1}function U(T){return new f(function(R,O){var L=new FileReader;L.onerror=O,L.onloadend=function(M){var I=btoa(M.target.result||"");R({__local_forage_encoded_blob:!0,data:I,type:T.type})},L.readAsBinaryString(T)})}function K(T){var R=w(atob(T.data));return c([R],{type:T.type})}function de(T){return T&&T.__local_forage_encoded_blob}function pe(T){var R=this,O=R._initReady().then(function(){var L=y[R._dbInfo.name];if(L&&L.dbReady)return L.dbReady});return d(O,T,T),O}function Y(T){A(T);for(var R=y[T.name],O=R.forages,L=0;L<O.length;L++){var M=O[L];M._dbInfo.db&&(M._dbInfo.db.close(),M._dbInfo.db=null)}return T.db=null,z(T).then(function(I){return T.db=I,D(T)?q(T):I}).then(function(I){T.db=R.db=I;for(var G=0;G<O.length;G++)O[G]._dbInfo.db=I}).catch(function(I){throw F(T,I),I})}function N(T,R,O,L){L===void 0&&(L=1);try{var M=T.db.transaction(T.storeName,R);O(null,M)}catch(I){if(L>0&&(!T.db||I.name==="InvalidStateError"||I.name==="NotFoundError"))return f.resolve().then(function(){if(!T.db||I.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),q(T)}).then(function(){return Y(T).then(function(){N(T,R,O,L-1)})}).catch(O);O(I)}}function X(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(T){var R=this,O={db:null};if(T)for(var L in T)O[L]=T[L];var M=y[O.name];M||(M=X(),y[O.name]=M),M.forages.push(R),R._initReady||(R._initReady=R.ready,R.ready=pe);var I=[];function G(){return f.resolve()}for(var V=0;V<M.forages.length;V++){var Z=M.forages[V];Z!==R&&I.push(Z._initReady().catch(G))}var J=M.forages.slice(0);return f.all(I).then(function(){return O.db=M.db,z(O)}).then(function(te){return O.db=te,D(O,R._defaultConfig.version)?q(O):te}).then(function(te){O.db=M.db=te,R._dbInfo=O;for(var le=0;le<J.length;le++){var Ce=J[le];Ce!==R&&(Ce._dbInfo.db=O.db,Ce._dbInfo.version=O.version)}})}function ue(T,R){var O=this;T=v(T);var L=new f(function(M,I){O.ready().then(function(){N(O._dbInfo,x,function(G,V){if(G)return I(G);try{var Z=V.objectStore(O._dbInfo.storeName),J=Z.get(T);J.onsuccess=function(){var te=J.result;te===void 0&&(te=null),de(te)&&(te=K(te)),M(te)},J.onerror=function(){I(J.error)}}catch(te){I(te)}})}).catch(I)});return h(L,R),L}function _e(T,R){var O=this,L=new f(function(M,I){O.ready().then(function(){N(O._dbInfo,x,function(G,V){if(G)return I(G);try{var Z=V.objectStore(O._dbInfo.storeName),J=Z.openCursor(),te=1;J.onsuccess=function(){var le=J.result;if(le){var Ce=le.value;de(Ce)&&(Ce=K(Ce));var Ge=T(Ce,le.key,te++);Ge!==void 0?M(Ge):le.continue()}else M()},J.onerror=function(){I(J.error)}}catch(le){I(le)}})}).catch(I)});return h(L,R),L}function Se(T,R,O){var L=this;T=v(T);var M=new f(function(I,G){var V;L.ready().then(function(){return V=L._dbInfo,_.call(R)==="[object Blob]"?P(V.db).then(function(Z){return Z?R:U(R)}):R}).then(function(Z){N(L._dbInfo,b,function(J,te){if(J)return G(J);try{var le=te.objectStore(L._dbInfo.storeName);Z===null&&(Z=void 0);var Ce=le.put(Z,T);te.oncomplete=function(){Z===void 0&&(Z=null),I(Z)},te.onabort=te.onerror=function(){var Ge=Ce.error?Ce.error:Ce.transaction.error;G(Ge)}}catch(Ge){G(Ge)}})}).catch(G)});return h(M,O),M}function we(T,R){var O=this;T=v(T);var L=new f(function(M,I){O.ready().then(function(){N(O._dbInfo,b,function(G,V){if(G)return I(G);try{var Z=V.objectStore(O._dbInfo.storeName),J=Z.delete(T);V.oncomplete=function(){M()},V.onerror=function(){I(J.error)},V.onabort=function(){var te=J.error?J.error:J.transaction.error;I(te)}}catch(te){I(te)}})}).catch(I)});return h(L,R),L}function Ue(T){var R=this,O=new f(function(L,M){R.ready().then(function(){N(R._dbInfo,b,function(I,G){if(I)return M(I);try{var V=G.objectStore(R._dbInfo.storeName),Z=V.clear();G.oncomplete=function(){L()},G.onabort=G.onerror=function(){var J=Z.error?Z.error:Z.transaction.error;M(J)}}catch(J){M(J)}})}).catch(M)});return h(O,T),O}function He(T){var R=this,O=new f(function(L,M){R.ready().then(function(){N(R._dbInfo,x,function(I,G){if(I)return M(I);try{var V=G.objectStore(R._dbInfo.storeName),Z=V.count();Z.onsuccess=function(){L(Z.result)},Z.onerror=function(){M(Z.error)}}catch(J){M(J)}})}).catch(M)});return h(O,T),O}function Je(T,R){var O=this,L=new f(function(M,I){if(T<0){M(null);return}O.ready().then(function(){N(O._dbInfo,x,function(G,V){if(G)return I(G);try{var Z=V.objectStore(O._dbInfo.storeName),J=!1,te=Z.openKeyCursor();te.onsuccess=function(){var le=te.result;if(!le){M(null);return}T===0||J?M(le.key):(J=!0,le.advance(T))},te.onerror=function(){I(te.error)}}catch(le){I(le)}})}).catch(I)});return h(L,R),L}function Pe(T){var R=this,O=new f(function(L,M){R.ready().then(function(){N(R._dbInfo,x,function(I,G){if(I)return M(I);try{var V=G.objectStore(R._dbInfo.storeName),Z=V.openKeyCursor(),J=[];Z.onsuccess=function(){var te=Z.result;if(!te){L(J);return}J.push(te.key),te.continue()},Z.onerror=function(){M(Z.error)}}catch(te){M(te)}})}).catch(M)});return h(O,T),O}function Be(T,R){R=g.apply(this,arguments);var O=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||O.name,T.storeName=T.storeName||O.storeName);var L=this,M;if(!T.name)M=f.reject("Invalid arguments");else{var I=T.name===O.name&&L._dbInfo.db,G=I?f.resolve(L._dbInfo.db):z(T).then(function(V){var Z=y[T.name],J=Z.forages;Z.db=V;for(var te=0;te<J.length;te++)J[te]._dbInfo.db=V;return V});T.storeName?M=G.then(function(V){if(V.objectStoreNames.contains(T.storeName)){var Z=V.version+1;A(T);var J=y[T.name],te=J.forages;V.close();for(var le=0;le<te.length;le++){var Ce=te[le];Ce._dbInfo.db=null,Ce._dbInfo.version=Z}var Ge=new f(function(We,Ot){var Et=u.open(T.name,Z);Et.onerror=function(Xr){var Qs=Et.result;Qs.close(),Ot(Xr)},Et.onupgradeneeded=function(){var Xr=Et.result;Xr.deleteObjectStore(T.storeName)},Et.onsuccess=function(){var Xr=Et.result;Xr.close(),We(Xr)}});return Ge.then(function(We){J.db=We;for(var Ot=0;Ot<te.length;Ot++){var Et=te[Ot];Et._dbInfo.db=We,k(Et._dbInfo)}}).catch(function(We){throw(F(T,We)||f.resolve()).catch(function(){}),We})}}):M=G.then(function(V){A(T);var Z=y[T.name],J=Z.forages;V.close();for(var te=0;te<J.length;te++){var le=J[te];le._dbInfo.db=null}var Ce=new f(function(Ge,We){var Ot=u.deleteDatabase(T.name);Ot.onerror=function(){var Et=Ot.result;Et&&Et.close(),We(Ot.error)},Ot.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},Ot.onsuccess=function(){var Et=Ot.result;Et&&Et.close(),Ge(Et)}});return Ce.then(function(Ge){Z.db=Ge;for(var We=0;We<J.length;We++){var Ot=J[We];k(Ot._dbInfo)}}).catch(function(Ge){throw(F(T,Ge)||f.resolve()).catch(function(){}),Ge})})}return h(M,R),M}var Ve={_driver:"asyncStorage",_initStorage:ne,_support:l(),iterate:_e,getItem:ue,setItem:Se,removeItem:we,clear:Ue,length:He,key:Je,keys:Pe,dropInstance:Be};function Ee(){return typeof openDatabase=="function"}var ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",or="~~local_forage_type~",Me=/^~~local_forage_type~([^~]+)~/,mr="__lfsc__:",kn=mr.length,Ti="arbf",va="blob",Ys="si08",Ks="ui08",Zs="uic8",j1="si16",$1="si32",U1="ur16",G1="ui32",z1="fl32",H1="fl64",V1=kn+Ti.length,W1=Object.prototype.toString;function q1(T){var R=T.length*.75,O=T.length,L,M=0,I,G,V,Z;T[T.length-1]==="="&&(R--,T[T.length-2]==="="&&R--);var J=new ArrayBuffer(R),te=new Uint8Array(J);for(L=0;L<O;L+=4)I=ct.indexOf(T[L]),G=ct.indexOf(T[L+1]),V=ct.indexOf(T[L+2]),Z=ct.indexOf(T[L+3]),te[M++]=I<<2|G>>4,te[M++]=(G&15)<<4|V>>2,te[M++]=(V&3)<<6|Z&63;return J}function Lp(T){var R=new Uint8Array(T),O="",L;for(L=0;L<R.length;L+=3)O+=ct[R[L]>>2],O+=ct[(R[L]&3)<<4|R[L+1]>>4],O+=ct[(R[L+1]&15)<<2|R[L+2]>>6],O+=ct[R[L+2]&63];return R.length%3===2?O=O.substring(0,O.length-1)+"=":R.length%3===1&&(O=O.substring(0,O.length-2)+"=="),O}function wM(T,R){var O="";if(T&&(O=W1.call(T)),T&&(O==="[object ArrayBuffer]"||T.buffer&&W1.call(T.buffer)==="[object ArrayBuffer]")){var L,M=mr;T instanceof ArrayBuffer?(L=T,M+=Ti):(L=T.buffer,O==="[object Int8Array]"?M+=Ys:O==="[object Uint8Array]"?M+=Ks:O==="[object Uint8ClampedArray]"?M+=Zs:O==="[object Int16Array]"?M+=j1:O==="[object Uint16Array]"?M+=U1:O==="[object Int32Array]"?M+=$1:O==="[object Uint32Array]"?M+=G1:O==="[object Float32Array]"?M+=z1:O==="[object Float64Array]"?M+=H1:R(new Error("Failed to get type for BinaryArray"))),R(M+Lp(L))}else if(O==="[object Blob]"){var I=new FileReader;I.onload=function(){var G=or+T.type+"~"+Lp(this.result);R(mr+va+G)},I.readAsArrayBuffer(T)}else try{R(JSON.stringify(T))}catch(G){console.error("Couldn't convert value into a JSON string: ",T),R(null,G)}}function EM(T){if(T.substring(0,kn)!==mr)return JSON.parse(T);var R=T.substring(V1),O=T.substring(kn,V1),L;if(O===va&&Me.test(R)){var M=R.match(Me);L=M[1],R=R.substring(M[0].length)}var I=q1(R);switch(O){case Ti:return I;case va:return c([I],{type:L});case Ys:return new Int8Array(I);case Ks:return new Uint8Array(I);case Zs:return new Uint8ClampedArray(I);case j1:return new Int16Array(I);case U1:return new Uint16Array(I);case $1:return new Int32Array(I);case G1:return new Uint32Array(I);case z1:return new Float32Array(I);case H1:return new Float64Array(I);default:throw new Error("Unkown type: "+O)}}var Mp={serialize:wM,deserialize:EM,stringToBuffer:q1,bufferToString:Lp};function X1(T,R,O,L){T.executeSql("CREATE TABLE IF NOT EXISTS "+R.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],O,L)}function TM(T){var R=this,O={db:null};if(T)for(var L in T)O[L]=typeof T[L]!="string"?T[L].toString():T[L];var M=new f(function(I,G){try{O.db=openDatabase(O.name,String(O.version),O.description,O.size)}catch(V){return G(V)}O.db.transaction(function(V){X1(V,O,function(){R._dbInfo=O,I()},function(Z,J){G(J)})},G)});return O.serializer=Mp,M}function Ci(T,R,O,L,M,I){T.executeSql(O,L,M,function(G,V){V.code===V.SYNTAX_ERR?G.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[R.storeName],function(Z,J){J.rows.length?I(Z,V):X1(Z,R,function(){Z.executeSql(O,L,M,I)},I)},I):I(G,V)},I)}function CM(T,R){var O=this;T=v(T);var L=new f(function(M,I){O.ready().then(function(){var G=O._dbInfo;G.db.transaction(function(V){Ci(V,G,"SELECT * FROM "+G.storeName+" WHERE key = ? LIMIT 1",[T],function(Z,J){var te=J.rows.length?J.rows.item(0).value:null;te&&(te=G.serializer.deserialize(te)),M(te)},function(Z,J){I(J)})})}).catch(I)});return h(L,R),L}function OM(T,R){var O=this,L=new f(function(M,I){O.ready().then(function(){var G=O._dbInfo;G.db.transaction(function(V){Ci(V,G,"SELECT * FROM "+G.storeName,[],function(Z,J){for(var te=J.rows,le=te.length,Ce=0;Ce<le;Ce++){var Ge=te.item(Ce),We=Ge.value;if(We&&(We=G.serializer.deserialize(We)),We=T(We,Ge.key,Ce+1),We!==void 0){M(We);return}}M()},function(Z,J){I(J)})})}).catch(I)});return h(L,R),L}function Y1(T,R,O,L){var M=this;T=v(T);var I=new f(function(G,V){M.ready().then(function(){R===void 0&&(R=null);var Z=R,J=M._dbInfo;J.serializer.serialize(R,function(te,le){le?V(le):J.db.transaction(function(Ce){Ci(Ce,J,"INSERT OR REPLACE INTO "+J.storeName+" (key, value) VALUES (?, ?)",[T,te],function(){G(Z)},function(Ge,We){V(We)})},function(Ce){if(Ce.code===Ce.QUOTA_ERR){if(L>0){G(Y1.apply(M,[T,Z,O,L-1]));return}V(Ce)}})})}).catch(V)});return h(I,O),I}function AM(T,R,O){return Y1.apply(this,[T,R,O,1])}function PM(T,R){var O=this;T=v(T);var L=new f(function(M,I){O.ready().then(function(){var G=O._dbInfo;G.db.transaction(function(V){Ci(V,G,"DELETE FROM "+G.storeName+" WHERE key = ?",[T],function(){M()},function(Z,J){I(J)})})}).catch(I)});return h(L,R),L}function kM(T){var R=this,O=new f(function(L,M){R.ready().then(function(){var I=R._dbInfo;I.db.transaction(function(G){Ci(G,I,"DELETE FROM "+I.storeName,[],function(){L()},function(V,Z){M(Z)})})}).catch(M)});return h(O,T),O}function RM(T){var R=this,O=new f(function(L,M){R.ready().then(function(){var I=R._dbInfo;I.db.transaction(function(G){Ci(G,I,"SELECT COUNT(key) as c FROM "+I.storeName,[],function(V,Z){var J=Z.rows.item(0).c;L(J)},function(V,Z){M(Z)})})}).catch(M)});return h(O,T),O}function IM(T,R){var O=this,L=new f(function(M,I){O.ready().then(function(){var G=O._dbInfo;G.db.transaction(function(V){Ci(V,G,"SELECT key FROM "+G.storeName+" WHERE id = ? LIMIT 1",[T+1],function(Z,J){var te=J.rows.length?J.rows.item(0).key:null;M(te)},function(Z,J){I(J)})})}).catch(I)});return h(L,R),L}function NM(T){var R=this,O=new f(function(L,M){R.ready().then(function(){var I=R._dbInfo;I.db.transaction(function(G){Ci(G,I,"SELECT key FROM "+I.storeName,[],function(V,Z){for(var J=[],te=0;te<Z.rows.length;te++)J.push(Z.rows.item(te).key);L(J)},function(V,Z){M(Z)})})}).catch(M)});return h(O,T),O}function LM(T){return new f(function(R,O){T.transaction(function(L){L.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(M,I){for(var G=[],V=0;V<I.rows.length;V++)G.push(I.rows.item(V).name);R({db:T,storeNames:G})},function(M,I){O(I)})},function(L){O(L)})})}function MM(T,R){R=g.apply(this,arguments);var O=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||O.name,T.storeName=T.storeName||O.storeName);var L=this,M;return T.name?M=new f(function(I){var G;T.name===O.name?G=L._dbInfo.db:G=openDatabase(T.name,"","",0),T.storeName?I({db:G,storeNames:[T.storeName]}):I(LM(G))}).then(function(I){return new f(function(G,V){I.db.transaction(function(Z){function J(Ge){return new f(function(We,Ot){Z.executeSql("DROP TABLE IF EXISTS "+Ge,[],function(){We()},function(Et,Xr){Ot(Xr)})})}for(var te=[],le=0,Ce=I.storeNames.length;le<Ce;le++)te.push(J(I.storeNames[le]));f.all(te).then(function(){G()}).catch(function(Ge){V(Ge)})},function(Z){V(Z)})})}):M=f.reject("Invalid arguments"),h(M,R),M}var FM={_driver:"webSQLStorage",_initStorage:TM,_support:Ee(),iterate:OM,getItem:CM,setItem:AM,removeItem:PM,clear:kM,length:RM,key:IM,keys:NM,dropInstance:MM};function DM(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function K1(T,R){var O=T.name+"/";return T.storeName!==R.storeName&&(O+=T.storeName+"/"),O}function BM(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function jM(){return!BM()||localStorage.length>0}function $M(T){var R=this,O={};if(T)for(var L in T)O[L]=T[L];return O.keyPrefix=K1(T,R._defaultConfig),jM()?(R._dbInfo=O,O.serializer=Mp,f.resolve()):f.reject()}function UM(T){var R=this,O=R.ready().then(function(){for(var L=R._dbInfo.keyPrefix,M=localStorage.length-1;M>=0;M--){var I=localStorage.key(M);I.indexOf(L)===0&&localStorage.removeItem(I)}});return h(O,T),O}function GM(T,R){var O=this;T=v(T);var L=O.ready().then(function(){var M=O._dbInfo,I=localStorage.getItem(M.keyPrefix+T);return I&&(I=M.serializer.deserialize(I)),I});return h(L,R),L}function zM(T,R){var O=this,L=O.ready().then(function(){for(var M=O._dbInfo,I=M.keyPrefix,G=I.length,V=localStorage.length,Z=1,J=0;J<V;J++){var te=localStorage.key(J);if(te.indexOf(I)===0){var le=localStorage.getItem(te);if(le&&(le=M.serializer.deserialize(le)),le=T(le,te.substring(G),Z++),le!==void 0)return le}}});return h(L,R),L}function HM(T,R){var O=this,L=O.ready().then(function(){var M=O._dbInfo,I;try{I=localStorage.key(T)}catch{I=null}return I&&(I=I.substring(M.keyPrefix.length)),I});return h(L,R),L}function VM(T){var R=this,O=R.ready().then(function(){for(var L=R._dbInfo,M=localStorage.length,I=[],G=0;G<M;G++){var V=localStorage.key(G);V.indexOf(L.keyPrefix)===0&&I.push(V.substring(L.keyPrefix.length))}return I});return h(O,T),O}function WM(T){var R=this,O=R.keys().then(function(L){return L.length});return h(O,T),O}function qM(T,R){var O=this;T=v(T);var L=O.ready().then(function(){var M=O._dbInfo;localStorage.removeItem(M.keyPrefix+T)});return h(L,R),L}function XM(T,R,O){var L=this;T=v(T);var M=L.ready().then(function(){R===void 0&&(R=null);var I=R;return new f(function(G,V){var Z=L._dbInfo;Z.serializer.serialize(R,function(J,te){if(te)V(te);else try{localStorage.setItem(Z.keyPrefix+T,J),G(I)}catch(le){(le.name==="QuotaExceededError"||le.name==="NS_ERROR_DOM_QUOTA_REACHED")&&V(le),V(le)}})})});return h(M,O),M}function YM(T,R){if(R=g.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var O=this.config();T.name=T.name||O.name,T.storeName=T.storeName||O.storeName}var L=this,M;return T.name?M=new f(function(I){T.storeName?I(K1(T,L._defaultConfig)):I(T.name+"/")}).then(function(I){for(var G=localStorage.length-1;G>=0;G--){var V=localStorage.key(G);V.indexOf(I)===0&&localStorage.removeItem(V)}}):M=f.reject("Invalid arguments"),h(M,R),M}var KM={_driver:"localStorageWrapper",_initStorage:$M,_support:DM(),iterate:zM,getItem:GM,setItem:XM,removeItem:qM,clear:UM,length:WM,key:HM,keys:VM,dropInstance:YM},ZM=function(R,O){return R===O||typeof R=="number"&&typeof O=="number"&&isNaN(R)&&isNaN(O)},JM=function(R,O){for(var L=R.length,M=0;M<L;){if(ZM(R[M],O))return!0;M++}return!1},Z1=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},Js={},J1={},ma={INDEXEDDB:Ve,WEBSQL:FM,LOCALSTORAGE:KM},QM=[ma.INDEXEDDB._driver,ma.WEBSQL._driver,ma.LOCALSTORAGE._driver],gc=["dropInstance"],Fp=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gc),eF={description:"",driver:QM.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function tF(T,R){T[R]=function(){var O=arguments;return T.ready().then(function(){return T[R].apply(T,O)})}}function Dp(){for(var T=1;T<arguments.length;T++){var R=arguments[T];if(R)for(var O in R)R.hasOwnProperty(O)&&(Z1(R[O])?arguments[0][O]=R[O].slice():arguments[0][O]=R[O])}return arguments[0]}var rF=function(){function T(R){a(this,T);for(var O in ma)if(ma.hasOwnProperty(O)){var L=ma[O],M=L._driver;this[O]=M,Js[M]||this.defineDriver(L)}this._defaultConfig=Dp({},eF),this._config=Dp({},this._defaultConfig,R),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(O){if((typeof O>"u"?"undefined":o(O))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var L in O){if(L==="storeName"&&(O[L]=O[L].replace(/\W/g,"_")),L==="version"&&typeof O[L]!="number")return new Error("Database version must be a number.");this._config[L]=O[L]}return"driver"in O&&O.driver?this.setDriver(this._config.driver):!0}else return typeof O=="string"?this._config[O]:this._config},T.prototype.defineDriver=function(O,L,M){var I=new f(function(G,V){try{var Z=O._driver,J=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!O._driver){V(J);return}for(var te=Fp.concat("_initStorage"),le=0,Ce=te.length;le<Ce;le++){var Ge=te[le],We=!JM(gc,Ge);if((We||O[Ge])&&typeof O[Ge]!="function"){V(J);return}}var Ot=function(){for(var Qs=function(oF){return function(){var aF=new Error("Method "+oF+" is not implemented by the current driver"),Q1=f.reject(aF);return h(Q1,arguments[arguments.length-1]),Q1}},Bp=0,iF=gc.length;Bp<iF;Bp++){var jp=gc[Bp];O[jp]||(O[jp]=Qs(jp))}};Ot();var Et=function(Qs){Js[Z]&&console.info("Redefining LocalForage driver: "+Z),Js[Z]=O,J1[Z]=Qs,G()};"_support"in O?O._support&&typeof O._support=="function"?O._support().then(Et,V):Et(!!O._support):Et(!0)}catch(Xr){V(Xr)}});return d(I,L,M),I},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(O,L,M){var I=Js[O]?f.resolve(Js[O]):f.reject(new Error("Driver not found."));return d(I,L,M),I},T.prototype.getSerializer=function(O){var L=f.resolve(Mp);return d(L,O),L},T.prototype.ready=function(O){var L=this,M=L._driverSet.then(function(){return L._ready===null&&(L._ready=L._initDriver()),L._ready});return d(M,O,O),M},T.prototype.setDriver=function(O,L,M){var I=this;Z1(O)||(O=[O]);var G=this._getSupportedDrivers(O);function V(){I._config.driver=I.driver()}function Z(le){return I._extend(le),V(),I._ready=I._initStorage(I._config),I._ready}function J(le){return function(){var Ce=0;function Ge(){for(;Ce<le.length;){var We=le[Ce];return Ce++,I._dbInfo=null,I._ready=null,I.getDriver(We).then(Z).catch(Ge)}V();var Ot=new Error("No available storage method found.");return I._driverSet=f.reject(Ot),I._driverSet}return Ge()}}var te=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=te.then(function(){var le=G[0];return I._dbInfo=null,I._ready=null,I.getDriver(le).then(function(Ce){I._driver=Ce._driver,V(),I._wrapLibraryMethodsWithReady(),I._initDriver=J(G)})}).catch(function(){V();var le=new Error("No available storage method found.");return I._driverSet=f.reject(le),I._driverSet}),d(this._driverSet,L,M),this._driverSet},T.prototype.supports=function(O){return!!J1[O]},T.prototype._extend=function(O){Dp(this,O)},T.prototype._getSupportedDrivers=function(O){for(var L=[],M=0,I=O.length;M<I;M++){var G=O[M];this.supports(G)&&L.push(G)}return L},T.prototype._wrapLibraryMethodsWithReady=function(){for(var O=0,L=Fp.length;O<L;O++)tF(this,Fp[O])},T.prototype.createInstance=function(O){return new T(O)},T}(),nF=new rF;n.exports=nF},{3:3}]},{},[4])(4)})})(ek);var Qo=ek.exports;const ca=rr(Qo);var qx={exports:{}},tk=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},qz=tk,fa=Object.prototype.toString;function Xx(e){return fa.call(e)==="[object Array]"}function vy(e){return typeof e>"u"}function Xz(e){return e!==null&&!vy(e)&&e.constructor!==null&&!vy(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Yz(e){return fa.call(e)==="[object ArrayBuffer]"}function Kz(e){return typeof FormData<"u"&&e instanceof FormData}function Zz(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Jz(e){return typeof e=="string"}function Qz(e){return typeof e=="number"}function rk(e){return e!==null&&typeof e=="object"}function Tf(e){if(fa.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function e9(e){return fa.call(e)==="[object Date]"}function t9(e){return fa.call(e)==="[object File]"}function r9(e){return fa.call(e)==="[object Blob]"}function nk(e){return fa.call(e)==="[object Function]"}function n9(e){return rk(e)&&nk(e.pipe)}function i9(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function o9(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function a9(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Yx(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Xx(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function my(){var e={};function t(i,o){Tf(e[o])&&Tf(i)?e[o]=my(e[o],i):Tf(i)?e[o]=my({},i):Xx(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Yx(arguments[r],t);return e}function s9(e,t,r){return Yx(t,function(i,o){r&&typeof i=="function"?e[o]=qz(i,r):e[o]=i}),e}function u9(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var qr={isArray:Xx,isArrayBuffer:Yz,isBuffer:Xz,isFormData:Kz,isArrayBufferView:Zz,isString:Jz,isNumber:Qz,isObject:rk,isPlainObject:Tf,isUndefined:vy,isDate:e9,isFile:t9,isBlob:r9,isFunction:nk,isStream:n9,isURLSearchParams:i9,isStandardBrowserEnv:a9,forEach:Yx,merge:my,extend:s9,trim:o9,stripBOM:u9},ya=qr;function sE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ik=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(ya.isURLSearchParams(r))i=r.toString();else{var o=[];ya.forEach(r,function(u,l){u===null||typeof u>"u"||(ya.isArray(u)?l=l+"[]":u=[u],ya.forEach(u,function(f){ya.isDate(f)?f=f.toISOString():ya.isObject(f)&&(f=JSON.stringify(f)),o.push(sE(l)+"="+sE(f))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},l9=qr;function Gd(){this.handlers=[]}Gd.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Gd.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Gd.prototype.forEach=function(t){l9.forEach(this.handlers,function(n){n!==null&&t(n)})};var c9=Gd,f9=qr,h9=function(t,r){f9.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},ok=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},xv,uE;function ak(){if(uE)return xv;uE=1;var e=ok;return xv=function(r,n,i,o,a){var s=new Error(r);return e(s,n,i,o,a)},xv}var bv,lE;function d9(){if(lE)return bv;lE=1;var e=ak();return bv=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(e("Request failed with status code "+i.status,i.config,null,i.request,i))},bv}var Sv,cE;function p9(){if(cE)return Sv;cE=1;var e=qr;return Sv=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,a,s,u){var l=[];l.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),e.isString(a)&&l.push("path="+a),e.isString(s)&&l.push("domain="+s),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Sv}var wv,fE;function v9(){return fE||(fE=1,wv=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),wv}var Ev,hE;function m9(){return hE||(hE=1,Ev=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),Ev}var Tv,dE;function g9(){if(dE)return Tv;dE=1;var e=v9(),t=m9();return Tv=function(n,i){return n&&!e(i)?t(n,i):i},Tv}var Cv,pE;function y9(){if(pE)return Cv;pE=1;var e=qr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Cv=function(n){var i={},o,a,s;return n&&e.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),o=e.trim(l.substr(0,s)).toLowerCase(),a=e.trim(l.substr(s+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([a]):i[o]=i[o]?i[o]+", "+a:a}}),i},Cv}var Ov,vE;function _9(){if(vE)return Ov;vE=1;var e=qr;return Ov=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(a){var s=a;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(s){var u=e.isString(s)?o(s):s;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),Ov}var Av,mE;function zd(){if(mE)return Av;mE=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Av=e,Av}var Pv,gE;function yE(){if(gE)return Pv;gE=1;var e=qr,t=d9(),r=p9(),n=ik,i=g9(),o=y9(),a=_9(),s=ak(),u=Hd(),l=zd();return Pv=function(f){return new Promise(function(d,v){var g=f.data,p=f.headers,m=f.responseType,y;function _(){f.cancelToken&&f.cancelToken.unsubscribe(y),f.signal&&f.signal.removeEventListener("abort",y)}e.isFormData(g)&&delete p["Content-Type"];var x=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",w=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";p.Authorization="Basic "+btoa(b+":"+w)}var E=i(f.baseURL,f.url);x.open(f.method.toUpperCase(),n(E,f.params,f.paramsSerializer),!0),x.timeout=f.timeout;function P(){if(x){var k="getAllResponseHeaders"in x?o(x.getAllResponseHeaders()):null,F=!m||m==="text"||m==="json"?x.responseText:x.response,j={data:F,status:x.status,statusText:x.statusText,headers:k,config:f,request:x};t(function(q){d(q),_()},function(q){v(q),_()},j),x=null}}if("onloadend"in x?x.onloadend=P:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(P)},x.onabort=function(){x&&(v(s("Request aborted",f,"ECONNABORTED",x)),x=null)},x.onerror=function(){v(s("Network Error",f,null,x)),x=null},x.ontimeout=function(){var F=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",j=f.transitional||u.transitional;f.timeoutErrorMessage&&(F=f.timeoutErrorMessage),v(s(F,f,j.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},e.isStandardBrowserEnv()){var A=(f.withCredentials||a(E))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;A&&(p[f.xsrfHeaderName]=A)}"setRequestHeader"in x&&e.forEach(p,function(F,j){typeof g>"u"&&j.toLowerCase()==="content-type"?delete p[j]:x.setRequestHeader(j,F)}),e.isUndefined(f.withCredentials)||(x.withCredentials=!!f.withCredentials),m&&m!=="json"&&(x.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&x.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(y=function(k){x&&(v(!k||k&&k.type?new l("canceled"):k),x.abort(),x=null)},f.cancelToken&&f.cancelToken.subscribe(y),f.signal&&(f.signal.aborted?y():f.signal.addEventListener("abort",y))),g||(g=null),x.send(g)})},Pv}var kv,_E;function Hd(){if(_E)return kv;_E=1;var e=qr,t=h9,r=ok,n={"Content-Type":"application/x-www-form-urlencoded"};function i(u,l){!e.isUndefined(u)&&e.isUndefined(u["Content-Type"])&&(u["Content-Type"]=l)}function o(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=yE()),u}function a(u,l,c){if(e.isString(u))try{return(l||JSON.parse)(u),e.trim(u)}catch(f){if(f.name!=="SyntaxError")throw f}return(c||JSON.stringify)(u)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(l,c){return t(c,"Accept"),t(c,"Content-Type"),e.isFormData(l)||e.isArrayBuffer(l)||e.isBuffer(l)||e.isStream(l)||e.isFile(l)||e.isBlob(l)?l:e.isArrayBufferView(l)?l.buffer:e.isURLSearchParams(l)?(i(c,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):e.isObject(l)||c&&c["Content-Type"]==="application/json"?(i(c,"application/json"),a(l)):l}],transformResponse:[function(l){var c=this.transitional||s.transitional,f=c&&c.silentJSONParsing,h=c&&c.forcedJSONParsing,d=!f&&this.responseType==="json";if(d||h&&e.isString(l)&&l.length)try{return JSON.parse(l)}catch(v){if(d)throw v.name==="SyntaxError"?r(v,this,"E_JSON_PARSE"):v}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(l){s.headers[l]={}}),e.forEach(["post","put","patch"],function(l){s.headers[l]=e.merge(n)}),kv=s,kv}var x9=qr,b9=Hd(),S9=function(t,r,n){var i=this||b9;return x9.forEach(n,function(a){t=a.call(i,t,r)}),t},Rv,xE;function sk(){return xE||(xE=1,Rv=function(t){return!!(t&&t.__CANCEL__)}),Rv}var bE=qr,Iv=S9,w9=sk(),E9=Hd(),T9=zd();function Nv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new T9("canceled")}var C9=function(t){Nv(t),t.headers=t.headers||{},t.data=Iv.call(t,t.data,t.headers,t.transformRequest),t.headers=bE.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),bE.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||E9.adapter;return r(t).then(function(i){return Nv(t),i.data=Iv.call(t,i.data,i.headers,t.transformResponse),i},function(i){return w9(i)||(Nv(t),i&&i.response&&(i.response.data=Iv.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Dr=qr,uk=function(t,r){r=r||{};var n={};function i(c,f){return Dr.isPlainObject(c)&&Dr.isPlainObject(f)?Dr.merge(c,f):Dr.isPlainObject(f)?Dr.merge({},f):Dr.isArray(f)?f.slice():f}function o(c){if(Dr.isUndefined(r[c])){if(!Dr.isUndefined(t[c]))return i(void 0,t[c])}else return i(t[c],r[c])}function a(c){if(!Dr.isUndefined(r[c]))return i(void 0,r[c])}function s(c){if(Dr.isUndefined(r[c])){if(!Dr.isUndefined(t[c]))return i(void 0,t[c])}else return i(void 0,r[c])}function u(c){if(c in r)return i(t[c],r[c]);if(c in t)return i(void 0,t[c])}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return Dr.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var h=l[f]||o,d=h(f);Dr.isUndefined(d)&&h!==u||(n[f]=d)}),n},Lv,SE;function lk(){return SE||(SE=1,Lv={version:"0.24.0"}),Lv}var O9=lk().version,Kx={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Kx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var wE={};Kx.transitional=function(t,r,n){function i(o,a){return"[Axios v"+O9+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!wE[a]&&(wE[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function A9(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],u=s===void 0||a(s,o,e);if(u!==!0)throw new TypeError("option "+o+" must be "+u);continue}if(r!==!0)throw Error("Unknown option "+o)}}var P9={assertOptions:A9,validators:Kx},ck=qr,k9=ik,EE=c9,TE=C9,Vd=uk,fk=P9,_a=fk.validators;function tc(e){this.defaults=e,this.interceptors={request:new EE,response:new EE}}tc.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Vd(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&fk.assertOptions(r,{silentJSONParsing:_a.transitional(_a.boolean),forcedJSONParsing:_a.transitional(_a.boolean),clarifyTimeoutError:_a.transitional(_a.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var a;if(!i){var s=[TE,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var u=t;n.length;){var l=n.shift(),c=n.shift();try{u=l(u)}catch(f){c(f);break}}try{a=TE(u)}catch(f){return Promise.reject(f)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};tc.prototype.getUri=function(t){return t=Vd(this.defaults,t),k9(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};ck.forEach(["delete","get","head","options"],function(t){tc.prototype[t]=function(r,n){return this.request(Vd(n||{},{method:t,url:r,data:(n||{}).data}))}});ck.forEach(["post","put","patch"],function(t){tc.prototype[t]=function(r,n,i){return this.request(Vd(i||{},{method:t,url:r,data:n}))}});var R9=tc,Mv,CE;function I9(){if(CE)return Mv;CE=1;var e=zd();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(a){n=a});var i=this;this.promise.then(function(o){if(i._listeners){var a,s=i._listeners.length;for(a=0;a<s;a++)i._listeners[a](o);i._listeners=null}}),this.promise.then=function(o){var a,s=new Promise(function(u){i.subscribe(u),a=u}).then(o);return s.cancel=function(){i.unsubscribe(a)},s},r(function(a){i.reason||(i.reason=new e(a),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var n,i=new t(function(a){n=a});return{token:i,cancel:n}},Mv=t,Mv}var Fv,OE;function N9(){return OE||(OE=1,Fv=function(t){return function(n){return t.apply(null,n)}}),Fv}var Dv,AE;function L9(){return AE||(AE=1,Dv=function(t){return typeof t=="object"&&t.isAxiosError===!0}),Dv}var PE=qr,M9=tk,Cf=R9,F9=uk,D9=Hd();function hk(e){var t=new Cf(e),r=M9(Cf.prototype.request,t);return PE.extend(r,Cf.prototype,t),PE.extend(r,t),r.create=function(i){return hk(F9(e,i))},r}var ei=hk(D9);ei.Axios=Cf;ei.Cancel=zd();ei.CancelToken=I9();ei.isCancel=sk();ei.VERSION=lk().version;ei.all=function(t){return Promise.all(t)};ei.spread=N9();ei.isAxiosError=L9();qx.exports=ei;qx.exports.default=ei;var B9=qx.exports,j9=B9;const $9=j9;class U9{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,r){this.url=t,r&&(this.mongoUrl=r)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,r,n,i){typeof t!="string"&&this.error("log",void 0,!1);let o={log:{info:t,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const a=this;this.url!==""&&this.isUpload&&$9.post(this.url+"/log",o).then(s=>{a.trace("Logged to cloud.",void 0,!1)}).catch(s=>{a.error("Logging to cloud failed!",void 0,!1)})}clog(t,r,n,i,o,a){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+o.toLocaleString()+"]","",t),r&&(console.log(r),console.log("------------------------"))),a===void 0&&this.upload(t,r,n,o),a!==void 0&&a&&this.upload(t,r,n,o)}trace(t,r,n){const i=new Date,o="TRACE",a="#005CAF";this.clog(t,r,o,a,i,n)}debug(t,r,n){const i=new Date,o="DEBUG",a="#0089A7";this.clog(t,r,o,a,i,n)}info(t,r,n){const i=new Date,o="INFO",a="#00896C";this.clog(t,r,o,a,i,n)}warn(t,r,n){const i=new Date,o="WARN",a="#DDA52D";this.clog(t,r,o,a,i,n)}error(t,r,n){const i=new Date,o="ERROR",a="#AB3B3A";this.clog(t,r,o,a,i,n)}fatal(t,r,n){const i=new Date,o="FATAL",a="#E16B8C";this.clog(t,r,o,a,i,n)}}var G9=U9;const z9=rr(G9),re=new z9;re.setLevel("INFO");const H9={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{JJ:"",SJ:"",YH:"",WebgalUI:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},exit:{title:"",subtitle:"EXIT"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",fullscreen:"",options:"",title:"",titleTips:""}},extra:{title:""}};var yi=(e=>(e[e.zhCn=0]="zhCn",e))(yi||{});const Sh={zhCn:""},V9={zhCn:{translation:H9}},W9=0,dk={slPage:1,volumeMain:50,textSpeed:90,autoSpeed:50,textSize:nn.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:cs.fangyuan,textboxOpacity:75,language:yi.zhCn,voiceInterruption:gl.yes,fullScreen:wx.off},gy={optionData:dk,scriptManagedGlobalVar:[],globalGameVar:{},appreciationData:{bgm:[],cg:[]}},pk=Rd({name:"userData",initialState:yt(gy),reducers:{setUserData:(e,t)=>{const{key:r,value:n}=t.payload;e[r]=n},unlockCgInUserData:(e,t)=>{const{name:r,url:n,series:i}=t.payload;let o=!1;e.appreciationData.cg.forEach(a=>{n===a.url&&(o=!0,a.url=n,a.series=i)}),o||e.appreciationData.cg.push(t.payload)},unlockBgmInUserData:(e,t)=>{const{name:r,url:n,series:i}=t.payload;let o=!1;e.appreciationData.bgm.forEach(a=>{n===a.url&&(o=!0,a.url=n,a.series=i)}),o||e.appreciationData.bgm.push(t.payload)},resetUserData:(e,t)=>{Object.assign(e,t.payload)},setOptionData:(e,t)=>{const{key:r,value:n}=t.payload;e.optionData[r]=n},setGlobalVar:(e,t)=>{e.scriptManagedGlobalVar.findIndex(n=>n===t.payload.key)>=0||(e.globalGameVar[t.payload.key]=t.payload.value)},setScriptManagedGlobalVar:(e,t)=>{const r=e.scriptManagedGlobalVar.findIndex(n=>n===t.payload.key)>=0;e.globalGameVar[t.payload.key]=t.payload.value,r||e.scriptManagedGlobalVar.push(t.payload.key)},setSlPage:(e,t)=>{e.optionData.slPage=t.payload},resetOptionSet(e){Object.assign(e.optionData,dk)},resetAllData(e){Object.assign(e,yt(gy))}}}),{setUserData:Vxe,resetUserData:Zx,setOptionData:Jt,setGlobalVar:kE,setScriptManagedGlobalVar:q9,setSlPage:vk,unlockCgInUserData:mk,unlockBgmInUserData:gk,resetOptionSet:X9,resetAllData:Y9}=pk.actions,K9=pk.reducer,vt=yk(()=>{const e=B.getState().userData;Qo.setItem(C.gameKey,e).then(()=>{re.info("")})},100),xl=yk(()=>{Qo.getItem(C.gameKey).then(e=>{if(!e||!_k(e)){re.warn(""),vt();return}B.dispatch(Zx(e))})},100);function yk(e,t){let r;function n(...i){clearTimeout(r);let o;return r=setTimeout(()=>{o=e.apply(n,i)},t),o}return n}const wh=()=>{const e=B.getState().userData;Qo.setItem(C.gameKey,e).then(()=>{Qo.getItem(C.gameKey).then(t=>{if(!t){vt();return}B.dispatch(Zx(t))}),re.info("")})};function _k(e){let t=!0;for(const r in gy)e.hasOwnProperty(r)||(t=!1);return t}async function xk(){const e=await Qo.getItem(C.gameKey);if(!e||!_k(e)){const t=B.getState().userData;return re.warn(""),await Qo.setItem(C.gameKey,t)}else B.dispatch(Zx(e))}var Ke=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(Ke||{});const Z9={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:Ke.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,enableAppreciationMode:!1,fontOptimization:!1},bk=Rd({name:"gui",initialState:Z9,reducers:{setVisibility:(e,t)=>{xl();const{component:r,visibility:n}=t.payload;e[r]=n},setMenuPanelTag:(e,t)=>{xl(),e.currentMenuTag=t.payload},setGuiAsset:(e,t)=>{const{asset:r,value:n}=t.payload;e[r]=n},setLogoImage:(e,t)=>{e.logoImage=[...t.payload]},setEnableAppreciationMode:(e,t)=>{e.enableAppreciationMode=t.payload},setFontOptimization:(e,t)=>{e.fontOptimization=t.payload}}}),{setVisibility:Ie,setMenuPanelTag:Ho,setGuiAsset:Eh,setLogoImage:J9,setEnableAppreciationMode:Q9,setFontOptimization:eH}=bk.actions,tH=bk.reducer,rH={saveData:[],quickSaveData:null},Sk=Rd({name:"saveData",initialState:yt(rH),reducers:{setFastSave:(e,t)=>{e.quickSaveData=t.payload},resetFastSave:e=>{e.quickSaveData=null},resetSaves:e=>{e.quickSaveData=null,e.saveData=[]},saveGame:(e,t)=>{e.saveData[t.payload.index]=t.payload.saveData},replaceSaveGame:(e,t)=>{e.saveData=t.payload}}}),vi=Sk.actions,nH=Sk.reducer,B=vj({reducer:{stage:Wz,GUI:tH,userData:K9,saveData:nH},middleware:O2({serializableCheck:!1})}),wk={backlog_size:200,fast_timeout:50},iH={textInitialDelay:80};class oH{constructor(t){oe(this,"isSaveBacklogNext",!1);oe(this,"backlog",[]);oe(this,"sceneManager");this.sceneManager=t}getBacklog(){return this.backlog}editLastBacklogItemEffect(t){this.backlog[this.backlog.length-1].currentStageState.effects=t}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(t){this.backlog.push(t)}saveCurrentStateToBacklog(){const t=B.getState().stage,r=yt(t);r.PerformList.forEach(i=>{i.script.args.forEach(o=>{o.key==="concat"&&(o.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:yt(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>wk.backlog_size;)this.getBacklog().shift()}}const RE={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class aH{constructor(){oe(this,"settledScenes",[]);oe(this,"settledAssets",[]);oe(this,"sceneData",yt(RE));oe(this,"lockSceneWrite",!1)}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=yt(RE.currentScene)}}class sH{constructor(){oe(this,"nextEnterAnimationName",new Map);oe(this,"nextExitAnimationName",new Map);oe(this,"animations",[])}addAnimation(t){this.animations.push(t)}getAnimations(){return this.animations}}const uH={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};var Br=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e))(Br||{});const jr=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let r;switch(t){case 0:r=`./game/background/${e}`;break;case 3:r=`./game/scene/${e}`;break;case 5:r=`./game/vocal/${e}`;break;case 2:r=`./game/figure/${e}`;break;case 1:r=`./game/bgm/${e}`;break;case 6:r=`./game/video/${e}`;break;default:r="";break}return r}},lH=e=>{for(const t of e)if(C.sceneManager.settledAssets.includes(t.url))re.debug(`${t.url}`);else{const n=document.createElement("link");n.setAttribute("rel","prefetch"),n.setAttribute("href",t.url);const i=document.getElementsByTagName("head");if(i.length)try{i[0].appendChild(n)}catch(o){console.log("",o)}C.sceneManager.settledAssets.push(t.url)}};var ae;(function(e){e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setComplexAnimation=12]="setComplexAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e[e.setAnimation=25]="setAnimation",e[e.playEffect=26]="playEffect",e[e.setTempAnimation=27]="setTempAnimation",e[e.comment=28]="comment",e[e.setTransform=29]="setTransform",e[e.setTransition=30]="setTransition",e[e.getUserInput=31]="getUserInput",e[e.applyStyle=32]="applyStyle",e[e.wait=33]="wait"})(ae||(ae={}));ae.intro,ae.changeBg,ae.changeFigure,ae.miniAvatar,ae.changeScene,ae.choose,ae.end,ae.bgm,ae.video,ae.setComplexAnimation,ae.setFilter,ae.pixiInit,ae.pixi,ae.label,ae.jumpLabel,ae.setVar,ae.callScene,ae.showVars,ae.unlockCg,ae.unlockBgm,ae.say,ae.filmMode,ae.callScene,ae.setTextbox,ae.setAnimation,ae.playEffect,ae.applyStyle,ae.wait;ae.bgm,ae.pixi,ae.pixiInit,ae.label,ae.if,ae.miniAvatar,ae.setVar,ae.unlockBgm,ae.unlockCg,ae.filmMode,ae.playEffect;var At;(function(e){e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video"})(At||(At={}));function Ek(e,t){const r=[];let i=e.replace(/ /g," ").split(" -");return i=i.filter(o=>o!==""),i.forEach(o=>{const a=o.indexOf("=");let s=o.slice(0,a),u=o.slice(a+1);a<0&&(s=o,u=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:t(o,At.vocal)}):u===void 0?r.push({key:s,value:!0}):u==="true"||u==="false"?r.push({key:s,value:u==="true"}):isNaN(Number(u))?r.push({key:s,value:u}):r.push({key:s,value:Number(u)})}),r}function cH(e){const t=[];let r,n=e.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/\s*:\s*/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const o=/ -/.exec(n);if(o){const a=n.substring(o.index,n.length);n=n.substring(0,o.index);for(const s of Ek(a,(u,l)=>u))t.push(s)}return{command:r,args:n.split("|").map(a=>a.trim()).filter(a=>a!==""),options:t}}function fH(e){return e.replaceAll("\r","").split(`
`).map(r=>cH(r)).filter(r=>r.command!=="")}const IE=(e,t,r)=>{let n={type:ae.say,additionalArgs:[]};const i=hH(e,t,r);return n.type=i,i===ae.say&&e!=="say"&&n.additionalArgs.push({key:"speaker",value:e}),n=dH(n,i,t),n};function hH(e,t,r){var n;return((n=r.get(e))==null?void 0:n.scriptType)??ae.say}function dH(e,t,r){return r.includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}const pH=(e,t,r)=>{if(e==="none"||e==="")return"";switch(t){case ae.playEffect:return r(e,At.vocal);case ae.changeBg:return r(e,At.background);case ae.changeFigure:return r(e,At.figure);case ae.bgm:return r(e,At.bgm);case ae.callScene:return r(e,At.scene);case ae.changeScene:return r(e,At.scene);case ae.miniAvatar:return r(e,At.figure);case ae.video:return r(e,At.video);case ae.choose:return vH(e,r);case ae.unlockBgm:return r(e,At.bgm);case ae.unlockCg:return r(e,At.background);default:return e}};function vH(e,t){const r=e.split(new RegExp("(?<!\\\\)\\|")),n=[],i=[];for(const s of r)n.push(s.split(new RegExp("(?<!\\\\):"))[0]??""),i.push(s.split(new RegExp("(?<!\\\\):"))[1]??"");const o=i.map(s=>s.match(/\./)?t(s,At.scene):s);let a="";for(let s=0;s<n.length;s++)s!==0&&(a=a+"|"),a=a+`${n[s]}:${o[s]}`;return a}const mH=(e,t,r)=>{const n=[];return e===ae.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:At.vocal})}),t==="none"||t===""||(e===ae.changeBg&&n.push({name:t,url:t,lineNumber:0,type:At.background}),e===ae.changeFigure&&n.push({name:t,url:t,lineNumber:0,type:At.figure}),e===ae.miniAvatar&&n.push({name:t,url:t,lineNumber:0,type:At.figure}),e===ae.video&&n.push({name:t,url:t,lineNumber:0,type:At.video}),e===ae.bgm&&n.push({name:t,url:t,lineNumber:0,type:At.bgm})),n},gH=(e,t)=>{const r=[];return(e===ae.changeScene||e===ae.callScene)&&r.push(t),e===ae.choose&&t.split("|").map(o=>o.split(":")[1]??"").forEach(o=>{o.match(/\./)&&r.push(o)}),r},yH=(e,t,r,n)=>{let i,o,a;const s=[];let u,l,c,f=e.split(new RegExp("(?<!\\\\);"))[0];if(f=f.replaceAll("\\;",";"),f==="")return{command:ae.comment,commandRaw:"comment",content:e.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){c=f,l=IE(c,r,n),i=l.type;for(const v of l.additionalArgs)i===ae.say&&v.key==="speaker"||s.push(v)}else{c=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=IE(c,r,n),i=l.type;for(const v of l.additionalArgs)s.push(v)}const d=/ -/.exec(f);if(d){const v=f.substring(d.index,e.length);f=f.substring(0,d.index);for(const g of Ek(v,t))s.push(g)}return o=pH(f.trim(),i,t),u=mH(i,o,s),a=gH(i,o),{command:i,commandRaw:c.trim(),content:o,args:s,sentenceAssets:u,subScene:a}};var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_H=typeof Ic=="object"&&Ic&&Ic.Object===Object&&Ic,xH=_H,bH=xH,SH=typeof self=="object"&&self&&self.Object===Object&&self,wH=bH||SH||Function("return this")(),Wd=wH,EH=Wd,TH=EH.Symbol,Tk=TH,NE=Tk,Ck=Object.prototype,CH=Ck.hasOwnProperty,OH=Ck.toString,du=NE?NE.toStringTag:void 0;function AH(e){var t=CH.call(e,du),r=e[du];try{e[du]=void 0;var n=!0}catch{}var i=OH.call(e);return n&&(t?e[du]=r:delete e[du]),i}var PH=AH,kH=Object.prototype,RH=kH.toString;function IH(e){return RH.call(e)}var NH=IH,LE=Tk,LH=PH,MH=NH,FH="[object Null]",DH="[object Undefined]",ME=LE?LE.toStringTag:void 0;function BH(e){return e==null?e===void 0?DH:FH:ME&&ME in Object(e)?LH(e):MH(e)}var jH=BH;function $H(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ok=$H,UH=jH,GH=Ok,zH="[object AsyncFunction]",HH="[object Function]",VH="[object GeneratorFunction]",WH="[object Proxy]";function qH(e){if(!GH(e))return!1;var t=UH(e);return t==HH||t==VH||t==zH||t==WH}var XH=qH,YH=Wd,KH=YH["__core-js_shared__"],ZH=KH,Bv=ZH,FE=function(){var e=/[^.]+$/.exec(Bv&&Bv.keys&&Bv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JH(e){return!!FE&&FE in e}var QH=JH,eV=Function.prototype,tV=eV.toString;function rV(e){if(e!=null){try{return tV.call(e)}catch{}try{return e+""}catch{}}return""}var nV=rV,iV=XH,oV=QH,aV=Ok,sV=nV,uV=/[\\^$.*+?()[\]{}|]/g,lV=/^\[object .+?Constructor\]$/,cV=Function.prototype,fV=Object.prototype,hV=cV.toString,dV=fV.hasOwnProperty,pV=RegExp("^"+hV.call(dV).replace(uV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vV(e){if(!aV(e)||oV(e))return!1;var t=iV(e)?pV:lV;return t.test(sV(e))}var mV=vV;function gV(e,t){return e==null?void 0:e[t]}var yV=gV,_V=mV,xV=yV;function bV(e,t){var r=xV(e,t);return _V(r)?r:void 0}var Jx=bV,SV=Jx,wV=SV(Object,"create"),qd=wV,DE=qd;function EV(){this.__data__=DE?DE(null):{},this.size=0}var TV=EV;function CV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var OV=CV,AV=qd,PV="__lodash_hash_undefined__",kV=Object.prototype,RV=kV.hasOwnProperty;function IV(e){var t=this.__data__;if(AV){var r=t[e];return r===PV?void 0:r}return RV.call(t,e)?t[e]:void 0}var NV=IV,LV=qd,MV=Object.prototype,FV=MV.hasOwnProperty;function DV(e){var t=this.__data__;return LV?t[e]!==void 0:FV.call(t,e)}var BV=DV,jV=qd,$V="__lodash_hash_undefined__";function UV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=jV&&t===void 0?$V:t,this}var GV=UV,zV=TV,HV=OV,VV=NV,WV=BV,qV=GV;function Ds(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ds.prototype.clear=zV;Ds.prototype.delete=HV;Ds.prototype.get=VV;Ds.prototype.has=WV;Ds.prototype.set=qV;var XV=Ds;function YV(){this.__data__=[],this.size=0}var KV=YV;function ZV(e,t){return e===t||e!==e&&t!==t}var JV=ZV,QV=JV;function eW(e,t){for(var r=e.length;r--;)if(QV(e[r][0],t))return r;return-1}var Xd=eW,tW=Xd,rW=Array.prototype,nW=rW.splice;function iW(e){var t=this.__data__,r=tW(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():nW.call(t,r,1),--this.size,!0}var oW=iW,aW=Xd;function sW(e){var t=this.__data__,r=aW(t,e);return r<0?void 0:t[r][1]}var uW=sW,lW=Xd;function cW(e){return lW(this.__data__,e)>-1}var fW=cW,hW=Xd;function dW(e,t){var r=this.__data__,n=hW(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pW=dW,vW=KV,mW=oW,gW=uW,yW=fW,_W=pW;function Bs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bs.prototype.clear=vW;Bs.prototype.delete=mW;Bs.prototype.get=gW;Bs.prototype.has=yW;Bs.prototype.set=_W;var xW=Bs,bW=Jx,SW=Wd,wW=bW(SW,"Map"),EW=wW,BE=XV,TW=xW,CW=EW;function OW(){this.size=0,this.__data__={hash:new BE,map:new(CW||TW),string:new BE}}var AW=OW;function PW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var kW=PW,RW=kW;function IW(e,t){var r=e.__data__;return RW(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Yd=IW,NW=Yd;function LW(e){var t=NW(this,e).delete(e);return this.size-=t?1:0,t}var MW=LW,FW=Yd;function DW(e){return FW(this,e).get(e)}var BW=DW,jW=Yd;function $W(e){return jW(this,e).has(e)}var UW=$W,GW=Yd;function zW(e,t){var r=GW(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var HW=zW,VW=AW,WW=MW,qW=BW,XW=UW,YW=HW;function js(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}js.prototype.clear=VW;js.prototype.delete=WW;js.prototype.get=qW;js.prototype.has=XW;js.prototype.set=YW;var KW=js,ZW="__lodash_hash_undefined__";function JW(e){return this.__data__.set(e,ZW),this}var QW=JW;function e7(e){return this.__data__.has(e)}var t7=e7,r7=KW,n7=QW,i7=t7;function Th(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new r7;++t<r;)this.add(e[t])}Th.prototype.add=Th.prototype.push=n7;Th.prototype.has=i7;var o7=Th;function a7(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var s7=a7;function u7(e){return e!==e}var l7=u7;function c7(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var f7=c7,h7=s7,d7=l7,p7=f7;function v7(e,t,r){return t===t?p7(e,t,r):h7(e,d7,r)}var m7=v7,g7=m7;function y7(e,t){var r=e==null?0:e.length;return!!r&&g7(e,t,0)>-1}var _7=y7;function x7(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var b7=x7;function S7(e,t){return e.has(t)}var w7=S7,E7=Jx,T7=Wd,C7=E7(T7,"Set"),O7=C7;function A7(){}var P7=A7;function k7(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ak=k7,jv=O7,R7=P7,I7=Ak,N7=1/0,L7=jv&&1/I7(new jv([,-0]))[1]==N7?function(e){return new jv(e)}:R7,M7=L7,F7=o7,D7=_7,B7=b7,j7=w7,$7=M7,U7=Ak,G7=200;function z7(e,t,r){var n=-1,i=D7,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=B7;else if(o>=G7){var l=t?null:$7(e);if(l)return U7(l);a=!1,i=j7,u=new F7}else u=t?[]:s;e:for(;++n<o;){var c=e[n],f=t?t(c):c;if(c=r||c!==0?c:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,r)||(u!==s&&u.push(f),s.push(c))}return s}var H7=z7,V7=H7;function W7(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?V7(e,void 0,t):[]}var q7=W7;const X7=(e,t,r,n,i,o,a)=>{const u=e.split(`
`);let l=[],c=[];const f=u.map(h=>{const d=yH(h,i,o,a);return l=[...l,...d.sentenceAssets],c=[...c,...d.subScene],d});return l=q7(l),n(l),{sceneName:t,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:c}};function Y7(e){const[t,r]=K7(e);return{classNameStyles:t,others:r}}function K7(e){const t={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,o=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(e))!==null;){const a=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);t[a]=s}for(;(n=o.exec(e))!==null;)r+=n[1].trim()+`
`;return[t,r.trim()]}class Z7{constructor(t,r,n,i){oe(this,"assetsPrefetcher");oe(this,"assetSetter");oe(this,"ADD_NEXT_ARG_LIST");oe(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=t,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(o=>{this.SCRIPT_CONFIG_MAP.set(o.scriptString,o)})):this.SCRIPT_CONFIG_MAP=i}parse(t,r,n){return X7(t,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(t){return fH(t)}stringifyConfig(t){return t.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,o)=>i+" -"+o.key+"="+o.value,"")};
`,"")}parseScssToWebgalStyleObj(t){return Y7(t)}}let jE;function Qx(e,t=0,r=100){if(re.debug("playing bgm"+e),e===""){jE=setTimeout(()=>{B.dispatch(Te({key:"bgm",value:{src:"",enter:0,volume:100}}))},t);const n=B.getState().stage.bgm.src;B.dispatch(Te({key:"bgm",value:{src:n,enter:-t,volume:r}}))}else clearTimeout(jE),B.dispatch(Te({key:"bgm",value:{src:e,enter:t,volume:r}}));setTimeout(()=>{const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())},0)}function Oe(e,t){const n=e.args.find(i=>i.key===t);return n?n.value:null}const J7=e=>{let t=e.content,r="",n="default";e.args.forEach(a=>{a.key==="unlockname"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())});const i=Oe(e,"enter"),o=Oe(e,"volume");return r!==""&&B.dispatch(gk({name:r,url:t,series:n})),Qx(t,typeof i=="number"&&i>=0?i:0,typeof o=="number"&&o>=0&&o<=100?o:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var eb={exports:{}},Pk=function(t,r){return function(){return t.apply(r,arguments)}},Q7=Pk,tb=Object.prototype.toString,rb=function(e){return function(t){var r=tb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function yo(e){return e=e.toLowerCase(),function(r){return rb(r)===e}}function Kd(e){return Array.isArray(e)}function yy(e){return typeof e>"u"}function eq(e){return e!==null&&!yy(e)&&e.constructor!==null&&!yy(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var kk=yo("ArrayBuffer");function tq(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kk(e.buffer),t}function rq(e){return typeof e=="string"}function Rk(e){return typeof e=="number"}function Ik(e){return e!==null&&typeof e=="object"}function Of(e){if(rb(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function nq(e){return e&&Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}var iq=yo("Date"),oq=yo("File"),aq=yo("Blob"),sq=yo("FileList");function nb(e){return tb.call(e)==="[object Function]"}function uq(e){return Ik(e)&&nb(e.pipe)}function lq(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||tb.call(e)===t||nb(e.toString)&&e.toString()===t)}var cq=yo("URLSearchParams");function fq(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function hq(){var e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ib(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Kd(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function _y(){var e={};function t(i,o){Of(e[o])&&Of(i)?e[o]=_y(e[o],i):Of(i)?e[o]=_y({},i):Kd(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)ib(arguments[r],t);return e}function dq(e,t,r){return ib(t,function(i,o){r&&typeof i=="function"?e[o]=Q7(i,r):e[o]=i}),e}function pq(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function vq(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function mq(e,t,r,n){var i,o,a,s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!n||n(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=r!==!1&&Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function gq(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return n!==-1&&n===r}function yq(e){if(!e)return null;if(Kd(e))return e;var t=e.length;if(!Rk(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var _q=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function xq(e,t){for(var r=e&&e[Symbol.iterator],n=r.call(e),i;(i=n.next())&&!i.done;){var o=i.value;t.call(e,o[0],o[1])}}function bq(e,t){for(var r,n=[];(r=e.exec(t))!==null;)n.push(r);return n}var Sq=yo("HTMLFormElement"),wq=function(t){return function(r,n){return t.call(r,n)}}(Object.prototype.hasOwnProperty),Bt={isArray:Kd,isArrayBuffer:kk,isBuffer:eq,isFormData:lq,isArrayBufferView:tq,isString:rq,isNumber:Rk,isObject:Ik,isPlainObject:Of,isEmptyObject:nq,isUndefined:yy,isDate:iq,isFile:oq,isBlob:aq,isFunction:nb,isStream:uq,isURLSearchParams:cq,isStandardBrowserEnv:hq,forEach:ib,merge:_y,extend:dq,trim:fq,stripBOM:pq,inherits:vq,toFlatObject:mq,kindOf:rb,kindOfTest:yo,endsWith:gq,toArray:yq,isTypedArray:_q,isFileList:sq,forEachEntry:xq,matchAll:bq,isHTMLForm:Sq,hasOwnProperty:wq},Nk=Bt;function hs(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Nk.inherits(hs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Lk=hs.prototype,Mk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){Mk[e]={value:e}});Object.defineProperties(hs,Mk);Object.defineProperty(Lk,"isAxiosError",{value:!0});hs.from=function(e,t,r,n,i,o){var a=Object.create(Lk);return Nk.toFlatObject(e,a,function(u){return u!==Error.prototype}),hs.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var ha=hs,Eq=typeof self=="object"?self.FormData:window.FormData,Tq=Eq,rt=Bt,Cq=ha,Oq=Tq;function xy(e){return rt.isPlainObject(e)||rt.isArray(e)}function Fk(e){return rt.endsWith(e,"[]")?e.slice(0,-2):e}function $E(e,t,r){return e?e.concat(t).map(function(i,o){return i=Fk(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function Aq(e){return rt.isArray(e)&&!e.some(xy)}var Pq=rt.toFlatObject(rt,{},null,function(t){return/^is[A-Z]/.test(t)});function kq(e){return e&&rt.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Rq(e,t,r){if(!rt.isObject(e))throw new TypeError("target must be an object");t=t||new(Oq||FormData),r=rt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!rt.isUndefined(p[g])});var n=r.metaTokens,i=r.visitor||c,o=r.dots,a=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,u=s&&kq(t);if(!rt.isFunction(i))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(rt.isDate(v))return v.toISOString();if(!u&&rt.isBlob(v))throw new Cq("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(v)||rt.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,g,p){var m=v;if(v&&!p&&typeof v=="object"){if(rt.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(rt.isArray(v)&&Aq(v)||rt.isFileList(v)||rt.endsWith(g,"[]")&&(m=rt.toArray(v)))return g=Fk(g),m.forEach(function(_,x){!rt.isUndefined(_)&&t.append(a===!0?$E([g],x,o):a===null?g:g+"[]",l(_))}),!1}return xy(v)?!0:(t.append($E(p,g,o),l(v)),!1)}var f=[],h=Object.assign(Pq,{defaultVisitor:c,convertValue:l,isVisitable:xy});function d(v,g){if(!rt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),rt.forEach(v,function(m,y){var _=!rt.isUndefined(m)&&i.call(t,m,rt.isString(y)?y.trim():y,g,h);_===!0&&d(m,g?g.concat(y):[y])}),f.pop()}}if(!rt.isObject(e))throw new TypeError("data must be an object");return d(e),t}var Zd=Rq,Iq=Zd;function UE(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(n){return t[n]})}function Dk(e,t){this._pairs=[],e&&Iq(e,this,t)}var Bk=Dk.prototype;Bk.append=function(t,r){this._pairs.push([t,r])};Bk.toString=function(t){var r=t?function(n){return t.call(this,n,UE)}:UE;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var jk=Dk,Nq=Bt,Lq=jk;function Mq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $k=function(t,r,n){if(!r)return t;var i=t.indexOf("#");i!==-1&&(t=t.slice(0,i));var o=n&&n.encode||Mq,a=n&&n.serialize,s;return a?s=a(r,n):s=Nq.isURLSearchParams(r)?r.toString():new Lq(r,n).toString(o),s&&(t+=(t.indexOf("?")===-1?"?":"&")+s),t},Fq=Bt;function rc(){this.handlers=[]}rc.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};rc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};rc.prototype.clear=function(){this.handlers&&(this.handlers=[])};rc.prototype.forEach=function(t){Fq.forEach(this.handlers,function(n){n!==null&&t(n)})};var Dq=rc,Bq=Bt,Uk=function(t,r){Bq.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},Gk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jq=jk,$q=typeof URLSearchParams<"u"?URLSearchParams:jq,Uq=FormData,Gq={isBrowser:!0,classes:{URLSearchParams:$q,FormData:Uq,Blob},protocols:["http","https","file","blob","url","data"]},ob=Gq,zq=Bt,Hq=Zd,GE=ob,Vq=function(t,r){return Hq(t,new GE.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,a){return GE.isNode&&zq.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},r))},Pi=Bt;function Wq(e){return Pi.matchAll(/\w+|\[(\w*)]/g,e).map(function(t){return t[0]==="[]"?"":t[1]||t[0]})}function qq(e){var t={},r=Object.keys(e),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function Xq(e){function t(n,i,o,a){var s=n[a++],u=Number.isFinite(+s),l=a>=n.length;if(s=!s&&Pi.isArray(o)?o.length:s,l)return Pi.hasOwnProperty(o,s)?o[s]=[o[s],i]:o[s]=i,!u;(!o[s]||!Pi.isObject(o[s]))&&(o[s]=[]);var c=t(n,i,o[s],a);return c&&Pi.isArray(o[s])&&(o[s]=qq(o[s])),!u}if(Pi.isFormData(e)&&Pi.isFunction(e.entries)){var r={};return Pi.forEachEntry(e,function(n,i){t(Wq(n),i,r,0)}),r}return null}var zk=Xq,$v,zE;function Yq(){if(zE)return $v;zE=1;var e=ha;return $v=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},$v}var Uv,HE;function Kq(){if(HE)return Uv;HE=1;var e=Bt;return Uv=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,a,s,u){var l=[];l.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),e.isString(a)&&l.push("path="+a),e.isString(s)&&l.push("domain="+s),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Uv}var Zq=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Jq=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},Qq=Zq,eX=Jq,Hk=function(t,r){return t&&!Qq(r)?eX(t,r):r},Gv,VE;function tX(){if(VE)return Gv;VE=1;var e=Bt,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Gv=function(n){var i={},o,a,s;return n&&e.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),o=e.trim(l.slice(0,s)).toLowerCase(),a=e.trim(l.slice(s+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([a]):i[o]=i[o]?i[o]+", "+a:a}}),i},Gv}var zv,WE;function rX(){if(WE)return zv;WE=1;var e=Bt;return zv=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(a){var s=a;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(s){var u=e.isString(s)?o(s):s;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),zv}var Hv,qE;function Jd(){if(qE)return Hv;qE=1;var e=ha,t=Bt;function r(n,i,o){e.call(this,n??"canceled",e.ERR_CANCELED,i,o),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),Hv=r,Hv}var Vv,XE;function nX(){return XE||(XE=1,Vv=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),Vv}var Wv,YE;function KE(){if(YE)return Wv;YE=1;var e=Bt,t=Yq(),r=Kq(),n=$k,i=Hk,o=tX(),a=rX(),s=Gk,u=ha,l=Jd(),c=nX(),f=ob;return Wv=function(d){return new Promise(function(g,p){var m=d.data,y=d.headers,_=d.responseType,x=d.withXSRFToken,b;function w(){d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}e.isFormData(m)&&e.isStandardBrowserEnv()&&delete y["Content-Type"];var E=new XMLHttpRequest;if(d.auth){var P=d.auth.username||"",A=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";y.Authorization="Basic "+btoa(P+":"+A)}var k=i(d.baseURL,d.url);E.open(d.method.toUpperCase(),n(k,d.params,d.paramsSerializer),!0),E.timeout=d.timeout;function F(){if(E){var q="getAllResponseHeaders"in E?o(E.getAllResponseHeaders()):null,D=!_||_==="text"||_==="json"?E.responseText:E.response,U={data:D,status:E.status,statusText:E.statusText,headers:q,config:d,request:E};t(function(de){g(de),w()},function(de){p(de),w()},U),E=null}}if("onloadend"in E?E.onloadend=F:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(F)},E.onabort=function(){E&&(p(new u("Request aborted",u.ECONNABORTED,d,E)),E=null)},E.onerror=function(){p(new u("Network Error",u.ERR_NETWORK,d,E)),E=null},E.ontimeout=function(){var D=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",U=d.transitional||s;d.timeoutErrorMessage&&(D=d.timeoutErrorMessage),p(new u(D,U.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,d,E)),E=null},e.isStandardBrowserEnv()&&(x&&e.isFunction(x)&&(x=x(d)),x||x!==!1&&a(k))){var j=d.xsrfHeaderName&&d.xsrfCookieName&&r.read(d.xsrfCookieName);j&&(y[d.xsrfHeaderName]=j)}"setRequestHeader"in E&&e.forEach(y,function(D,U){typeof m>"u"&&U.toLowerCase()==="content-type"?delete y[U]:E.setRequestHeader(U,D)}),e.isUndefined(d.withCredentials)||(E.withCredentials=!!d.withCredentials),_&&_!=="json"&&(E.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&E.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(b=function(q){E&&(p(!q||q.type?new l(null,d,E):q),E.abort(),E=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b))),!m&&m!==!1&&m!==0&&m!==""&&(m=null);var z=c(k);if(z&&f.protocols.indexOf(z)===-1){p(new u("Unsupported protocol "+z+":",u.ERR_BAD_REQUEST,d));return}E.send(m)})},Wv}var Nt=Bt,ZE=Uk,JE=ha,iX=Gk,oX=Zd,aX=Vq,QE=ob,sX=zk,uX={"Content-Type":"application/x-www-form-urlencoded"};function eT(e,t){!Nt.isUndefined(e)&&Nt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function lX(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=KE()),e}function cX(e,t,r){if(Nt.isString(e))try{return(t||JSON.parse)(e),Nt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Qd={transitional:iX,adapter:lX(),transformRequest:[function(t,r){ZE(r,"Accept"),ZE(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,o=Nt.isObject(t);o&&Nt.isHTMLForm(t)&&(t=new FormData(t));var a=Nt.isFormData(t);if(a)return i?JSON.stringify(sX(t)):t;if(Nt.isArrayBuffer(t)||Nt.isBuffer(t)||Nt.isStream(t)||Nt.isFile(t)||Nt.isBlob(t))return t;if(Nt.isArrayBufferView(t))return t.buffer;if(Nt.isURLSearchParams(t))return eT(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var s;if(o){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return aX(t,this.formSerializer).toString();if((s=Nt.isFileList(t))||n.indexOf("multipart/form-data")>-1){var u=this.env&&this.env.FormData;return oX(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||i?(eT(r,"application/json"),cX(t)):t}],transformResponse:[function(t){var r=this.transitional||Qd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&Nt.isString(t)&&(n&&!this.responseType||i)){var o=r&&r.silentJSONParsing,a=!o&&i;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?JE.from(s,JE.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:QE.classes.FormData,Blob:QE.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Nt.forEach(["delete","get","head"],function(t){Qd.headers[t]={}});Nt.forEach(["post","put","patch"],function(t){Qd.headers[t]=Nt.merge(uX)});var ab=Qd,fX=Bt,hX=ab,dX=function(t,r,n,i){var o=this||hX;return fX.forEach(i,function(s){t=s.call(o,t,r,n)}),t},qv,tT;function Vk(){return tT||(tT=1,qv=function(t){return!!(t&&t.__CANCEL__)}),qv}var rT=Bt,Xv=dX,pX=Vk(),vX=ab,mX=Jd(),nT=Uk;function Yv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mX}var gX=function(t){Yv(t),t.headers=t.headers||{},t.data=Xv.call(t,t.data,t.headers,null,t.transformRequest),nT(t.headers,"Accept"),nT(t.headers,"Content-Type"),t.headers=rT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),rT.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||vX.adapter;return r(t).then(function(i){return Yv(t),i.data=Xv.call(t,i.data,i.headers,i.status,t.transformResponse),i},function(i){return pX(i)||(Yv(t),i&&i.response&&(i.response.data=Xv.call(t,i.response.data,i.response.headers,i.response.status,t.transformResponse))),Promise.reject(i)})},gr=Bt,Wk=function(t,r){r=r||{};var n={};function i(c,f){return gr.isPlainObject(c)&&gr.isPlainObject(f)?gr.merge(c,f):gr.isEmptyObject(f)?gr.merge({},c):gr.isPlainObject(f)?gr.merge({},f):gr.isArray(f)?f.slice():f}function o(c){if(gr.isUndefined(r[c])){if(!gr.isUndefined(t[c]))return i(void 0,t[c])}else return i(t[c],r[c])}function a(c){if(!gr.isUndefined(r[c]))return i(void 0,r[c])}function s(c){if(gr.isUndefined(r[c])){if(!gr.isUndefined(t[c]))return i(void 0,t[c])}else return i(void 0,r[c])}function u(c){if(c in r)return i(t[c],r[c]);if(c in t)return i(void 0,t[c])}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return gr.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var h=l[f]||o,d=h(f);gr.isUndefined(d)&&h!==u||(n[f]=d)}),n},Kv,iT;function qk(){return iT||(iT=1,Kv={version:"0.28.1"}),Kv}var yX=qk().version,Ii=ha,sb={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){sb[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var oT={};sb.transitional=function(t,r,n){function i(o,a){return"[Axios v"+yX+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Ii(i(a," has been removed"+(r?" in "+r:"")),Ii.ERR_DEPRECATED);return r&&!oT[a]&&(oT[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function _X(e,t,r){if(typeof e!="object")throw new Ii("options must be an object",Ii.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],u=s===void 0||a(s,o,e);if(u!==!0)throw new Ii("option "+o+" must be "+u,Ii.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ii("Unknown option "+o,Ii.ERR_BAD_OPTION)}}var xX={assertOptions:_X,validators:sb},ub=Bt,bX=$k,aT=Dq,sT=gX,ep=Wk,SX=Hk,by=xX,Oi=by.validators;function ds(e){this.defaults=e,this.interceptors={request:new aT,response:new aT}}ds.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ep(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&by.assertOptions(n,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1);var i=r.paramsSerializer;i!==void 0&&by.assertOptions(i,{encode:Oi.function,serialize:Oi.function},!0),ub.isFunction(i)&&(r.paramsSerializer={serialize:i});var o=[],a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(a=a&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});var s=[];this.interceptors.response.forEach(function(v){s.push(v.fulfilled,v.rejected)});var u;if(!a){var l=[sT,void 0];for(Array.prototype.unshift.apply(l,o),l=l.concat(s),u=Promise.resolve(r);l.length;)u=u.then(l.shift(),l.shift());return u}for(var c=r;o.length;){var f=o.shift(),h=o.shift();try{c=f(c)}catch(d){h(d);break}}try{u=sT(c)}catch(d){return Promise.reject(d)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};ds.prototype.getUri=function(t){t=ep(this.defaults,t);var r=SX(t.baseURL,t.url);return bX(r,t.params,t.paramsSerializer)};ub.forEach(["delete","get","head","options"],function(t){ds.prototype[t]=function(r,n){return this.request(ep(n||{},{method:t,url:r,data:(n||{}).data}))}});ub.forEach(["post","put","patch"],function(t){function r(n){return function(o,a,s){return this.request(ep(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ds.prototype[t]=r(),ds.prototype[t+"Form"]=r(!0)});var wX=ds,Zv,uT;function EX(){if(uT)return Zv;uT=1;var e=Jd();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(a){n=a});var i=this;this.promise.then(function(o){if(i._listeners){for(var a=i._listeners.length;a-- >0;)i._listeners[a](o);i._listeners=null}}),this.promise.then=function(o){var a,s=new Promise(function(u){i.subscribe(u),a=u}).then(o);return s.cancel=function(){i.unsubscribe(a)},s},r(function(a,s,u){i.reason||(i.reason=new e(a,s,u),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var n,i=new t(function(a){n=a});return{token:i,cancel:n}},Zv=t,Zv}var Jv,lT;function TX(){return lT||(lT=1,Jv=function(t){return function(n){return t.apply(null,n)}}),Jv}var Qv,cT;function CX(){if(cT)return Qv;cT=1;var e=Bt;return Qv=function(r){return e.isObject(r)&&r.isAxiosError===!0},Qv}var Sy=Bt,OX=Pk,Af=wX,AX=Wk,PX=ab,kX=zk;function Xk(e){var t=new Af(e),r=OX(Af.prototype.request,t);return Sy.extend(r,Af.prototype,t),Sy.extend(r,t),r.create=function(i){return Xk(AX(e,i))},r}var br=Xk(PX);br.Axios=Af;br.CanceledError=Jd();br.CancelToken=EX();br.isCancel=Vk();br.VERSION=qk().version;br.toFormData=Zd;br.AxiosError=ha;br.Cancel=br.CanceledError;br.all=function(t){return Promise.all(t)};br.spread=TX();br.isAxiosError=CX();br.formToJSON=function(e){return kX(Sy.isHTMLForm(e)?new FormData(e):e)};eb.exports=br;eb.exports.default=br;var RX=eb.exports,IX=RX;const bl=rr(IX),ti=e=>new Promise((t,r)=>{bl.get(e).then(n=>{const i=n.data.toString();t(i)}).catch(n=>{r(n)})});var NX="__lodash_hash_undefined__";function LX(e){return this.__data__.set(e,NX),this}var MX=LX;function FX(e){return this.__data__.has(e)}var DX=FX,BX=Lx,jX=MX,$X=DX;function Ch(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new BX;++t<r;)this.add(e[t])}Ch.prototype.add=Ch.prototype.push=jX;Ch.prototype.has=$X;var Yk=Ch;function UX(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var GX=UX;function zX(e){return e!==e}var HX=zX;function VX(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var WX=VX,qX=GX,XX=HX,YX=WX;function KX(e,t,r){return t===t?YX(e,t,r):qX(e,XX,r)}var ZX=KX,JX=ZX;function QX(e,t){var r=e==null?0:e.length;return!!r&&JX(e,t,0)>-1}var eY=QX;function tY(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var rY=tY;function nY(e,t){return e.has(t)}var Kk=nY;function iY(){}var oY=iY;function aY(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var lb=aY,em=W2,sY=oY,uY=lb,lY=1/0,cY=em&&1/uY(new em([,-0]))[1]==lY?function(e){return new em(e)}:sY,fY=cY,hY=Yk,dY=eY,pY=rY,vY=Kk,mY=fY,gY=lb,yY=200;function _Y(e,t,r){var n=-1,i=dY,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=pY;else if(o>=yY){var l=t?null:mY(e);if(l)return gY(l);a=!1,i=vY,u=new hY}else u=t?[]:s;e:for(;++n<o;){var c=e[n],f=t?t(c):c;if(c=r||c!==0?c:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,r)||(u!==s&&u.push(f),s.push(c))}return s}var xY=_Y,bY=xY;function SY(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?bY(e,void 0,t):[]}var wY=SY;const nc=rr(wY),ic=e=>{for(const t of e)C.sceneManager.settledScenes.includes(t)?re.warn(`${t}`):(re.info(`${t}`),ti(t).then(r=>{On(r,t,t)}))},EY=(e,t)=>{C.sceneManager.lockSceneWrite||(C.sceneManager.lockSceneWrite=!0,C.sceneManager.sceneData.sceneStack.push({sceneName:C.sceneManager.sceneData.currentScene.sceneName,sceneUrl:C.sceneManager.sceneData.currentScene.sceneUrl,continueLine:C.sceneManager.sceneData.currentSentenceId}),ti(e).then(r=>{C.sceneManager.sceneData.currentScene=On(r,t,e),C.sceneManager.sceneData.currentSentenceId=0;const n=C.sceneManager.sceneData.currentScene.subSceneList;C.sceneManager.settledScenes.push(e);const i=nc(n);ic(i),re.debug("",C.sceneManager.sceneData),C.sceneManager.lockSceneWrite=!1,ir()}).catch(r=>{re.error("",r),C.sceneManager.lockSceneWrite=!1}))},TY=e=>{const t=e.content.split("/"),r=t[t.length-1];return EY(e.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function CY(e){return e===null}var OY=CY;const AY=rr(OY);function Sl(e,t,r){let n;const o=B.getState().stage.effects.find(a=>a.target===e);if(t.duration=500,!AY(r)&&typeof r=="number"&&(t.duration=r),n=[t],o){const a={...o.transform,duration:0};n.unshift(a)}else{const a={...t,alpha:0,duration:0};n.unshift(a)}return n}function Zk(e,t){const r=C.gameplay.pixiStage.getStageObjByKey(e);function n(){r&&(r.pixiContainer.alphaFilterVal=0)}function i(){r&&(r.pixiContainer.alphaFilterVal=1)}function o(a){if(r){const s=r.pixiContainer,u=C.gameplay.pixiStage.frameDuration,c=1/(t/u*a);s.alphaFilterVal<1&&(s.alpha+=c)}}return{setStartState:n,setEndState:i,tickerFunc:o}}function Jk(e,t){const r=C.gameplay.pixiStage.getStageObjByKey(e);function n(){}function i(){r&&(r.pixiContainer.alphaFilterVal=0)}function o(a){if(r){const s=r.pixiContainer,u=C.gameplay.pixiStage.frameDuration,c=1/(t/u*a);s.alphaFilterVal>0&&(s.alphaFilterVal-=c)}}return{setStartState:n,setEndState:i,tickerFunc:o}}const cb={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0,brightness:1,contrast:1,saturation:1,gamma:1,colorRed:255,colorGreen:255,colorBlue:255};function Qk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var PY=function(){},fT=function(){};const wy=(e,t,r)=>Math.min(Math.max(r,e),t),tm=.001,kY=.01,hT=10,RY=.05,IY=1;function NY({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,o;PY(e<=hT*1e3);let a=1-t;a=wy(RY,IY,a),e=wy(kY,hT,e/1e3),a<1?(i=l=>{const c=l*a,f=c*e,h=c-r,d=Ey(l,a),v=Math.exp(-f);return tm-h/d*v},o=l=>{const f=l*a*e,h=f*r+r,d=Math.pow(a,2)*Math.pow(l,2)*e,v=Math.exp(-f),g=Ey(Math.pow(l,2),a);return(-i(l)+tm>0?-1:1)*((h-d)*v)/g}):(i=l=>{const c=Math.exp(-l*e),f=(l-r)*e+1;return-tm+c*f},o=l=>{const c=Math.exp(-l*e),f=(r-l)*(e*e);return c*f});const s=5/e,u=MY(i,o,s);if(e=e*1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:a*2*Math.sqrt(n*l),duration:e}}}const LY=12;function MY(e,t,r){let n=r;for(let i=1;i<LY;i++)n=n-e(n)/t(n);return n}function Ey(e,t){return e*Math.sqrt(1-t*t)}const FY=["duration","bounce"],DY=["stiffness","damping","mass"];function dT(e,t){return t.some(r=>e[r]!==void 0)}function BY(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!dT(e,DY)&&dT(e,FY)){const r=NY(e);t=Object.assign(Object.assign(Object.assign({},t),r),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function fb(e){var{from:t=0,to:r=1,restSpeed:n=2,restDelta:i}=e,o=Qk(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:s,damping:u,mass:l,velocity:c,duration:f,isResolvedFromDuration:h}=BY(o),d=pT,v=pT;function g(){const p=c?-(c/1e3):0,m=r-t,y=u/(2*Math.sqrt(s*l)),_=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-t)/100,.4)),y<1){const x=Ey(_,y);d=b=>{const w=Math.exp(-y*_*b);return r-w*((p+y*_*m)/x*Math.sin(x*b)+m*Math.cos(x*b))},v=b=>{const w=Math.exp(-y*_*b);return y*_*w*(Math.sin(x*b)*(p+y*_*m)/x+m*Math.cos(x*b))-w*(Math.cos(x*b)*(p+y*_*m)-x*m*Math.sin(x*b))}}else if(y===1)d=x=>r-Math.exp(-_*x)*(m+(p+_*m)*x);else{const x=_*Math.sqrt(y*y-1);d=b=>{const w=Math.exp(-y*_*b),E=Math.min(x*b,300);return r-w*((p+y*_*m)*Math.sinh(E)+x*m*Math.cosh(E))/x}}}return g(),{next:p=>{const m=d(p);if(h)a.done=p>=f;else{const y=v(p)*1e3,_=Math.abs(y)<=n,x=Math.abs(r-m)<=i;a.done=_&&x}return a.value=a.done?r:m,a},flipTarget:()=>{c=-c,[t,r]=[r,t],g()}}}fb.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const pT=e=>0,eR=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},hb=(e,t,r)=>-r*e+r*t+e,tR=(e,t)=>r=>Math.max(Math.min(r,t),e),qu=e=>e%1?Number(e.toFixed(5)):e,Oh=/(-)?([\d]*\.?[\d])+/g,Ty=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jY=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function oc(e){return typeof e=="string"}const tp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rR=Object.assign(Object.assign({},tp),{transform:tR(0,1)});Object.assign(Object.assign({},tp),{default:1});const $Y=e=>({test:t=>oc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xu=$Y("%");Object.assign(Object.assign({},Xu),{parse:e=>Xu.parse(e)/100,transform:e=>Xu.transform(e*100)});const db=(e,t)=>r=>!!(oc(r)&&jY.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),nR=(e,t,r)=>n=>{if(!oc(n))return n;const[i,o,a,s]=n.match(Oh);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},jo={test:db("hsl","hue"),parse:nR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Xu.transform(qu(t))+", "+Xu.transform(qu(r))+", "+qu(rR.transform(n))+")"},UY=tR(0,255),rm=Object.assign(Object.assign({},tp),{transform:e=>Math.round(UY(e))}),Ui={test:db("rgb","red"),parse:nR("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+rm.transform(e)+", "+rm.transform(t)+", "+rm.transform(r)+", "+qu(rR.transform(n))+")"};function GY(e){let t="",r="",n="",i="";return e.length>5?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),i=e.substr(4,1),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Cy={test:db("#"),parse:GY,transform:Ui.transform},rp={test:e=>Ui.test(e)||Cy.test(e)||jo.test(e),parse:e=>Ui.test(e)?Ui.parse(e):jo.test(e)?jo.parse(e):Cy.parse(e),transform:e=>oc(e)?e:e.hasOwnProperty("red")?Ui.transform(e):jo.transform(e)},iR="${c}",oR="${n}";function zY(e){var t,r,n,i;return isNaN(e)&&oc(e)&&((r=(t=e.match(Oh))===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0)+((i=(n=e.match(Ty))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function aR(e){typeof e=="number"&&(e=`${e}`);const t=[];let r=0;const n=e.match(Ty);n&&(r=n.length,e=e.replace(Ty,iR),t.push(...n.map(rp.parse)));const i=e.match(Oh);return i&&(e=e.replace(Oh,oR),t.push(...i.map(tp.parse))),{values:t,numColors:r,tokenised:e}}function sR(e){return aR(e).values}function uR(e){const{values:t,numColors:r,tokenised:n}=aR(e),i=t.length;return o=>{let a=n;for(let s=0;s<i;s++)a=a.replace(s<r?iR:oR,s<r?rp.transform(o[s]):qu(o[s]));return a}}const HY=e=>typeof e=="number"?0:e;function VY(e){const t=sR(e);return uR(e)(t.map(HY))}const lR={test:zY,parse:sR,createTransformer:uR,getAnimatableNone:VY};function nm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,o=0,a=0;if(!t)i=o=a=r;else{const s=r<.5?r*(1+t):r+t-r*t,u=2*r-s;i=nm(u,s,e+1/3),o=nm(u,s,e),a=nm(u,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}const WY=(e,t,r)=>{const n=e*e,i=t*t;return Math.sqrt(Math.max(0,r*(i-n)+n))},qY=[Cy,Ui,jo],mT=e=>qY.find(t=>t.test(e)),cR=(e,t)=>{let r=mT(e),n=mT(t),i=r.parse(e),o=n.parse(t);r===jo&&(i=vT(i),r=Ui),n===jo&&(o=vT(o),n=Ui);const a=Object.assign({},i);return s=>{for(const u in a)u!=="alpha"&&(a[u]=WY(i[u],o[u],s));return a.alpha=hb(i.alpha,o.alpha,s),r.transform(a)}},XY=e=>typeof e=="number",YY=(e,t)=>r=>t(e(r)),fR=(...e)=>e.reduce(YY);function hR(e,t){return XY(e)?r=>hb(e,t,r):rp.test(e)?cR(e,t):pR(e,t)}const dR=(e,t)=>{const r=[...e],n=r.length,i=e.map((o,a)=>hR(o,t[a]));return o=>{for(let a=0;a<n;a++)r[a]=i[a](o);return r}},KY=(e,t)=>{const r=Object.assign(Object.assign({},e),t),n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=hR(e[i],t[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}};function gT(e){const t=lR.parse(e),r=t.length;let n=0,i=0,o=0;for(let a=0;a<r;a++)n||typeof t[a]=="number"?n++:t[a].hue!==void 0?o++:i++;return{parsed:t,numNumbers:n,numRGB:i,numHSL:o}}const pR=(e,t)=>{const r=lR.createTransformer(t),n=gT(e),i=gT(t);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?fR(dR(n.parsed,i.parsed),r):a=>`${a>0?t:e}`},ZY=(e,t)=>r=>hb(e,t,r);function JY(e){if(typeof e=="number")return ZY;if(typeof e=="string")return rp.test(e)?cR:pR;if(Array.isArray(e))return dR;if(typeof e=="object")return KY}function QY(e,t,r){const n=[],i=r||JY(e[0]),o=e.length-1;for(let a=0;a<o;a++){let s=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]:t;s=fR(u,s)}n.push(s)}return n}function eK([e,t],[r]){return n=>r(eR(e,t,n))}function tK(e,t){const r=e.length,n=r-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[n]&&(o=n-1,a=!0),!a){let u=1;for(;u<r&&!(e[u]>i||u===n);u++);o=u-1}const s=eR(e[o],e[o+1],i);return t[o](s)}}function vR(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const o=e.length;fT(o===t.length),fT(!n||!Array.isArray(n)||n.length===o-1),e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=QY(t,n,i),s=o===2?eK(e,a):tK(e,a);return r?u=>s(wy(e[0],e[o-1],u)):s}const rK=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nK=e=>t=>Math.pow(t,e),iK=e=>t=>t*t*((e+1)*t-e),oK=e=>{const t=iK(e);return r=>(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))},aK=1.525,sK=nK(2),uK=rK(sK);oK(aK);function lK(e,t){return e.map(()=>t||uK).splice(0,e.length-1)}function cK(e){const t=e.length;return e.map((r,n)=>n!==0?n/(t-1):0)}function fK(e,t){return e.map(r=>r*t)}function Pf({from:e=0,to:t=1,ease:r,offset:n,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=fK(n&&n.length===a.length?n:cK(a),i);function u(){return vR(s,a,{ease:Array.isArray(r)?r:lK(a,r)})}let l=u();return{next:c=>(o.value=l(c),o.done=c>=i,o),flipTarget:()=>{a.reverse(),l=u()}}}function hK({velocity:e=0,from:t=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=r*e;const u=t+s,l=o===void 0?u:o(u);return l!==u&&(s=l-t),{next:c=>{const f=-s*Math.exp(-c/n);return a.done=!(f>i||f<-i),a.value=a.done?l:l+f,a},flipTarget:()=>{}}}const yT={keyframes:Pf,spring:fb,decay:hK};function dK(e){if(Array.isArray(e.to))return Pf;if(yT[e.type])return yT[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Pf:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?fb:Pf}const mR=1/60*1e3,pK=typeof performance<"u"?()=>performance.now():()=>Date.now(),gR=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(pK()),mR);function vK(e){let t=[],r=[],n=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(u,l=!1,c=!1)=>{const f=c&&i,h=f?t:r;return l&&a.add(u),h.indexOf(u)===-1&&(h.push(u),f&&i&&(n=t.length)),u},cancel:u=>{const l=r.indexOf(u);l!==-1&&r.splice(l,1),a.delete(u)},process:u=>{if(i){o=!0;return}if(i=!0,[t,r]=[r,t],r.length=0,n=t.length,n)for(let l=0;l<n;l++){const c=t[l];c(u),a.has(c)&&(s.schedule(c),e())}i=!1,o&&(o=!1,s.process(u))}};return s}const mK=40;let Oy=!0,wl=!1,Ay=!1;const Yu={delta:0,timestamp:0},ac=["read","update","preRender","render","postRender"],np=ac.reduce((e,t)=>(e[t]=vK(()=>wl=!0),e),{}),gK=ac.reduce((e,t)=>{const r=np[t];return e[t]=(n,i=!1,o=!1)=>(wl||xK(),r.schedule(n,i,o)),e},{}),yK=ac.reduce((e,t)=>(e[t]=np[t].cancel,e),{});ac.reduce((e,t)=>(e[t]=()=>np[t].process(Yu),e),{});const _K=e=>np[e].process(Yu),yR=e=>{wl=!1,Yu.delta=Oy?mR:Math.max(Math.min(e-Yu.timestamp,mK),1),Yu.timestamp=e,Ay=!0,ac.forEach(_K),Ay=!1,wl&&(Oy=!1,gR(yR))},xK=()=>{wl=!0,Oy=!0,Ay||gR(yR)},bK=gK;function _R(e,t,r=0){return e-t-r}function SK(e,t,r=0,n=!0){return n?_R(t+-e,t,r):t-(e-t)+r}function wK(e,t,r,n){return n?e>=t+r:e<=-r}const EK=e=>{const t=({delta:r})=>e(r);return{start:()=>bK.update(t,!0),stop:()=>yK.update(t)}};function TK(e){var t,r,{from:n,autoplay:i=!0,driver:o=EK,elapsed:a=0,repeat:s=0,repeatType:u="loop",repeatDelay:l=0,onPlay:c,onStop:f,onComplete:h,onRepeat:d,onUpdate:v}=e,g=Qk(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:p}=g,m,y=0,_=g.duration,x,b=!1,w=!0,E;const P=dK(g);!((r=(t=P).needsInterpolation)===null||r===void 0)&&r.call(t,n,p)&&(E=vR([0,100],[n,p],{clamp:!1}),n=0,p=100);const A=P(Object.assign(Object.assign({},g),{from:n,to:p}));function k(){y++,u==="reverse"?(w=y%2===0,a=SK(a,_,l,w)):(a=_R(a,_,l),u==="mirror"&&A.flipTarget()),b=!1,d&&d()}function F(){m.stop(),h&&h()}function j(q){if(w||(q=-q),a+=q,!b){const D=A.next(Math.max(0,a));x=D.value,E&&(x=E(x)),b=w?D.done:a<=0}v==null||v(x),b&&(y===0&&(_??(_=a)),y<s?wK(a,_,l,w)&&k():F())}function z(){c==null||c(),m=o(j),m.start()}return i&&z(),{stop:()=>{f==null||f(),m.stop()}}}function CK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var OK=CK,AK=Yk,PK=OK,kK=Kk,RK=1,IK=2;function NK(e,t,r,n,i,o){var a=r&RK,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var f=-1,h=!0,d=r&IK?new AK:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var v=e[f],g=t[f];if(n)var p=a?n(g,v,f,t,e,o):n(v,g,f,e,t,o);if(p!==void 0){if(p)continue;h=!1;break}if(d){if(!PK(t,function(m,y){if(!kK(d,y)&&(v===m||i(v,m,r,n,o)))return d.push(y)})){h=!1;break}}else if(!(v===g||i(v,g,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var xR=NK;function LK(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var MK=LK,_T=Ql,xT=X2,FK=Id,DK=xR,BK=MK,jK=lb,$K=1,UK=2,GK="[object Boolean]",zK="[object Date]",HK="[object Error]",VK="[object Map]",WK="[object Number]",qK="[object RegExp]",XK="[object Set]",YK="[object String]",KK="[object Symbol]",ZK="[object ArrayBuffer]",JK="[object DataView]",bT=_T?_T.prototype:void 0,im=bT?bT.valueOf:void 0;function QK(e,t,r,n,i,o,a){switch(r){case JK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZK:return!(e.byteLength!=t.byteLength||!o(new xT(e),new xT(t)));case GK:case zK:case WK:return FK(+e,+t);case HK:return e.name==t.name&&e.message==t.message;case qK:case YK:return e==t+"";case VK:var s=BK;case XK:var u=n&$K;if(s||(s=jK),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;n|=UK,a.set(e,t);var c=DK(s(e),s(t),n,i,o,a);return a.delete(e),c;case KK:if(im)return im.call(e)==im.call(t)}return!1}var eZ=QK,ST=H2,tZ=1,rZ=Object.prototype,nZ=rZ.hasOwnProperty;function iZ(e,t,r,n,i,o){var a=r&tZ,s=ST(e),u=s.length,l=ST(t),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in t:nZ.call(t,h)))return!1}var d=o.get(e),v=o.get(t);if(d&&v)return d==t&&v==e;var g=!0;o.set(e,t),o.set(t,e);for(var p=a;++f<u;){h=s[f];var m=e[h],y=t[h];if(n)var _=a?n(y,m,h,t,e,o):n(m,y,h,e,t,o);if(!(_===void 0?m===y||i(m,y,r,n,o):_)){g=!1;break}p||(p=h=="constructor")}if(g&&!p){var x=e.constructor,b=t.constructor;x!=b&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(g=!1)}return o.delete(e),o.delete(t),g}var oZ=iZ,om=Mx,aZ=xR,sZ=eZ,uZ=oZ,wT=$d,ET=Ei,TT=Dx,lZ=F2,cZ=1,CT="[object Arguments]",OT="[object Array]",Nc="[object Object]",fZ=Object.prototype,AT=fZ.hasOwnProperty;function hZ(e,t,r,n,i,o){var a=ET(e),s=ET(t),u=a?OT:wT(e),l=s?OT:wT(t);u=u==CT?Nc:u,l=l==CT?Nc:l;var c=u==Nc,f=l==Nc,h=u==l;if(h&&TT(e)){if(!TT(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new om),a||lZ(e)?aZ(e,t,r,n,i,o):sZ(e,t,u,r,n,i,o);if(!(r&cZ)){var d=c&&AT.call(e,"__wrapped__"),v=f&&AT.call(t,"__wrapped__");if(d||v){var g=d?e.value():e,p=v?t.value():t;return o||(o=new om),i(g,p,r,n,o)}}return h?(o||(o=new om),uZ(e,t,r,n,i,o)):!1}var dZ=hZ,pZ=dZ,PT=la;function bR(e,t,r,n,i){return e===t?!0:e==null||t==null||!PT(e)&&!PT(t)?e!==e&&t!==t:pZ(e,t,r,n,bR,i)}var SR=bR,vZ=Mx,mZ=SR,gZ=1,yZ=2;function _Z(e,t,r,n){var i=r.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=r[i];var u=s[0],l=e[u],c=s[1];if(a&&s[2]){if(l===void 0&&!(u in e))return!1}else{var f=new vZ;if(n)var h=n(l,c,u,e,t,f);if(!(h===void 0?mZ(c,l,gZ|yZ,n,f):h))return!1}}return!0}var xZ=_Z,bZ=Tn;function SZ(e){return e===e&&!bZ(e)}var wR=SZ,wZ=wR,EZ=jd;function TZ(e){for(var t=EZ(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,wZ(i)]}return t}var CZ=TZ;function OZ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ER=OZ,AZ=xZ,PZ=CZ,kZ=ER;function RZ(e){var t=PZ(e);return t.length==1&&t[0][2]?kZ(t[0][0],t[0][1]):function(r){return r===e||AZ(r,e,t)}}var IZ=RZ,NZ=ec,LZ=la,MZ="[object Symbol]";function FZ(e){return typeof e=="symbol"||LZ(e)&&NZ(e)==MZ}var ip=FZ,DZ=Ei,BZ=ip,jZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$Z=/^\w*$/;function UZ(e,t){if(DZ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||BZ(e)?!0:$Z.test(e)||!jZ.test(e)||t!=null&&e in Object(t)}var pb=UZ,TR=Lx,GZ="Expected a function";function vb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GZ);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(vb.Cache||TR),r}vb.Cache=TR;var zZ=vb,HZ=zZ,VZ=500;function WZ(e){var t=HZ(e,function(n){return r.size===VZ&&r.clear(),n}),r=t.cache;return t}var qZ=WZ,XZ=qZ,YZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KZ=/\\(\\)?/g,ZZ=XZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(YZ,function(r,n,i,o){t.push(i?o.replace(KZ,"$1"):n||r)}),t}),JZ=ZZ;function QZ(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var CR=QZ,kT=Ql,eJ=CR,tJ=Ei,rJ=ip,nJ=1/0,RT=kT?kT.prototype:void 0,IT=RT?RT.toString:void 0;function OR(e){if(typeof e=="string")return e;if(tJ(e))return eJ(e,OR)+"";if(rJ(e))return IT?IT.call(e):"";var t=e+"";return t=="0"&&1/e==-nJ?"-0":t}var iJ=OR,oJ=iJ;function aJ(e){return e==null?"":oJ(e)}var sJ=aJ,uJ=Ei,lJ=pb,cJ=JZ,fJ=sJ;function hJ(e,t){return uJ(e)?e:lJ(e,t)?[e]:cJ(fJ(e))}var op=hJ,dJ=ip,pJ=1/0;function vJ(e){if(typeof e=="string"||dJ(e))return e;var t=e+"";return t=="0"&&1/e==-pJ?"-0":t}var sc=vJ,mJ=op,gJ=sc;function yJ(e,t){t=mJ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[gJ(t[r++])];return r&&r==n?e:void 0}var mb=yJ,_J=mb;function xJ(e,t,r){var n=e==null?void 0:_J(e,t);return n===void 0?r:n}var AR=xJ;const bJ=rr(AR);function SJ(e,t){return e!=null&&t in Object(e)}var wJ=SJ,EJ=op,TJ=M2,CJ=Ei,OJ=Bd,AJ=Bx,PJ=sc;function kJ(e,t,r){t=EJ(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=PJ(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&AJ(i)&&OJ(a,i)&&(CJ(e)||TJ(e)))}var RJ=kJ,IJ=wJ,NJ=RJ;function LJ(e,t){return e!=null&&NJ(e,t,IJ)}var MJ=LJ,FJ=SR,DJ=AR,BJ=MJ,jJ=pb,$J=wR,UJ=ER,GJ=sc,zJ=1,HJ=2;function VJ(e,t){return jJ(e)&&$J(t)?UJ(GJ(e),t):function(r){var n=DJ(r,e);return n===void 0&&n===t?BJ(r,e):FJ(t,n,zJ|HJ)}}var WJ=VJ;function qJ(e){return e}var XJ=qJ;function YJ(e){return function(t){return t==null?void 0:t[e]}}var KJ=YJ,ZJ=mb;function JJ(e){return function(t){return ZJ(t,e)}}var QJ=JJ,eQ=KJ,tQ=QJ,rQ=pb,nQ=sc;function iQ(e){return rQ(e)?eQ(nQ(e)):tQ(e)}var oQ=iQ,aQ=IZ,sQ=WJ,uQ=XJ,lQ=Ei,cQ=oQ;function fQ(e){return typeof e=="function"?e:e==null?uQ:typeof e=="object"?lQ(e)?sQ(e[0],e[1]):aQ(e):cQ(e)}var PR=fQ,hQ="Expected a function";function dQ(e){if(typeof e!="function")throw new TypeError(hQ);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var pQ=dQ,vQ=Fx,mQ=op,gQ=Bd,NT=Tn,yQ=sc;function _Q(e,t,r,n){if(!NT(e))return e;t=mQ(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var u=yQ(t[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=a){var c=s[u];l=n?n(c,u,s):void 0,l===void 0&&(l=NT(c)?c:gQ(t[i+1])?[]:{})}vQ(s,u,l),s=s[u]}return e}var xQ=_Q,bQ=mb,SQ=xQ,wQ=op;function EQ(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=bQ(e,a);r(s,a)&&SQ(o,wQ(a,e),s)}return o}var TQ=EQ,CQ=CR,OQ=PR,AQ=TQ,PQ=V2;function kQ(e,t){if(e==null)return{};var r=CQ(PQ(e),function(n){return[n]});return t=OQ(t),AQ(e,r,function(n,i){return t(n,i[0])})}var RQ=kQ,IQ=PR,NQ=pQ,LQ=RQ;function MQ(e,t){return LQ(e,NQ(IQ(t)))}var FQ=MQ;const am=rr(FQ);function DQ(e){return e===void 0}var BQ=DQ;const ni=rr(BQ),jQ="modulepreload",$Q=function(e,t){return new URL(e,t).href},LT={},Py=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=$Q(o,n),o in LT)return;LT[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":jQ,a||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),a)return new Promise((c,f)=>{l.addEventListener("load",c),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function UQ(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function GQ(e){var t=this;return new t(function(r,n){if(!(e&&typeof e.length<"u"))return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return r([]);var o=i.length;function a(u,l){if(l&&(typeof l=="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(f){a(u,f)},function(f){i[u]={status:"rejected",reason:f},--o===0&&r(i)});return}}i[u]={status:"fulfilled",value:l},--o===0&&r(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}function kR(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}kR.prototype=Error.prototype;function zQ(e){var t=this;return new t(function(r,n){if(!(e&&typeof e.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(e);if(i.length===0)return n();for(var o=[],a=0;a<i.length;a++)try{t.resolve(i[a]).then(r).catch(function(s){o.push(s),o.length===i.length&&n(new kR(o,"All promises were rejected"))})}catch(s){n(s)}})}var HQ=setTimeout;function RR(e){return!!(e&&typeof e.length<"u")}function VQ(){}function WQ(e,t){return function(){e.apply(t,arguments)}}function _t(e){if(!(this instanceof _t))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],NR(e,this)}function IR(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,_t._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?ky:El)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(i){El(t.promise,i);return}ky(t.promise,n)})}function ky(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof _t){e._state=3,e._value=t,Ry(e);return}else if(typeof r=="function"){NR(WQ(r,t),e);return}}e._state=1,e._value=t,Ry(e)}catch(n){El(e,n)}}function El(e,t){e._state=2,e._value=t,Ry(e)}function Ry(e){e._state===2&&e._deferreds.length===0&&_t._immediateFn(function(){e._handled||_t._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)IR(e,e._deferreds[t]);e._deferreds=null}function qQ(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function NR(e,t){var r=!1;try{e(function(n){r||(r=!0,ky(t,n))},function(n){r||(r=!0,El(t,n))})}catch(n){if(r)return;r=!0,El(t,n)}}_t.prototype.catch=function(e){return this.then(null,e)};_t.prototype.then=function(e,t){var r=new this.constructor(VQ);return IR(this,new qQ(e,t,r)),r};_t.prototype.finally=UQ;_t.all=function(e){return new _t(function(t,r){if(!RR(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(s,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var l=u.then;if(typeof l=="function"){l.call(u,function(c){o(s,c)},r);return}}n[s]=u,--i===0&&t(n)}catch(c){r(c)}}for(var a=0;a<n.length;a++)o(a,n[a])})};_t.any=zQ;_t.allSettled=GQ;_t.resolve=function(e){return e&&typeof e=="object"&&e.constructor===_t?e:new _t(function(t){t(e)})};_t.reject=function(e){return new _t(function(t,r){r(e)})};_t.race=function(e){return new _t(function(t,r){if(!RR(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)_t.resolve(e[n]).then(t,r)})};_t._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){HQ(e,0)};_t._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=_t);Object.assign||(Object.assign=pF);var XQ=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var YQ=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-YQ}}var sm=Date.now(),MT=["ms","moz","webkit","o"];for(var um=0;um<MT.length&&!globalThis.requestAnimationFrame;++um){var lm=MT[um];globalThis.requestAnimationFrame=globalThis[lm+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[lm+"CancelAnimationFrame"]||globalThis[lm+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=XQ+sm-t;return r<0&&(r=0),sm=t,globalThis.self.setTimeout(function(){sm=Date.now(),e(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yn;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Yn||(Yn={}));var ps;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(ps||(ps={}));var Tl;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Tl||(Tl={}));var fe;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(fe||(fe={}));var en;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(en||(en={}));var ee;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ee||(ee={}));var eo;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(eo||(eo={}));var he;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(he||(he={}));var Cl;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Cl||(Cl={}));var Pr;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Pr||(Pr={}));var xn;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(xn||(xn={}));var Lr;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Lr||(Lr={}));var sn;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(sn||(sn={}));var Zr;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Zr||(Zr={}));var Ol;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Ol||(Ol={}));var kr;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(kr||(kr={}));var Tt;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR"})(Tt||(Tt={}));var Iy;(function(e){e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA"})(Iy||(Iy={}));var ut;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(ut||(ut={}));var bn;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(bn||(bn={}));/*!
 * @pixi/settings - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LR={createCanvas:function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return(e=document.baseURI)!==null&&e!==void 0?e:window.location.href},fetch:function(e,t){return fetch(e,t)}},cm=/iPhone/i,FT=/iPod/i,DT=/iPad/i,BT=/\biOS-universal(?:.+)Mac\b/i,fm=/\bAndroid(?:.+)Mobile\b/i,jT=/Android/i,xa=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Lc=/Silk/i,ii=/Windows Phone/i,$T=/\bWindows(?:.+)ARM\b/i,UT=/BlackBerry/i,GT=/BB10/i,zT=/Opera Mini/i,HT=/\b(CriOS|Chrome)(?:.+)Mobile/i,VT=/Mobile(?:.+)Firefox\b/i,WT=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function KQ(e){return function(t){return t.test(e)}}function ZQ(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=KQ(r),o={apple:{phone:i(cm)&&!i(ii),ipod:i(FT),tablet:!i(cm)&&(i(DT)||WT(t))&&!i(ii),universal:i(BT),device:(i(cm)||i(FT)||i(DT)||i(BT)||WT(t))&&!i(ii)},amazon:{phone:i(xa),tablet:!i(xa)&&i(Lc),device:i(xa)||i(Lc)},android:{phone:!i(ii)&&i(xa)||!i(ii)&&i(fm),tablet:!i(ii)&&!i(xa)&&!i(fm)&&(i(Lc)||i(jT)),device:!i(ii)&&(i(xa)||i(Lc)||i(fm)||i(jT))||i(/\bokhttp\b/i)},windows:{phone:i(ii),tablet:i($T),device:i(ii)||i($T)},other:{blackberry:i(UT),blackberry10:i(GT),opera:i(zT),firefox:i(VT),chrome:i(HT),device:i(UT)||i(GT)||i(zT)||i(VT)||i(HT)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var tn=ZQ(globalThis.navigator);function JQ(){return!tn.apple.device}function QQ(e){var t=!0;if(tn.tablet||tn.phone){if(tn.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(t=!1)}}if(tn.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(t=!1)}}}return t?e:4}var ie={ADAPTER:LR,MIPMAP_TEXTURES:Lr.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ut.NONE,SPRITE_MAX_TEXTURES:QQ(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:Ol.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:xn.CLAMP,SCALE_MODE:Pr.LINEAR,PRECISION_VERTEX:kr.HIGH,PRECISION_FRAGMENT:tn.apple.device?kr.HIGH:kr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:JQ(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},MR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||u,h),v=r?r+l:l;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],d]:u._events[v].push(d):(u._events[v]=d,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)t.call(c,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=r?r+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,v=new Array(d);h<d;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(l){var c=r?r+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,h,d,v){var g=r?r+l:l;if(!this._events[g])return!1;var p=this._events[g],m=arguments.length,y,_;if(p.fn){switch(p.once&&this.removeListener(l,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,f),!0;case 4:return p.fn.call(p.context,c,f,h),!0;case 5:return p.fn.call(p.context,c,f,h,d),!0;case 6:return p.fn.call(p.context,c,f,h,d,v),!0}for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];p.fn.apply(p.context,y)}else{var x=p.length,b;for(_=0;_<x;_++)switch(p[_].once&&this.removeListener(l,p[_].fn,void 0,!0),m){case 1:p[_].fn.call(p[_].context);break;case 2:p[_].fn.call(p[_].context,c);break;case 3:p[_].fn.call(p[_].context,c,f);break;case 4:p[_].fn.call(p[_].context,c,f,h);break;default:if(!y)for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];p[_].fn.apply(p[_].context,y)}}return!0},s.prototype.on=function(l,c,f){return o(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return o(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,h){var d=r?r+l:l;if(!this._events[d])return this;if(!c)return a(this,d),this;var v=this._events[d];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&a(this,d);else{for(var g=0,p=[],m=v.length;g<m;g++)(v[g].fn!==c||h&&!v[g].once||f&&v[g].context!==f)&&p.push(v[g]);p.length?this._events[d]=p.length===1?p[0]:p:a(this,d)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(MR);var eee=MR.exports;const $s=rr(eee);var gb={exports:{}};gb.exports=ap;gb.exports.default=ap;function ap(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,o=FR(e,0,i,r,!0),a=[];if(!o||o.next===o.prev)return a;var s,u,l,c,f,h,d;if(n&&(o=oee(e,t,o,r)),e.length>80*r){s=l=e[0],u=c=e[1];for(var v=r;v<i;v+=r)f=e[v],h=e[v+1],f<s&&(s=f),h<u&&(u=h),f>l&&(l=f),h>c&&(c=h);d=Math.max(l-s,c-u),d=d!==0?32767/d:0}return Al(o,a,r,s,u,d,0),a}function FR(e,t,r,n,i){var o,a;if(i===My(e,t,r,n)>0)for(o=t;o<r;o+=n)a=qT(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=qT(o,e[o],e[o+1],a);return a&&sp(a,a.next)&&(kl(a),a=a.next),a}function ea(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(sp(r,r.next)||mt(r.prev,r,r.next)===0)){if(kl(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function Al(e,t,r,n,i,o,a){if(e){!a&&o&&cee(e,n,i,o);for(var s=e,u,l;e.prev!==e.next;){if(u=e.prev,l=e.next,o?ree(e,n,i,o):tee(e)){t.push(u.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),kl(e),e=l.next,s=l.next;continue}if(e=l,e===s){a?a===1?(e=nee(ea(e),t,r),Al(e,t,r,n,i,o,2)):a===2&&iee(e,t,r,n,i,o):Al(ea(e),t,r,n,i,o,1);break}}}}function tee(e){var t=e.prev,r=e,n=e.next;if(mt(t,r,n)>=0)return!1;for(var i=t.x,o=r.x,a=n.x,s=t.y,u=r.y,l=n.y,c=i<o?i<a?i:a:o<a?o:a,f=s<u?s<l?s:l:u<l?u:l,h=i>o?i>a?i:a:o>a?o:a,d=s>u?s>l?s:l:u>l?u:l,v=n.next;v!==t;){if(v.x>=c&&v.x<=h&&v.y>=f&&v.y<=d&&Ba(i,s,o,u,a,l,v.x,v.y)&&mt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function ree(e,t,r,n){var i=e.prev,o=e,a=e.next;if(mt(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,l=a.x,c=i.y,f=o.y,h=a.y,d=s<u?s<l?s:l:u<l?u:l,v=c<f?c<h?c:h:f<h?f:h,g=s>u?s>l?s:l:u>l?u:l,p=c>f?c>h?c:h:f>h?f:h,m=Ny(d,v,t,r,n),y=Ny(g,p,t,r,n),_=e.prevZ,x=e.nextZ;_&&_.z>=m&&x&&x.z<=y;){if(_.x>=d&&_.x<=g&&_.y>=v&&_.y<=p&&_!==i&&_!==a&&Ba(s,c,u,f,l,h,_.x,_.y)&&mt(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=d&&x.x<=g&&x.y>=v&&x.y<=p&&x!==i&&x!==a&&Ba(s,c,u,f,l,h,x.x,x.y)&&mt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=m;){if(_.x>=d&&_.x<=g&&_.y>=v&&_.y<=p&&_!==i&&_!==a&&Ba(s,c,u,f,l,h,_.x,_.y)&&mt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=g&&x.y>=v&&x.y<=p&&x!==i&&x!==a&&Ba(s,c,u,f,l,h,x.x,x.y)&&mt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function nee(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!sp(i,o)&&DR(i,n,n.next,o)&&Pl(i,o)&&Pl(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),kl(n),kl(n.next),n=e=o),n=n.next}while(n!==e);return ea(n)}function iee(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&dee(a,s)){var u=BR(a,s);a=ea(a,a.next),u=ea(u,u.next),Al(a,t,r,n,i,o,0),Al(u,t,r,n,i,o,0);return}s=s.next}a=a.next}while(a!==e)}function oee(e,t,r,n){var i=[],o,a,s,u,l;for(o=0,a=t.length;o<a;o++)s=t[o]*n,u=o<a-1?t[o+1]*n:e.length,l=FR(e,s,u,n,!1),l===l.next&&(l.steiner=!0),i.push(hee(l));for(i.sort(aee),o=0;o<i.length;o++)r=see(i[o],r);return r}function aee(e,t){return e.x-t.x}function see(e,t){var r=uee(e,t);if(!r)return t;var n=BR(r,e);return ea(n,n.next),ea(r,r.next)}function uee(e,t){var r=t,n=e.x,i=e.y,o=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o&&(o=s,a=r.x<r.next.x?r:r.next,s===n))return a}r=r.next}while(r!==t);if(!a)return null;var u=a,l=a.x,c=a.y,f=1/0,h;r=a;do n>=r.x&&r.x>=l&&n!==r.x&&Ba(i<c?n:o,i,l,c,i<c?o:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Pl(r,e)&&(h<f||h===f&&(r.x>a.x||r.x===a.x&&lee(a,r)))&&(a=r,f=h)),r=r.next;while(r!==u);return a}function lee(e,t){return mt(e.prev,e,t.prev)<0&&mt(t.next,e,e.next)<0}function cee(e,t,r,n){var i=e;do i.z===0&&(i.z=Ny(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,fee(i)}function fee(e){var t,r,n,i,o,a,s,u,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ,!!n);t++);for(u=l;s>0||u>0&&n;)s!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1);return e}function Ny(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function hee(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Ba(e,t,r,n,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(n-s)>=(r-a)*(t-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function dee(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!pee(e,t)&&(Pl(e,t)&&Pl(t,e)&&vee(e,t)&&(mt(e.prev,e,t.prev)||mt(e,t.prev,t))||sp(e,t)&&mt(e.prev,e,e.next)>0&&mt(t.prev,t,t.next)>0)}function mt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function sp(e,t){return e.x===t.x&&e.y===t.y}function DR(e,t,r,n){var i=Fc(mt(e,t,r)),o=Fc(mt(e,t,n)),a=Fc(mt(r,n,e)),s=Fc(mt(r,n,t));return!!(i!==o&&a!==s||i===0&&Mc(e,r,t)||o===0&&Mc(e,n,t)||a===0&&Mc(r,e,n)||s===0&&Mc(r,t,n))}function Mc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Fc(e){return e>0?1:e<0?-1:0}function pee(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&DR(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function Pl(e,t){return mt(e.prev,e,e.next)<0?mt(e,t,e.next)>=0&&mt(e,e.prev,t)>=0:mt(e,t,e.prev)<0||mt(e,e.next,t)<0}function vee(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function BR(e,t){var r=new Ly(e.i,e.x,e.y),n=new Ly(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function qT(e,t,r,n){var i=new Ly(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function kl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ly(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ap.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(My(e,0,o,r));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;a-=Math.abs(My(e,l,c,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,d=n[s+1]*r,v=n[s+2]*r;f+=Math.abs((e[h]-e[v])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[v+1]-e[h+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function My(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}ap.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var mee=gb.exports;const yb=rr(mee);var Ah={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ah.exports;(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof $r=="object"&&$r;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,u=36,l=1,c=26,f=38,h=700,d=72,v=128,g="-",p=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,b=Math.floor,w=String.fromCharCode,E;function P(Y){throw new RangeError(_[Y])}function A(Y,N){for(var X=Y.length,ne=[];X--;)ne[X]=N(Y[X]);return ne}function k(Y,N){var X=Y.split("@"),ne="";X.length>1&&(ne=X[0]+"@",Y=X[1]),Y=Y.replace(y,".");var ue=Y.split("."),_e=A(ue,N).join(".");return ne+_e}function F(Y){for(var N=[],X=0,ne=Y.length,ue,_e;X<ne;)ue=Y.charCodeAt(X++),ue>=55296&&ue<=56319&&X<ne?(_e=Y.charCodeAt(X++),(_e&64512)==56320?N.push(((ue&1023)<<10)+(_e&1023)+65536):(N.push(ue),X--)):N.push(ue);return N}function j(Y){return A(Y,function(N){var X="";return N>65535&&(N-=65536,X+=w(N>>>10&1023|55296),N=56320|N&1023),X+=w(N),X}).join("")}function z(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:u}function q(Y,N){return Y+22+75*(Y<26)-((N!=0)<<5)}function D(Y,N,X){var ne=0;for(Y=X?b(Y/h):Y>>1,Y+=b(Y/N);Y>x*c>>1;ne+=u)Y=b(Y/x);return b(ne+(x+1)*Y/(Y+f))}function U(Y){var N=[],X=Y.length,ne,ue=0,_e=v,Se=d,we,Ue,He,Je,Pe,Be,Ve,Ee,ct;for(we=Y.lastIndexOf(g),we<0&&(we=0),Ue=0;Ue<we;++Ue)Y.charCodeAt(Ue)>=128&&P("not-basic"),N.push(Y.charCodeAt(Ue));for(He=we>0?we+1:0;He<X;){for(Je=ue,Pe=1,Be=u;He>=X&&P("invalid-input"),Ve=z(Y.charCodeAt(He++)),(Ve>=u||Ve>b((s-ue)/Pe))&&P("overflow"),ue+=Ve*Pe,Ee=Be<=Se?l:Be>=Se+c?c:Be-Se,!(Ve<Ee);Be+=u)ct=u-Ee,Pe>b(s/ct)&&P("overflow"),Pe*=ct;ne=N.length+1,Se=D(ue-Je,ne,Je==0),b(ue/ne)>s-_e&&P("overflow"),_e+=b(ue/ne),ue%=ne,N.splice(ue++,0,_e)}return j(N)}function K(Y){var N,X,ne,ue,_e,Se,we,Ue,He,Je,Pe,Be=[],Ve,Ee,ct,or;for(Y=F(Y),Ve=Y.length,N=v,X=0,_e=d,Se=0;Se<Ve;++Se)Pe=Y[Se],Pe<128&&Be.push(w(Pe));for(ne=ue=Be.length,ue&&Be.push(g);ne<Ve;){for(we=s,Se=0;Se<Ve;++Se)Pe=Y[Se],Pe>=N&&Pe<we&&(we=Pe);for(Ee=ne+1,we-N>b((s-X)/Ee)&&P("overflow"),X+=(we-N)*Ee,N=we,Se=0;Se<Ve;++Se)if(Pe=Y[Se],Pe<N&&++X>s&&P("overflow"),Pe==N){for(Ue=X,He=u;Je=He<=_e?l:He>=_e+c?c:He-_e,!(Ue<Je);He+=u)or=Ue-Je,ct=u-Je,Be.push(w(q(Je+or%ct,0))),Ue=b(or/ct);Be.push(w(q(Ue,0))),_e=D(X,Ee,ne==ue),X=0,++ne}++X,++N}return Be.join("")}function de(Y){return k(Y,function(N){return p.test(N)?U(N.slice(4).toLowerCase()):N})}function pe(Y){return k(Y,function(N){return m.test(N)?"xn--"+K(N):N})}if(a={version:"1.4.1",ucs2:{decode:F,encode:j},decode:U,encode:K,toASCII:pe,toUnicode:de},n&&i)if(e.exports==n)i.exports=a;else for(E in a)a.hasOwnProperty(E)&&(n[E]=a[E]);else r.punycode=a})($r)})(Ah,Ah.exports);var gee=Ah.exports,Us=TypeError;const yee={},_ee=Object.freeze(Object.defineProperty({__proto__:null,default:yee},Symbol.toStringTag,{value:"Module"})),xee=lF(_ee);var _b=typeof Map=="function"&&Map.prototype,hm=Object.getOwnPropertyDescriptor&&_b?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ph=_b&&hm&&typeof hm.get=="function"?hm.get:null,XT=_b&&Map.prototype.forEach,xb=typeof Set=="function"&&Set.prototype,dm=Object.getOwnPropertyDescriptor&&xb?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,kh=xb&&dm&&typeof dm.get=="function"?dm.get:null,YT=xb&&Set.prototype.forEach,bee=typeof WeakMap=="function"&&WeakMap.prototype,Ku=bee?WeakMap.prototype.has:null,See=typeof WeakSet=="function"&&WeakSet.prototype,Zu=See?WeakSet.prototype.has:null,wee=typeof WeakRef=="function"&&WeakRef.prototype,KT=wee?WeakRef.prototype.deref:null,Eee=Boolean.prototype.valueOf,Tee=Object.prototype.toString,Cee=Function.prototype.toString,Oee=String.prototype.match,bb=String.prototype.slice,Gi=String.prototype.replace,Aee=String.prototype.toUpperCase,ZT=String.prototype.toLowerCase,jR=RegExp.prototype.test,JT=Array.prototype.concat,Mn=Array.prototype.join,Pee=Array.prototype.slice,QT=Math.floor,Fy=typeof BigInt=="function"?BigInt.prototype.valueOf:null,pm=Object.getOwnPropertySymbols,Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,vs=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ju=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===vs||"symbol")?Symbol.toStringTag:null,$R=Object.prototype.propertyIsEnumerable,eC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function tC(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||jR.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-QT(-e):QT(e);if(n!==e){var i=String(n),o=bb.call(t,i.length+1);return Gi.call(i,r,"$&_")+"."+Gi.call(Gi.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Gi.call(t,r,"$&_")}var By=xee,rC=By.custom,nC=zR(rC)?rC:null,UR={__proto__:null,double:'"',single:"'"},kee={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},up=function e(t,r,n,i){var o=r||{};if(ui(o,"quoteStyle")&&!ui(UR,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ui(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=ui(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ui(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ui(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return VR(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?tC(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return s?tC(t,l):l}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof t=="object")return jy(t)?"[Array]":"[Object]";var f=Xee(o,n);if(typeof i>"u")i=[];else if(HR(i,t)>=0)return"[Circular]";function h(z,q,D){if(q&&(i=Pee.call(i),i.push(q)),D){var U={depth:o.depth};return ui(o,"quoteStyle")&&(U.quoteStyle=o.quoteStyle),e(z,U,n+1,i)}return e(z,o,n+1,i)}if(typeof t=="function"&&!iC(t)){var d=jee(t),v=Dc(t,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(v.length>0?" { "+Mn.call(v,", ")+" }":"")}if(zR(t)){var g=vs?Gi.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Dy.call(t);return typeof t=="object"&&!vs?pu(g):g}if(Vee(t)){for(var p="<"+ZT.call(String(t.nodeName)),m=t.attributes||[],y=0;y<m.length;y++)p+=" "+m[y].name+"="+GR(Ree(m[y].value),"double",o);return p+=">",t.childNodes&&t.childNodes.length&&(p+="..."),p+="</"+ZT.call(String(t.nodeName))+">",p}if(jy(t)){if(t.length===0)return"[]";var _=Dc(t,h);return f&&!qee(_)?"["+$y(_,f)+"]":"[ "+Mn.call(_,", ")+" ]"}if(Nee(t)){var x=Dc(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!$R.call(t,"cause")?"{ ["+String(t)+"] "+Mn.call(JT.call("[cause]: "+h(t.cause),x),", ")+" }":x.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Mn.call(x,", ")+" }"}if(typeof t=="object"&&a){if(nC&&typeof t[nC]=="function"&&By)return By(t,{depth:c-n});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if($ee(t)){var b=[];return XT&&XT.call(t,function(z,q){b.push(h(q,t,!0)+" => "+h(z,t))}),oC("Map",Ph.call(t),b,f)}if(zee(t)){var w=[];return YT&&YT.call(t,function(z){w.push(h(z,t))}),oC("Set",kh.call(t),w,f)}if(Uee(t))return vm("WeakMap");if(Hee(t))return vm("WeakSet");if(Gee(t))return vm("WeakRef");if(Mee(t))return pu(h(Number(t)));if(Dee(t))return pu(h(Fy.call(t)));if(Fee(t))return pu(Eee.call(t));if(Lee(t))return pu(h(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof $r<"u"&&t===$r)return"{ [object globalThis] }";if(!Iee(t)&&!iC(t)){var E=Dc(t,h),P=eC?eC(t)===Object.prototype:t instanceof Object||t.constructor===Object,A=t instanceof Object?"":"null prototype",k=!P&&Ju&&Object(t)===t&&Ju in t?bb.call(_o(t),8,-1):A?"Object":"",F=P||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",j=F+(k||A?"["+Mn.call(JT.call([],k||[],A||[]),": ")+"] ":"");return E.length===0?j+"{}":f?j+"{"+$y(E,f)+"}":j+"{ "+Mn.call(E,", ")+" }"}return String(t)};function GR(e,t,r){var n=r.quoteStyle||t,i=UR[n];return i+e+i}function Ree(e){return Gi.call(String(e),/"/g,"&quot;")}function da(e){return!Ju||!(typeof e=="object"&&(Ju in e||typeof e[Ju]<"u"))}function jy(e){return _o(e)==="[object Array]"&&da(e)}function Iee(e){return _o(e)==="[object Date]"&&da(e)}function iC(e){return _o(e)==="[object RegExp]"&&da(e)}function Nee(e){return _o(e)==="[object Error]"&&da(e)}function Lee(e){return _o(e)==="[object String]"&&da(e)}function Mee(e){return _o(e)==="[object Number]"&&da(e)}function Fee(e){return _o(e)==="[object Boolean]"&&da(e)}function zR(e){if(vs)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Dy)return!1;try{return Dy.call(e),!0}catch{}return!1}function Dee(e){if(!e||typeof e!="object"||!Fy)return!1;try{return Fy.call(e),!0}catch{}return!1}var Bee=Object.prototype.hasOwnProperty||function(e){return e in this};function ui(e,t){return Bee.call(e,t)}function _o(e){return Tee.call(e)}function jee(e){if(e.name)return e.name;var t=Oee.call(Cee.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function HR(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function $ee(e){if(!Ph||!e||typeof e!="object")return!1;try{Ph.call(e);try{kh.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Uee(e){if(!Ku||!e||typeof e!="object")return!1;try{Ku.call(e,Ku);try{Zu.call(e,Zu)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Gee(e){if(!KT||!e||typeof e!="object")return!1;try{return KT.call(e),!0}catch{}return!1}function zee(e){if(!kh||!e||typeof e!="object")return!1;try{kh.call(e);try{Ph.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Hee(e){if(!Zu||!e||typeof e!="object")return!1;try{Zu.call(e,Zu);try{Ku.call(e,Ku)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Vee(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function VR(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return VR(bb.call(e,0,t.maxStringLength),t)+n}var i=kee[t.quoteStyle||"single"];i.lastIndex=0;var o=Gi.call(Gi.call(e,i,"\\$1"),/[\x00-\x1f]/g,Wee);return GR(o,"single",t)}function Wee(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Aee.call(t.toString(16))}function pu(e){return"Object("+e+")"}function vm(e){return e+" { ? }"}function oC(e,t,r,n){var i=n?$y(r,n):Mn.call(r,", ");return e+" ("+t+") {"+i+"}"}function qee(e){for(var t=0;t<e.length;t++)if(HR(e[t],`
`)>=0)return!1;return!0}function Xee(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Mn.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Mn.call(Array(t+1),r)}}function $y(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Mn.call(e,","+r)+`
`+t.prev}function Dc(e,t){var r=jy(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=ui(e,i)?t(e[i],e):""}var o=typeof pm=="function"?pm(e):[],a;if(vs){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var u in e)ui(e,u)&&(r&&String(Number(u))===u&&u<e.length||vs&&a["$"+u]instanceof Symbol||(jR.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof pm=="function")for(var l=0;l<o.length;l++)$R.call(e,o[l])&&n.push("["+t(o[l])+"]: "+t(e[o[l]],e));return n}var Yee=up,Kee=Us,lp=function(e,t,r){for(var n=e,i;(i=n.next)!=null;n=i)if(i.key===t)return n.next=i.next,r||(i.next=e.next,e.next=i),i},Zee=function(e,t){if(e){var r=lp(e,t);return r&&r.value}},Jee=function(e,t,r){var n=lp(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},Qee=function(e,t){return e?!!lp(e,t):!1},ete=function(e,t){if(e)return lp(e,t,!0)},tte=function(){var t,r={assert:function(n){if(!r.has(n))throw new Kee("Side channel does not contain "+Yee(n))},delete:function(n){var i=t&&t.next,o=ete(t,n);return o&&i&&i===o&&(t=void 0),!!o},get:function(n){return Zee(t,n)},has:function(n){return Qee(t,n)},set:function(n,i){t||(t={next:void 0}),Jee(t,n,i)}};return r},WR=Object,rte=Error,nte=EvalError,ite=RangeError,ote=ReferenceError,ate=SyntaxError,ste=URIError,ute=Math.abs,lte=Math.floor,cte=Math.max,fte=Math.min,hte=Math.pow,dte=Math.round,pte=Number.isNaN||function(t){return t!==t},vte=pte,mte=function(t){return vte(t)||t===0?t:t<0?-1:1},gte=Object.getOwnPropertyDescriptor,kf=gte;if(kf)try{kf([],"length")}catch{kf=null}var qR=kf,Rf=Object.defineProperty||!1;if(Rf)try{Rf({},"a",{value:1})}catch{Rf=!1}var yte=Rf,mm,aC;function _te(){return aC||(aC=1,mm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),mm}var gm,sC;function xte(){if(sC)return gm;sC=1;var e=typeof Symbol<"u"&&Symbol,t=_te();return gm=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},gm}var ym,uC;function XR(){return uC||(uC=1,ym=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),ym}var _m,lC;function YR(){if(lC)return _m;lC=1;var e=WR;return _m=e.getPrototypeOf||null,_m}var xm,cC;function bte(){if(cC)return xm;cC=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(u,l){for(var c=[],f=0;f<u.length;f+=1)c[f]=u[f];for(var h=0;h<l.length;h+=1)c[h+u.length]=l[h];return c},o=function(u,l){for(var c=[],f=l||0,h=0;f<u.length;f+=1,h+=1)c[h]=u[f];return c},a=function(s,u){for(var l="",c=0;c<s.length;c+=1)l+=s[c],c+1<s.length&&(l+=u);return l};return xm=function(u){var l=this;if(typeof l!="function"||t.apply(l)!==n)throw new TypeError(e+l);for(var c=o(arguments,1),f,h=function(){if(this instanceof f){var m=l.apply(this,i(c,arguments));return Object(m)===m?m:this}return l.apply(u,i(c,arguments))},d=r(0,l.length-c.length),v=[],g=0;g<d;g++)v[g]="$"+g;if(f=Function("binder","return function ("+a(v,",")+"){ return binder.apply(this,arguments); }")(h),l.prototype){var p=function(){};p.prototype=l.prototype,f.prototype=new p,p.prototype=null}return f},xm}var bm,fC;function cp(){if(fC)return bm;fC=1;var e=bte();return bm=Function.prototype.bind||e,bm}var Sm,hC;function Sb(){return hC||(hC=1,Sm=Function.prototype.call),Sm}var wm,dC;function KR(){return dC||(dC=1,wm=Function.prototype.apply),wm}var Ste=typeof Reflect<"u"&&Reflect&&Reflect.apply,wte=cp(),Ete=KR(),Tte=Sb(),Cte=Ste,Ote=Cte||wte.call(Tte,Ete),Ate=cp(),Pte=Us,kte=Sb(),Rte=Ote,ZR=function(t){if(t.length<1||typeof t[0]!="function")throw new Pte("a function is required");return Rte(Ate,kte,t)},Em,pC;function Ite(){if(pC)return Em;pC=1;var e=ZR,t=qR,r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return Em=n&&typeof n.get=="function"?e([n.get]):typeof o=="function"?function(s){return o(s==null?s:i(s))}:!1,Em}var Tm,vC;function Nte(){if(vC)return Tm;vC=1;var e=XR(),t=YR(),r=Ite();return Tm=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,Tm}var Cm,mC;function Lte(){if(mC)return Cm;mC=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=cp();return Cm=r.call(e,t),Cm}var ke,Mte=WR,Fte=rte,Dte=nte,Bte=ite,jte=ote,ms=ate,ts=Us,$te=ste,Ute=ute,Gte=lte,zte=cte,Hte=fte,Vte=hte,Wte=dte,qte=mte,JR=Function,Om=function(e){try{return JR('"use strict"; return ('+e+").constructor;")()}catch{}},Rl=qR,Xte=yte,Am=function(){throw new ts},Yte=Rl?function(){try{return arguments.callee,Am}catch{try{return Rl(arguments,"callee").get}catch{return Am}}}():Am,ba=xte()(),Gt=Nte(),Kte=YR(),Zte=XR(),QR=KR(),uc=Sb(),ka={},Jte=typeof Uint8Array>"u"||!Gt?ke:Gt(Uint8Array),Vo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ke:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ke:ArrayBuffer,"%ArrayIteratorPrototype%":ba&&Gt?Gt([][Symbol.iterator]()):ke,"%AsyncFromSyncIteratorPrototype%":ke,"%AsyncFunction%":ka,"%AsyncGenerator%":ka,"%AsyncGeneratorFunction%":ka,"%AsyncIteratorPrototype%":ka,"%Atomics%":typeof Atomics>"u"?ke:Atomics,"%BigInt%":typeof BigInt>"u"?ke:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ke:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ke:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ke:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Fte,"%eval%":eval,"%EvalError%":Dte,"%Float16Array%":typeof Float16Array>"u"?ke:Float16Array,"%Float32Array%":typeof Float32Array>"u"?ke:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ke:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ke:FinalizationRegistry,"%Function%":JR,"%GeneratorFunction%":ka,"%Int8Array%":typeof Int8Array>"u"?ke:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ke:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ke:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ba&&Gt?Gt(Gt([][Symbol.iterator]())):ke,"%JSON%":typeof JSON=="object"?JSON:ke,"%Map%":typeof Map>"u"?ke:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ba||!Gt?ke:Gt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Mte,"%Object.getOwnPropertyDescriptor%":Rl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ke:Promise,"%Proxy%":typeof Proxy>"u"?ke:Proxy,"%RangeError%":Bte,"%ReferenceError%":jte,"%Reflect%":typeof Reflect>"u"?ke:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ke:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ba||!Gt?ke:Gt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ke:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ba&&Gt?Gt(""[Symbol.iterator]()):ke,"%Symbol%":ba?Symbol:ke,"%SyntaxError%":ms,"%ThrowTypeError%":Yte,"%TypedArray%":Jte,"%TypeError%":ts,"%Uint8Array%":typeof Uint8Array>"u"?ke:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ke:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ke:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ke:Uint32Array,"%URIError%":$te,"%WeakMap%":typeof WeakMap>"u"?ke:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ke:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ke:WeakSet,"%Function.prototype.call%":uc,"%Function.prototype.apply%":QR,"%Object.defineProperty%":Xte,"%Object.getPrototypeOf%":Kte,"%Math.abs%":Ute,"%Math.floor%":Gte,"%Math.max%":zte,"%Math.min%":Hte,"%Math.pow%":Vte,"%Math.round%":Wte,"%Math.sign%":qte,"%Reflect.getPrototypeOf%":Zte};if(Gt)try{null.error}catch(e){var Qte=Gt(Gt(e));Vo["%Error.prototype%"]=Qte}var ere=function e(t){var r;if(t==="%AsyncFunction%")r=Om("async function () {}");else if(t==="%GeneratorFunction%")r=Om("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Om("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Gt&&(r=Gt(i.prototype))}return Vo[t]=r,r},gC={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lc=cp(),Rh=Lte(),tre=lc.call(uc,Array.prototype.concat),rre=lc.call(QR,Array.prototype.splice),yC=lc.call(uc,String.prototype.replace),Ih=lc.call(uc,String.prototype.slice),nre=lc.call(uc,RegExp.prototype.exec),ire=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ore=/\\(\\)?/g,are=function(t){var r=Ih(t,0,1),n=Ih(t,-1);if(r==="%"&&n!=="%")throw new ms("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ms("invalid intrinsic syntax, expected opening `%`");var i=[];return yC(t,ire,function(o,a,s,u){i[i.length]=s?yC(u,ore,"$1"):a||o}),i},sre=function(t,r){var n=t,i;if(Rh(gC,n)&&(i=gC[n],n="%"+i[0]+"%"),Rh(Vo,n)){var o=Vo[n];if(o===ka&&(o=ere(n)),typeof o>"u"&&!r)throw new ts("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new ms("intrinsic "+t+" does not exist!")},wb=function(t,r){if(typeof t!="string"||t.length===0)throw new ts("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ts('"allowMissing" argument must be a boolean');if(nre(/^%?[^%]*%?$/,t)===null)throw new ms("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=are(t),i=n.length>0?n[0]:"",o=sre("%"+i+"%",r),a=o.name,s=o.value,u=!1,l=o.alias;l&&(i=l[0],rre(n,tre([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var h=n[c],d=Ih(h,0,1),v=Ih(h,-1);if((d==='"'||d==="'"||d==="`"||v==='"'||v==="'"||v==="`")&&d!==v)throw new ms("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(u=!0),i+="."+h,a="%"+i+"%",Rh(Vo,a))s=Vo[a];else if(s!=null){if(!(h in s)){if(!r)throw new ts("base intrinsic for "+t+" exists, but the property is not available.");return}if(Rl&&c+1>=n.length){var g=Rl(s,h);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?s=g.get:s=s[h]}else f=Rh(s,h),s=s[h];f&&!u&&(Vo[a]=s)}}return s},eI=wb,tI=ZR,ure=tI([eI("%String.prototype.indexOf%")]),rI=function(t,r){var n=eI(t,!!r);return typeof n=="function"&&ure(t,".prototype.")>-1?tI([n]):n},lre=wb,cc=rI,cre=up,fre=Us,_C=lre("%Map%",!0),hre=cc("Map.prototype.get",!0),dre=cc("Map.prototype.set",!0),pre=cc("Map.prototype.has",!0),vre=cc("Map.prototype.delete",!0),mre=cc("Map.prototype.size",!0),nI=!!_C&&function(){var t,r={assert:function(n){if(!r.has(n))throw new fre("Side channel does not contain "+cre(n))},delete:function(n){if(t){var i=vre(t,n);return mre(t)===0&&(t=void 0),i}return!1},get:function(n){if(t)return hre(t,n)},has:function(n){return t?pre(t,n):!1},set:function(n,i){t||(t=new _C),dre(t,n,i)}};return r},gre=wb,fp=rI,yre=up,Bc=nI,_re=Us,Sa=gre("%WeakMap%",!0),xre=fp("WeakMap.prototype.get",!0),bre=fp("WeakMap.prototype.set",!0),Sre=fp("WeakMap.prototype.has",!0),wre=fp("WeakMap.prototype.delete",!0),Ere=Sa?function(){var t,r,n={assert:function(i){if(!n.has(i))throw new _re("Side channel does not contain "+yre(i))},delete:function(i){if(Sa&&i&&(typeof i=="object"||typeof i=="function")){if(t)return wre(t,i)}else if(Bc&&r)return r.delete(i);return!1},get:function(i){return Sa&&i&&(typeof i=="object"||typeof i=="function")&&t?xre(t,i):r&&r.get(i)},has:function(i){return Sa&&i&&(typeof i=="object"||typeof i=="function")&&t?Sre(t,i):!!r&&r.has(i)},set:function(i,o){Sa&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new Sa),bre(t,i,o)):Bc&&(r||(r=Bc()),r.set(i,o))}};return n}:Bc,Tre=Us,Cre=up,Ore=tte,Are=nI,Pre=Ere,kre=Pre||Are||Ore,Rre=function(){var t,r={assert:function(n){if(!r.has(n))throw new Tre("Side channel does not contain "+Cre(n))},delete:function(n){return!!t&&t.delete(n)},get:function(n){return t&&t.get(n)},has:function(n){return!!t&&t.has(n)},set:function(n,i){t||(t=kre()),t.set(n,i)}};return r},Ire=String.prototype.replace,Nre=/%20/g,Pm={RFC1738:"RFC1738",RFC3986:"RFC3986"},Eb={default:Pm.RFC3986,formatters:{RFC1738:function(e){return Ire.call(e,Nre,"+")},RFC3986:function(e){return String(e)}},RFC1738:Pm.RFC1738,RFC3986:Pm.RFC3986},Lre=Eb,km=Object.prototype.hasOwnProperty,No=Array.isArray,Rn=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Mre=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(No(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},iI=function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},Fre=function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(No(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!km.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return No(t)&&!No(r)&&(i=iI(t,n)),No(t)&&No(r)?(r.forEach(function(o,a){if(km.call(t,a)){var s=t[a];s&&typeof s=="object"&&o&&typeof o=="object"?t[a]=e(s,o,n):t.push(o)}else t[a]=o}),t):Object.keys(r).reduce(function(o,a){var s=r[a];return km.call(o,a)?o[a]=e(o[a],s,n):o[a]=s,o},i)},Dre=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},Bre=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Rm=1024,jre=function(t,r,n,i,o){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var s="",u=0;u<a.length;u+=Rm){for(var l=a.length>=Rm?a.slice(u,u+Rm):a,c=[],f=0;f<l.length;++f){var h=l.charCodeAt(f);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===Lre.RFC1738&&(h===40||h===41)){c[c.length]=l.charAt(f);continue}if(h<128){c[c.length]=Rn[h];continue}if(h<2048){c[c.length]=Rn[192|h>>6]+Rn[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=Rn[224|h>>12]+Rn[128|h>>6&63]+Rn[128|h&63];continue}f+=1,h=65536+((h&1023)<<10|l.charCodeAt(f)&1023),c[c.length]=Rn[240|h>>18]+Rn[128|h>>12&63]+Rn[128|h>>6&63]+Rn[128|h&63]}s+=c.join("")}return s},$re=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],c=a[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:a,prop:l}),n.push(c))}return Mre(r),t},Ure=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Gre=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},zre=function(t,r){return[].concat(t,r)},Hre=function(t,r){if(No(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},oI={arrayToObject:iI,assign:Dre,combine:zre,compact:$re,decode:Bre,encode:jre,isBuffer:Gre,isRegExp:Ure,maybeMap:Hre,merge:Fre},aI=Rre,If=oI,Qu=Eb,Vre=Object.prototype.hasOwnProperty,sI={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Nn=Array.isArray,Wre=Array.prototype.push,uI=function(e,t){Wre.apply(e,Nn(t)?t:[t])},qre=Date.prototype.toISOString,xC=Qu.default,It={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:If.encode,encodeValuesOnly:!1,filter:void 0,format:xC,formatter:Qu.formatters[xC],indices:!1,serializeDate:function(t){return qre.call(t)},skipNulls:!1,strictNullHandling:!1},Xre=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Im={},Yre=function e(t,r,n,i,o,a,s,u,l,c,f,h,d,v,g,p,m,y){for(var _=t,x=y,b=0,w=!1;(x=x.get(Im))!==void 0&&!w;){var E=x.get(t);if(b+=1,typeof E<"u"){if(E===b)throw new RangeError("Cyclic object value");w=!0}typeof x.get(Im)>"u"&&(b=0)}if(typeof c=="function"?_=c(r,_):_ instanceof Date?_=d(_):n==="comma"&&Nn(_)&&(_=If.maybeMap(_,function(Y){return Y instanceof Date?d(Y):Y})),_===null){if(a)return l&&!p?l(r,It.encoder,m,"key",v):r;_=""}if(Xre(_)||If.isBuffer(_)){if(l){var P=p?r:l(r,It.encoder,m,"key",v);return[g(P)+"="+g(l(_,It.encoder,m,"value",v))]}return[g(r)+"="+g(String(_))]}var A=[];if(typeof _>"u")return A;var k;if(n==="comma"&&Nn(_))p&&l&&(_=If.maybeMap(_,l)),k=[{value:_.length>0?_.join(",")||null:void 0}];else if(Nn(c))k=c;else{var F=Object.keys(_);k=f?F.sort(f):F}var j=u?String(r).replace(/\./g,"%2E"):String(r),z=i&&Nn(_)&&_.length===1?j+"[]":j;if(o&&Nn(_)&&_.length===0)return z+"[]";for(var q=0;q<k.length;++q){var D=k[q],U=typeof D=="object"&&D&&typeof D.value<"u"?D.value:_[D];if(!(s&&U===null)){var K=h&&u?String(D).replace(/\./g,"%2E"):String(D),de=Nn(_)?typeof n=="function"?n(z,K):z:z+(h?"."+K:"["+K+"]");y.set(t,b);var pe=aI();pe.set(Im,y),uI(A,e(U,de,n,i,o,a,s,u,n==="comma"&&p&&Nn(_)?null:l,c,f,h,d,v,g,p,m,pe))}}return A},Kre=function(t){if(!t)return It;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||It.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Qu.default;if(typeof t.format<"u"){if(!Vre.call(Qu.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=Qu.formatters[n],o=It.filter;(typeof t.filter=="function"||Nn(t.filter))&&(o=t.filter);var a;if(t.arrayFormat in sI?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=It.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:It.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:It.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:It.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:It.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?It.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:It.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:It.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:It.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:It.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:It.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:It.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:It.strictNullHandling}},Zre=function(e,t){var r=e,n=Kre(t),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Nn(n.filter)&&(o=n.filter,i=o);var a=[];if(typeof r!="object"||r===null)return"";var s=sI[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=aI(),c=0;c<i.length;++c){var f=i[c],h=r[f];n.skipNulls&&h===null||uI(a,Yre(h,f,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=a.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),d.length>0?v+d:""},ta=oI,Uy=Object.prototype.hasOwnProperty,bC=Array.isArray,xt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ta.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Jre=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},lI=function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},Qre="utf8=%26%2310003%3B",ene="utf8=%E2%9C%93",tne=function(t,r){var n={__proto__:null},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&a.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var s=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===ene?l="utf-8":a[u]===Qre&&(l="iso-8859-1"),s=u,u=a.length);for(u=0;u<a.length;++u)if(u!==s){var c=a[u],f=c.indexOf("]="),h=f===-1?c.indexOf("="):f+1,d,v;h===-1?(d=r.decoder(c,xt.decoder,l,"key"),v=r.strictNullHandling?null:""):(d=r.decoder(c.slice(0,h),xt.decoder,l,"key"),v=ta.maybeMap(lI(c.slice(h+1),r,bC(n[d])?n[d].length:0),function(p){return r.decoder(p,xt.decoder,l,"value")})),v&&r.interpretNumericEntities&&l==="iso-8859-1"&&(v=Jre(String(v))),c.indexOf("[]=")>-1&&(v=bC(v)?[v]:v);var g=Uy.call(n,d);g&&r.duplicates==="combine"?n[d]=ta.combine(n[d],v):(!g||r.duplicates==="last")&&(n[d]=v)}return n},rne=function(e,t,r,n){var i=0;if(e.length>0&&e[e.length-1]==="[]"){var o=e.slice(0,-1).join("");i=Array.isArray(t)&&t[o]?t[o].length:0}for(var a=n?t:lI(t,r,i),s=e.length-1;s>=0;--s){var u,l=e[s];if(l==="[]"&&r.parseArrays)u=r.allowEmptyArrays&&(a===""||r.strictNullHandling&&a===null)?[]:ta.combine([],a);else{u=r.plainObjects?{__proto__:null}:{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,f=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,h=parseInt(f,10);!r.parseArrays&&f===""?u={0:a}:!isNaN(h)&&l!==f&&String(h)===f&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(u=[],u[h]=a):f!=="__proto__"&&(u[f]=a)}a=u}return a},nne=function(t,r,n,i){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(o),l=u?o.slice(0,u.index):o,c=[];if(l){if(!n.plainObjects&&Uy.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&(u=s.exec(o))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&Uy.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+o.slice(u.index)+"]")}return rne(c,r,n,i)}},ine=function(t){if(!t)return xt;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?xt.charset:t.charset,n=typeof t.duplicates>"u"?xt.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:xt.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:xt.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:xt.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:xt.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:xt.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:xt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:xt.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:xt.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:xt.decoder,delimiter:typeof t.delimiter=="string"||ta.isRegExp(t.delimiter)?t.delimiter:xt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:xt.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:xt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:xt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:xt.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:xt.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:xt.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}},one=function(e,t){var r=ine(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?tne(e,r):e,i=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),a=0;a<o.length;++a){var s=o[a],u=nne(s,n[s],r,typeof e=="string");i=ta.merge(i,u,r)}return r.allowSparse===!0?i:ta.compact(i)},ane=Zre,sne=one,une=Eb,lne={formats:une,parse:sne,stringify:ane},cne=gee;function Sn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var fne=/^([a-z0-9.+-]+:)/i,hne=/:[0-9]*$/,dne=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,pne=["<",">",'"',"`"," ","\r",`
`,"	"],vne=["{","}","|","\\","^","`"].concat(pne),Gy=["'"].concat(vne),SC=["%","/","?",";","#"].concat(Gy),wC=["/","?","#"],mne=255,EC=/^[+a-z0-9A-Z_-]{0,63}$/,gne=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yne={javascript:!0,"javascript:":!0},zy={javascript:!0,"javascript:":!0},rs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Hy=lne;function hp(e,t,r){if(e&&typeof e=="object"&&e instanceof Sn)return e;var n=new Sn;return n.parse(e,t,r),n}Sn.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var u=dne.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=Hy.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=fne.exec(s);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&zy[l])&&(s=s.substr(2),this.slashes=!0)}if(!zy[l]&&(f||l&&!rs[l])){for(var h=-1,d=0;d<wC.length;d++){var v=s.indexOf(wC[d]);v!==-1&&(h===-1||v<h)&&(h=v)}var g,p;h===-1?p=s.lastIndexOf("@"):p=s.lastIndexOf("@",h),p!==-1&&(g=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(g)),h=-1;for(var d=0;d<SC.length;d++){var v=s.indexOf(SC[d]);v!==-1&&(h===-1||v<h)&&(h=v)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var y=this.hostname.split(/\./),d=0,_=y.length;d<_;d++){var x=y[d];if(x&&!x.match(EC)){for(var b="",w=0,E=x.length;w<E;w++)x.charCodeAt(w)>127?b+="x":b+=x[w];if(!b.match(EC)){var P=y.slice(0,d),A=y.slice(d+1),k=x.match(gne);k&&(P.push(k[1]),A.unshift(k[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=P.join(".");break}}}this.hostname.length>mne?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=cne.toASCII(this.hostname));var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!yne[c])for(var d=0,_=Gy.length;d<_;d++){var z=Gy[d];if(s.indexOf(z)!==-1){var q=encodeURIComponent(z);q===z&&(q=escape(z)),s=s.split(z).join(q)}}var D=s.indexOf("#");D!==-1&&(this.hash=s.substr(D),s=s.slice(0,D));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),t&&(this.query=Hy.parse(this.query)),s=s.slice(0,U)):t&&(this.search="",this.query={}),s&&(this.pathname=s),rs[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",K=this.search||"";this.path=F+K}return this.href=this.format(),this};function _ne(e){return typeof e=="string"&&(e=hp(e)),e instanceof Sn?e.format():Sn.prototype.format.call(e)}Sn.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=Hy.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||rs[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+r+a+n};function xne(e,t){return hp(e,!1,!0).resolve(t)}Sn.prototype.resolve=function(e){return this.resolveObject(hp(e,!1,!0)).format()};Sn.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Sn;t.parse(e,!1,!0),e=t}for(var r=new Sn,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];u!=="protocol"&&(r[u]=e[u])}return rs[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!rs[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var f=l[c];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!zy[e.protocol]){for(var _=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var h=r.pathname||"",d=r.search||"";r.path=h+d}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=g||v||r.host&&e.pathname,m=p,y=r.pathname&&r.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],x=r.protocol&&!rs[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(_[0]===""?_[0]=e.host:_.unshift(e.host)),e.host=null),p=p&&(_[0]===""||y[0]==="")),g)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=_;else if(_.length)y||(y=[]),y.pop(),y=y.concat(_),r.search=e.search,r.query=e.query;else if(e.search!=null){if(x){r.host=y.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=y.slice(-1)[0],E=(r.host||e.host||y.length>1)&&(w==="."||w==="..")||w==="",P=0,A=y.length;A>=0;A--)w=y[A],w==="."?y.splice(A,1):w===".."?(y.splice(A,1),P++):P&&(y.splice(A,1),P--);if(!p&&!m)for(;P--;P)y.unshift("..");p&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),E&&y.join("/").substr(-1)!=="/"&&y.push("");var k=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){r.hostname=k?"":y.length?y.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return p=p||r.host&&y.length,p&&!k&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Sn.prototype.parseHost=function(){var e=this.host,t=hne.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var bne=hp,Sne=xne,wne=_ne;/*!
 * @pixi/utils - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $o={parse:bne,format:wne,resolve:Sne};function hn(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function TC(e){var t=e.split("?")[0];return t.split("#")[0]}function Ene(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Tne(e,t,r){return e.replace(new RegExp(Ene(t),"g"),r)}function Cne(e,t){for(var r="",n=0,i=-1,o=0,a,s=0;s<=e.length;++s){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=s,o=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=s,o=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,o=0}else a===46&&o!==-1?++o:o=-1}return r}var cI={toPosix:function(e){return Tne(e,"\\","/")},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol:function(e){hn(e),e=this.toPosix(e);var t="",r=/^file:\/\/\//.exec(e),n=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);if(r||n||i){var o=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);t=o,e=e.slice(o.length)}return t},toAbsolute:function(e,t,r){if(this.isDataUrl(e))return e;var n=TC(this.toPosix(t??ie.ADAPTER.getBaseUrl())),i=TC(this.toPosix(r??this.rootname(n)));if(hn(e),e=this.toPosix(e),e.startsWith("/"))return cI.join(i,e.slice(1));var o=this.isAbsolute(e)?e:this.join(n,e);return o},normalize:function(e){if(e=this.toPosix(e),hn(e),e.length===0)return".";var t="",r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var n=e.endsWith("/");return e=Cne(e,!1),e.length>0&&n&&(e+="/"),r?"/"+e:t+e},isAbsolute:function(e){return hn(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join:function(){for(var e=arguments,t,r=[],n=0;n<arguments.length;n++)r[n]=e[n];if(r.length===0)return".";for(var i,o=0;o<r.length;++o){var a=r[o];if(hn(a),a.length>0)if(i===void 0)i=a;else{var s=(t=r[o-1])!==null&&t!==void 0?t:"";this.extname(s)?i+="/../"+a:i+="/"+a}}return i===void 0?".":this.normalize(i)},dirname:function(e){if(hn(e),e.length===0)return".";e=this.toPosix(e);var t=e.charCodeAt(0),r=t===47,n=-1,i=!0,o=this.getProtocol(e),a=e;e=e.slice(o.length);for(var s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!i){n=s;break}}else i=!1;return n===-1?r?"/":this.isUrl(a)?o+e:o:r&&n===1?"//":o+e.slice(0,n)},rootname:function(e){hn(e),e=this.toPosix(e);var t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){var r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename:function(e,t){hn(e),t&&hn(t),e=this.toPosix(e);var r=0,n=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,s=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!i){r=o+1;break}}else s===-1&&(i=!1,s=o+1),a>=0&&(u===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=s))}return r===n?n=s:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname:function(e){hn(e),e=this.toPosix(e);for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(s===47){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),s===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1?"":e.slice(t,n)},parse:function(e){hn(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=this.toPosix(e);var r=e.charCodeAt(0),n=this.isAbsolute(e),i;t.root=this.rootname(e),n||this.hasProtocol(e)?i=1:i=0;for(var o=-1,a=0,s=-1,u=!0,l=e.length-1,c=0;l>=i;--l){if(r=e.charCodeAt(l),r===47){if(!u){a=l+1;break}continue}s===-1&&(u=!1,s=l+1),r===46?o===-1?o=l:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||s===-1||c===0||c===1&&o===s-1&&o===a+1?s!==-1&&(a===0&&n?t.base=t.name=e.slice(1,s):t.base=t.name=e.slice(a,s)):(a===0&&n?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(a,o),t.base=e.slice(a,s)),t.ext=e.slice(o,s)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};ie.RETINA_PREFIX=/@([0-9\.]+)x/;ie.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Vy=!1,CC="6.5.10";function One(){Vy=!0}function fI(e){var t;if(!Vy){if(ie.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+CC+" -  "+e+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+CC+" - "+e+" - http://www.pixijs.com/");Vy=!0}}var Nm;function hI(){return typeof Nm>"u"&&(Nm=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:ie.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ie.ADAPTER.getWebGLRenderingContext())return!1;var r=ie.ADAPTER.createCanvas(),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),Nm}var Ane="#f0f8ff",Pne="#faebd7",kne="#00ffff",Rne="#7fffd4",Ine="#f0ffff",Nne="#f5f5dc",Lne="#ffe4c4",Mne="#000000",Fne="#ffebcd",Dne="#0000ff",Bne="#8a2be2",jne="#a52a2a",$ne="#deb887",Une="#5f9ea0",Gne="#7fff00",zne="#d2691e",Hne="#ff7f50",Vne="#6495ed",Wne="#fff8dc",qne="#dc143c",Xne="#00ffff",Yne="#00008b",Kne="#008b8b",Zne="#b8860b",Jne="#a9a9a9",Qne="#006400",eie="#a9a9a9",tie="#bdb76b",rie="#8b008b",nie="#556b2f",iie="#ff8c00",oie="#9932cc",aie="#8b0000",sie="#e9967a",uie="#8fbc8f",lie="#483d8b",cie="#2f4f4f",fie="#2f4f4f",hie="#00ced1",die="#9400d3",pie="#ff1493",vie="#00bfff",mie="#696969",gie="#696969",yie="#1e90ff",_ie="#b22222",xie="#fffaf0",bie="#228b22",Sie="#ff00ff",wie="#dcdcdc",Eie="#f8f8ff",Tie="#daa520",Cie="#ffd700",Oie="#808080",Aie="#008000",Pie="#adff2f",kie="#808080",Rie="#f0fff0",Iie="#ff69b4",Nie="#cd5c5c",Lie="#4b0082",Mie="#fffff0",Fie="#f0e68c",Die="#fff0f5",Bie="#e6e6fa",jie="#7cfc00",$ie="#fffacd",Uie="#add8e6",Gie="#f08080",zie="#e0ffff",Hie="#fafad2",Vie="#d3d3d3",Wie="#90ee90",qie="#d3d3d3",Xie="#ffb6c1",Yie="#ffa07a",Kie="#20b2aa",Zie="#87cefa",Jie="#778899",Qie="#778899",eoe="#b0c4de",toe="#ffffe0",roe="#00ff00",noe="#32cd32",ioe="#faf0e6",ooe="#ff00ff",aoe="#800000",soe="#66cdaa",uoe="#0000cd",loe="#ba55d3",coe="#9370db",foe="#3cb371",hoe="#7b68ee",doe="#00fa9a",poe="#48d1cc",voe="#c71585",moe="#191970",goe="#f5fffa",yoe="#ffe4e1",_oe="#ffe4b5",xoe="#ffdead",boe="#000080",Soe="#fdf5e6",woe="#808000",Eoe="#6b8e23",Toe="#ffa500",Coe="#ff4500",Ooe="#da70d6",Aoe="#eee8aa",Poe="#98fb98",koe="#afeeee",Roe="#db7093",Ioe="#ffefd5",Noe="#ffdab9",Loe="#cd853f",Moe="#ffc0cb",Foe="#dda0dd",Doe="#b0e0e6",Boe="#800080",joe="#663399",$oe="#ff0000",Uoe="#bc8f8f",Goe="#4169e1",zoe="#8b4513",Hoe="#fa8072",Voe="#f4a460",Woe="#2e8b57",qoe="#fff5ee",Xoe="#a0522d",Yoe="#c0c0c0",Koe="#87ceeb",Zoe="#6a5acd",Joe="#708090",Qoe="#708090",eae="#fffafa",tae="#00ff7f",rae="#4682b4",nae="#d2b48c",iae="#008080",oae="#d8bfd8",aae="#ff6347",sae="#40e0d0",uae="#ee82ee",lae="#f5deb3",cae="#ffffff",fae="#f5f5f5",hae="#ffff00",dae="#9acd32",pae={aliceblue:Ane,antiquewhite:Pne,aqua:kne,aquamarine:Rne,azure:Ine,beige:Nne,bisque:Lne,black:Mne,blanchedalmond:Fne,blue:Dne,blueviolet:Bne,brown:jne,burlywood:$ne,cadetblue:Une,chartreuse:Gne,chocolate:zne,coral:Hne,cornflowerblue:Vne,cornsilk:Wne,crimson:qne,cyan:Xne,darkblue:Yne,darkcyan:Kne,darkgoldenrod:Zne,darkgray:Jne,darkgreen:Qne,darkgrey:eie,darkkhaki:tie,darkmagenta:rie,darkolivegreen:nie,darkorange:iie,darkorchid:oie,darkred:aie,darksalmon:sie,darkseagreen:uie,darkslateblue:lie,darkslategray:cie,darkslategrey:fie,darkturquoise:hie,darkviolet:die,deeppink:pie,deepskyblue:vie,dimgray:mie,dimgrey:gie,dodgerblue:yie,firebrick:_ie,floralwhite:xie,forestgreen:bie,fuchsia:Sie,gainsboro:wie,ghostwhite:Eie,goldenrod:Tie,gold:Cie,gray:Oie,green:Aie,greenyellow:Pie,grey:kie,honeydew:Rie,hotpink:Iie,indianred:Nie,indigo:Lie,ivory:Mie,khaki:Fie,lavenderblush:Die,lavender:Bie,lawngreen:jie,lemonchiffon:$ie,lightblue:Uie,lightcoral:Gie,lightcyan:zie,lightgoldenrodyellow:Hie,lightgray:Vie,lightgreen:Wie,lightgrey:qie,lightpink:Xie,lightsalmon:Yie,lightseagreen:Kie,lightskyblue:Zie,lightslategray:Jie,lightslategrey:Qie,lightsteelblue:eoe,lightyellow:toe,lime:roe,limegreen:noe,linen:ioe,magenta:ooe,maroon:aoe,mediumaquamarine:soe,mediumblue:uoe,mediumorchid:loe,mediumpurple:coe,mediumseagreen:foe,mediumslateblue:hoe,mediumspringgreen:doe,mediumturquoise:poe,mediumvioletred:voe,midnightblue:moe,mintcream:goe,mistyrose:yoe,moccasin:_oe,navajowhite:xoe,navy:boe,oldlace:Soe,olive:woe,olivedrab:Eoe,orange:Toe,orangered:Coe,orchid:Ooe,palegoldenrod:Aoe,palegreen:Poe,paleturquoise:koe,palevioletred:Roe,papayawhip:Ioe,peachpuff:Noe,peru:Loe,pink:Moe,plum:Foe,powderblue:Doe,purple:Boe,rebeccapurple:joe,red:$oe,rosybrown:Uoe,royalblue:Goe,saddlebrown:zoe,salmon:Hoe,sandybrown:Voe,seagreen:Woe,seashell:qoe,sienna:Xoe,silver:Yoe,skyblue:Koe,slateblue:Zoe,slategray:Joe,slategrey:Qoe,snow:eae,springgreen:tae,steelblue:rae,tan:nae,teal:iae,thistle:oae,tomato:aae,turquoise:sae,violet:uae,wheat:lae,white:cae,whitesmoke:fae,yellow:hae,yellowgreen:dae};function qt(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function Tb(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function Cb(e){return typeof e=="string"&&(e=pae[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function un(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function vae(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[fe.NORMAL_NPM]=fe.NORMAL,e[fe.ADD_NPM]=fe.ADD,e[fe.SCREEN_NPM]=fe.SCREEN,t[fe.NORMAL]=fe.NORMAL_NPM,t[fe.ADD]=fe.ADD_NPM,t[fe.SCREEN]=fe.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var Ob=vae();function Ab(e,t){return Ob[t?1:0][e]}function dI(e,t,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function dp(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,n=e>>8&255,i=e&255;return r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(r<<16)+(n<<8)+i}function Pb(e,t,r,n){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(n||n===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function pI(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function pp(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var mae={Float32Array,Uint32Array,Int32Array,Uint8Array};function gae(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),s=null,u=0,o=0;o<e.length;o++){var l=t[o],c=e[o],f=pp(c);i[f]||(i[f]=new mae[f](a)),s=i[f];for(var h=0;h<c.length;h++){var d=(h/l|0)*n+u,v=h%l;s[d+v]=c[h]}u+=l}return new Float32Array(a)}function Il(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Wy(e){return!(e&e-1)&&!!e}function qy(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function Wo(e,t,r){var n=e.length,i;if(!(t>=n||r===0)){r=t+r>n?n-t:r;var o=n-r;for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function Uo(e){return e===0?0:e<0?-1:1}var yae=0;function co(){return++yae}var OC={};function _r(e,t,r){if(r===void 0&&(r=3),!OC[t]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(n))),OC[t]=!0}}var Xy={},Ar=Object.create(null),Kr=Object.create(null);function _ae(){var e;for(e in Ar)Ar[e].destroy();for(e in Kr)Kr[e].destroy()}function vI(){var e;for(e in Ar)delete Ar[e];for(e in Kr)delete Kr[e]}var Yy=function(){function e(t,r,n){this.canvas=ie.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||ie.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function mI(e){var t=e.width,r=e.height,n=e.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,t,r),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},u=null,l,c,f;for(l=0;l<a;l+=4)o[l+3]!==0&&(c=l/4%t,f=~~(l/4/t),s.top===null&&(s.top=f),(s.left===null||c<s.left)&&(s.left=c),(s.right===null||s.right<c)&&(s.right=c+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(t=s.right-s.left,r=s.bottom-s.top+1,u=n.getImageData(s.left,s.top,t,r)),{height:r,width:t,data:u}}var gI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function xae(e){var t=gI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}var jc;function yI(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,jc||(jc=document.createElement("a")),jc.href=e;var r=$o.parse(jc.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function Nl(e,t){var r=ie.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}const bae=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Kr,CanvasRenderTarget:Yy,DATA_URI:gI,EventEmitter:$s,ProgramCache:Xy,TextureCache:Ar,clearTextureCache:vI,correctBlendMode:Ab,createIndicesForQuads:pI,decomposeDataUri:xae,deprecation:_r,destroyTextureCache:_ae,determineCrossOrigin:yI,earcut:yb,getBufferType:pp,getResolutionOfUrl:Nl,hex2rgb:qt,hex2string:Tb,interleaveTypedArrays:gae,isMobile:tn,isPow2:Wy,isWebGLSupported:hI,log2:qy,nextPow2:Il,path:cI,premultiplyBlendMode:Ob,premultiplyRgba:dI,premultiplyTint:dp,premultiplyTintToRgba:Pb,removeItems:Wo,rgb2hex:un,sayHello:fI,sign:Uo,skipHello:One,string2hex:Cb,trimCanvas:mI,uid:co,url:$o},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ll=Math.PI*2,_I=180/Math.PI,fo=Math.PI/180,Ft;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Ft||(Ft={}));var Ae=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),$c=[new Ae,new Ae,new Ae,new Ae],Le=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ft.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.intersects=function(t,r){if(!r){var n=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=n)return!1;var o=this.y<t.y?t.y:this.y,a=this.bottom>t.bottom?t.bottom:this.bottom;return a>o}var s=this.left,u=this.right,l=this.top,c=this.bottom;if(u<=s||c<=l)return!1;var f=$c[0].set(t.left,t.top),h=$c[1].set(t.left,t.bottom),d=$c[2].set(t.right,t.top),v=$c[3].set(t.right,t.bottom);if(d.x<=f.x||h.y<=f.y)return!1;var g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(f,f),r.apply(h,h),r.apply(d,d),r.apply(v,v),Math.max(f.x,h.x,d.x,v.x)<=s||Math.min(f.x,h.x,d.x,v.x)>=u||Math.max(f.y,h.y,d.y,v.y)<=l||Math.min(f.y,h.y,d.y,v.y)>=c))return!1;var p=g*(h.y-f.y),m=g*(f.x-h.x),y=p*s+m*l,_=p*u+m*l,x=p*s+m*c,b=p*u+m*c;if(Math.max(y,_,x,b)<=p*f.x+m*f.y||Math.min(y,_,x,b)>=p*v.x+m*v.y)return!1;var w=g*(f.y-d.y),E=g*(d.x-f.x),P=w*s+E*l,A=w*u+E*l,k=w*s+E*c,F=w*u+E*c;return!(Math.max(P,A,k,F)<=w*f.x+E*f.y||Math.min(P,A,k,F)>=w*v.x+E*v.y)},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),xI=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n,this.type=Ft.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,o=this.y-r;return i*=i,o*=o,i+o<=n},e.prototype.getBounds=function(){return new Le(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),bI=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i,this.type=Ft.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new Le(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),el=function(){function e(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Ft.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[o*2],u=this.points[o*2+1],l=this.points[a*2],c=this.points[a*2+1],f=u>r!=c>r&&t<(l-s)*((r-u)/(c-u))+s;f&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,r){return t+", "+r},"")+"]")},e}(),SI=function(){function e(t,r,n,i,o){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=Ft.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var i=t-(this.x+n),o=r-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=t-(this.x+this.width-n),i*i+o*o<=a)||(o=r-(this.y+this.height-n),i*i+o*o<=a)||(i=t-(this.x+n),i*i+o*o<=a))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),zi=function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Rt=function(){function e(t,r,n,i,o,a){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,n,i,o,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(t,r){r=r||new Ae;var n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new Ae;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),n=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},e.prototype.append=function(t){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*o,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*o,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,n,i,o,a,s,u,l){return this.a=Math.cos(s+l)*o,this.b=Math.sin(s+l)*o,this.c=-Math.sin(s-u)*a,this.d=Math.cos(s-u)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,n=this.b,i=this.c,o=this.d,a=t.pivot,s=-Math.atan2(-i,o),u=Math.atan2(n,r),l=Math.abs(s+u);return l<1e-5||Math.abs(Ll-l)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*r+a.y*i),t.position.y=this.ty+(a.x*n+a.y*o),t},e.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(t*this.ty-r*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Po=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ko=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ro=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Io=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ky=[],wI=[],Uc=Math.sign;function Sae(){for(var e=0;e<16;e++){var t=[];Ky.push(t);for(var r=0;r<16;r++)for(var n=Uc(Po[e]*Po[r]+Ro[e]*ko[r]),i=Uc(ko[e]*Po[r]+Io[e]*ko[r]),o=Uc(Po[e]*Ro[r]+Ro[e]*Io[r]),a=Uc(ko[e]*Ro[r]+Io[e]*Io[r]),s=0;s<16;s++)if(Po[s]===n&&ko[s]===i&&Ro[s]===o&&Io[s]===a){t.push(s);break}}for(var e=0;e<16;e++){var u=new Rt;u.set(Po[e],ko[e],Ro[e],Io[e],0,0),wI.push(u)}}Sae();var ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Po[e]},uY:function(e){return ko[e]},vX:function(e){return Ro[e]},vY:function(e){return Io[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return Ky[e][t]},sub:function(e,t){return Ky[e][ft.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?ft.S:ft.N:Math.abs(t)*2<=Math.abs(e)?e>0?ft.E:ft.W:t>0?e>0?ft.SE:ft.SW:e>0?ft.NE:ft.NW},matrixAppendRotationInv:function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=wI[ft.inv(t)];i.tx=r,i.ty=n,e.append(i)}},kb=function(){function e(){this.worldTransform=new Rt,this.localTransform=new Rt,this.position=new zi(this.onChange,this,0,0),this.scale=new zi(this.onChange,this,1,1),this.pivot=new zi(this.onChange,this,0,0),this.skew=new zi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ie.SORTABLE_CHILDREN=!1;var Ml=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Le.EMPTY:(t=t||new Le(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,r){var n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,u=t.ty,l=n*r.x+o*r.y+s,c=i*r.x+a*r.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},e.prototype.addQuad=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=t[0],s=t[1];r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[2],s=t[3],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[4],s=t[5],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[6],s=t[7],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,r,n,i,o){this.addFrameMatrix(t.worldTransform,r,n,i,o)},e.prototype.addFrameMatrix=function(t,r,n,i,o){var a=t.a,s=t.b,u=t.c,l=t.d,c=t.tx,f=t.ty,h=this.minX,d=this.minY,v=this.maxX,g=this.maxY,p=a*r+u*n+c,m=s*r+l*n+f;h=p<h?p:h,d=m<d?m:d,v=p>v?p:v,g=m>g?m:g,p=a*i+u*n+c,m=s*i+l*n+f,h=p<h?p:h,d=m<d?m:d,v=p>v?p:v,g=m>g?m:g,p=a*r+u*o+c,m=s*r+l*o+f,h=p<h?p:h,d=m<d?m:d,v=p>v?p:v,g=m>g?m:g,p=a*i+u*o+c,m=s*i+l*o+f,h=p<h?p:h,d=m<d?m:d,v=p>v?p:v,g=m>g?m:g,this.minX=h,this.minY=d,this.maxX=v,this.maxY=g},e.prototype.addVertexData=function(t,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY,u=r;u<n;u+=2){var l=t[u],c=t[u+1];i=l<i?l:i,o=c<o?c:o,a=l>a?l:a,s=c>s?c:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s},e.prototype.addVertices=function(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)},e.prototype.addVerticesMatrix=function(t,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var s=t.a,u=t.b,l=t.c,c=t.d,f=t.tx,h=t.ty,d=this.minX,v=this.minY,g=this.maxX,p=this.maxY,m=n;m<i;m+=2){var y=r[m],_=r[m+1],x=s*y+l*_+f,b=c*_+u*y+h;d=Math.min(d,x-o),g=Math.max(g,x+o),v=Math.min(v,b-a),p=Math.max(p,b+a)}this.minX=d,this.minY=v,this.maxX=g,this.maxY=p},e.prototype.addBounds=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=o&&i<=a){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=a>c?a:c}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=o&&i<=a){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=a>c?a:c}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,n,i,o,a){t-=o,r-=a,n+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zy=function(e,t){return Zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Zy(e,t)};function Rb(e,t){Zy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wt=function(e){Rb(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new kb,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Ml,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Le),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Le),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Ml);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,s},t.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},t.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,n,i,o,a,s,u,l,c){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),l===void 0&&(l=0),c===void 0&&(c=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=s,this.skew.y=u,this.pivot.x=l,this.pivot.y=c,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Ib),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*_I},set:function(r){this.transform.rotation=r*fo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),t}($s),Ib=function(e){Rb(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t}(wt);wt.prototype.displayObjectUpdateTransform=wt.prototype.updateTransform;function wae(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var xr=function(e){Rb(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=ie.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},t.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},t.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Wo(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],s=this.children.indexOf(a);if(s===-1)return null;a.parent=null,a.transform._parentID=-1,Wo(this.children,s,1),this._boundsID++,this.onChildrenChange(s),a.emit("removed",this),this.emit("childRemoved",a,this,s)}return n[0]},t.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Wo(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},t.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,s;if(a>0&&a<=o){s=this.children.splice(i,a);for(var u=0;u<s.length;++u)s[u].parent=null,s[u].transform&&(s[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var u=0;u<s.length;++u)s[u].emit("removed",this),this.emit("childRemoved",s[u],this,u);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(wae),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=e.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(r);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var u=this.children[a],l=u.cullable;u.cullable=l||!this.cullArea,u.render(r),u.cullable=l}}},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},t.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Tt.NONE));if(a&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,s=this.children.length;o<s;++o)this.children[o].render(r)}a&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t}(wt);xr.prototype.containerUpdateTransform=xr.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tl=function(){return tl=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tl.apply(this,arguments)},Xe;(function(e){e.Application="application",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Loader="loader",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser"})(Xe||(Xe={}));var AC=function(e){if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");var t=typeof e.extension!="object"?{type:e.extension}:e.extension;e=tl(tl({},t),{ref:e})}if(typeof e=="object")e=tl({},e);else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},ri={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var e=arguments,t=this,r=[],n=0;n<arguments.length;n++)r[n]=e[n];return r.map(AC).forEach(function(i){i.type.forEach(function(o){var a,s;return(s=(a=t._removeHandlers)[o])===null||s===void 0?void 0:s.call(a,i)})}),this},add:function(){for(var e=arguments,t=this,r=[],n=0;n<arguments.length;n++)r[n]=e[n];return r.map(AC).forEach(function(i){i.type.forEach(function(o){var a=t._addHandlers,s=t._queue;a[o]?a[o](i):(s[o]=s[o]||[],s[o].push(i))})}),this},handle:function(e,t,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[e]||i[e])throw new Error("Extension type "+e+" already has a handler");n[e]=t,i[e]=r;var o=this._queue;return o[e]&&(o[e].forEach(function(a){return t(a)}),delete o[e]),this},handleByMap:function(e,t){return this.handle(e,function(r){t[r.name]=r.ref},function(r){delete t[r.name]})},handleByList:function(e,t){return this.handle(e,function(r){var n,i;t.includes(r.ref)||(t.push(r.ref),e===Xe.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n)))},function(r){var n=t.indexOf(r.ref);n!==-1&&t.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zt=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,n,i,o,a,s,u){if(arguments.length>8)throw new Error("max arguments reached");var l=this,c=l.name,f=l.items;this._aliasCount++;for(var h=0,d=f.length;h<d;h++)f[h][c](t,r,n,i,o,a,s,u);return f===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(zt.prototype,{dispatch:{value:zt.prototype.emit},run:{value:zt.prototype.emit}});/*!
 * @pixi/ticker - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ie.TARGET_FPMS=.06;var Kn;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(Kn||(Kn={}));var Lm=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e}(),Ht=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Lm(null,null,1/0),this.deltaMS=1/ie.TARGET_FPMS,this.elapsedMS=1/ie.TARGET_FPMS,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,n){return n===void 0&&(n=Kn.NORMAL),this._addListener(new Lm(t,r,n))},e.prototype.addOnce=function(t,r,n){return n===void 0&&(n=Kn.NORMAL),this._addListener(new Lm(t,r,n,!0))},e.prototype._addListener=function(t){var r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var n=this._head.next;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*ie.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,ie.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),EI=function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Kn.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Ht.shared:new Ht,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e.extension=Xe.Application,e}();/*!
 * @pixi/core - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ie.PREFER_ENV=tn.any?Yn.WEBGL:Yn.WEBGL2;ie.STRICT_TEXTURE_CACHE=!1;var Fl=[];function vp(e,t){if(!e)return null;var r="";if(typeof e=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=Fl.length-1;i>=0;--i){var o=Fl[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jy=function(e,t){return Jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Jy(e,t)};function it(e,t){Jy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Qy=function(){return Qy=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Qy.apply(this,arguments)};function Eae(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var ra=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new zt("setRealSize"),this.onUpdate=new zt("update"),this.onError=new zt("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e}(),pa=function(e){it(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,s)||this,i.data=r,i}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===sn.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(ra),Tae={scaleMode:Pr.NEAREST,format:ee.RGBA,alphaMode:sn.NPM},Ne=function(e){it(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=e.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,s=n.anisotropicLevel,u=n.scaleMode,l=n.width,c=n.height,f=n.wrapMode,h=n.format,d=n.type,v=n.target,g=n.resolution,p=n.resourceOptions;return r&&!(r instanceof ra)&&(r=vp(r,p),r.internal=!0),i.resolution=g||ie.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((c||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:ie.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:ie.ANISOTROPIC_LEVEL,i._wrapMode=f||ie.WRAP_MODE,i._scaleMode=u!==void 0?u:ie.SCALE_MODE,i.format=h||ee.RGBA,i.type=d||he.UNSIGNED_BYTE,i.target=v||eo.TEXTURE_2D,i.alphaMode=o!==void 0?o:sn.UNPACK,i.uid=co(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&c>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},t.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Wy(this.realWidth)&&Wy(this.realHeight)},t.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Kr[this.cacheId],delete Ar[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,n,i){i===void 0&&(i=ie.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+co()}a=r._pixiId}var u=Kr[a];if(o&&i&&!u)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return u||(u=new t(r,n),u.cacheId=a,t.addToCache(u,a)),u},t.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new pa(r,{width:n,height:i}),s=r instanceof Float32Array?he.FLOAT:he.UNSIGNED_BYTE;return new t(a,Object.assign({},Tae,o||{width:n,height:i,type:s}))},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Kr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Kr[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Kr[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Kr[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete Kr[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t}($s),mp=function(e){it(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;i=e.call(this,a,s)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<r;u++){var l=new Ne;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof ra?this.addResourceAt(r[i],i):this.addResourceAt(vp(r[i],n),i))},t.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,s=o.realHeight;return r.resize(a,s),Promise.resolve(r)}),this._load},t}(ra),Nb=function(e){it(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,u,l;return Array.isArray(r)?(u=r,l=r.length):l=r,i=e.call(this,l,{width:a,height:s})||this,u&&i.initFromArray(u,n),i}return t.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=eo.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,n,i){var o=this,a=o.length,s=o.itemDirtyIds,u=o.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var c=0;c<a;c++){var f=u[c];s[c]<f.dirtyId&&(s[c]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},t}(mp),Zn=function(e){it(t,e);function t(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=e.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return t.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=yI(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(r,n,i,o){var a=r.gl,s=n.realWidth,u=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===sn.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===s&&i.height===u?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=s,i.height=u,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(ra),Lb=function(e){it(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},t}(Zn),Mb=function(e){it(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,u=o.autoLoad,l=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=eo.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),u!==!1&&i.load(),i}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=eo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=eo.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},t.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var s=this.items[a];(o[a]<s.dirtyId||i.dirtyId<n.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(r,s,i),o[a]=s.dirtyId):o[a]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t}(mp),gp=function(e){it(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;Zn.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=e.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:ie.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var s=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?s():(a.onload=s,a.onerror=function(u){o(u),n.onError.emit(u)})}),this._load)},t.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===sn.UNPACK?"premultiply":"none"})}).then(function(a){return r.destroyed?Promise.reject():(r.bitmap=a,r.update(),r._process=null,Promise.resolve(r))}),this._process},t.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var s in a){var u=a[s];if(u!==i&&u.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t}(Zn),Fb=function(e){it(t,e);function t(r,n){var i=this;return n=n||{},i=e.call(this,ie.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},t.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,n=new Image;Zn.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,s=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,s=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),s=Math.round(s);var u=r.source;u.width=a,u.height=s,u._pixiId="canvas_"+co(),u.getContext("2d").drawImage(n,0,0,i,o,0,0,a,s),r._resolve(),r._resolve=null}}},t.getSize=function(r){var n=t.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&t.SVG_XML.test(r)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Zn),yp=function(e){it(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];Zn.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),l=r[s],c=l.src,f=l.mime;c=c||r[s];var h=c.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);f=f||t.MIME_TYPES[d]||"video/"+d,u.src=c,u.type=f,o.appendChild(u)}r=o}return i=e.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(r){if(!this.destroyed){var n=Ht.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ht.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ht.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Zn),Db=function(e){it(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},t}(Zn);Fl.push(gp,Db,Lb,yp,Fb,pa,Mb,Nb);var TI={__proto__:null,Resource:ra,BaseImageResource:Zn,INSTALLED:Fl,autoDetectResource:vp,AbstractMultiResource:mp,ArrayResource:Nb,BufferResource:pa,CanvasResource:Lb,CubeResource:Mb,ImageResource:gp,SVGResource:Fb,VideoResource:yp,ImageBitmapResource:Db},Cae=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===sn.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},t}(pa),Nh=function(){function e(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new zt("disposeFramebuffer"),this.multisample=ut.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new Ne(null,{scaleMode:Pr.NEAREST,resolution:1,mipmap:Lr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ne(new Cae(null,{width:this.width,height:this.height}),{scaleMode:Pr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Lr.OFF,format:ee.DEPTH_COMPONENT,type:he.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),Bb=function(e){it(t,e);function t(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r={width:i,height:o,scaleMode:a,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:ut.NONE,n=e.call(this,null,r)||this,n.mipmap=Lr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Nh(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Ne),jb=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,n){var i=r.width,o=r.height;if(n){var a=t.width/2/i,s=t.height/2/o,u=t.x/i+a,l=t.y/o+s;n=ft.add(n,ft.NW),this.x0=u+a*ft.uX(n),this.y0=l+s*ft.uY(n),n=ft.add(n,2),this.x1=u+a*ft.uX(n),this.y1=l+s*ft.uY(n),n=ft.add(n,2),this.x2=u+a*ft.uX(n),this.y2=l+s*ft.uY(n),n=ft.add(n,2),this.x3=u+a*ft.uX(n),this.y3=l+s*ft.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),PC=new jb;function Gc(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var me=function(e){it(t,e);function t(r,n,i,o,a,s){var u=e.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Le(0,0,1,1)),r instanceof t&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u._uvs=PC,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(a||0),a===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new Ae(s.x,s.y):new Ae(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Ar[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},t.prototype.updateUvs=function(){this._uvs===PC&&(this._uvs=new jb),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=ie.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else if(r instanceof Ne){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+co(),Ne.addToCache(r,r.cacheId)}a=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+co()}a=r._pixiId}var u=Ar[a];if(o&&i&&!u)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!u&&!(r instanceof Ne)?(n.resolution||(n.resolution=Nl(r)),u=new t(new Ne(r,n)),u.baseTexture.cacheId=a,Ne.addToCache(u.baseTexture,a),t.addToCache(u,a)):!u&&r instanceof Ne&&(u=new t(r),t.addToCache(u,a)),u},t.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=t.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,n,i,o){return new t(Ne.fromBuffer(r,n,i,o))},t.fromLoader=function(r,n,i,o){var a=new Ne(r,Object.assign({scaleMode:ie.SCALE_MODE,resolution:Nl(n)},o)),s=a.resource;s instanceof gp&&(s.url=n);var u=new t(a);return i||(i=n),Ne.addToCache(u.baseTexture,i),t.addToCache(u,i),i!==n&&(Ne.addToCache(u.baseTexture,n),t.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(l){u.baseTexture.once("loaded",function(){return l(u)})})},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Ar[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Ar[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Ar[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Ar[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)Ar[r.textureCacheIds[o]]===r&&delete Ar[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,s=n+o>this.baseTexture.width,u=i+a>this.baseTexture.height;if(s||u){var l=s&&u?"and":"or",c="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,f="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(c+" "+l+" "+f))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new Ne),Gc(t._EMPTY),Gc(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var r=ie.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),t._WHITE=new t(Ne.from(r)),Gc(t._WHITE),Gc(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}($s),ho=function(e){it(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(r*o)/o,s=Math.round(n*o)/o;this.valid=a>0&&s>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(a,s),this.updateUvs()},t.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},t.create=function(r){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof r=="number"&&(_r("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new Bb(r))},t}(me),CI=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r,n){n===void 0&&(n=ut.NONE);var i=new Bb(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new ho(i)},e.prototype.getOptimalTexture=function(t,r,n,i){n===void 0&&(n=1),i===void 0&&(i=ut.NONE);var o;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=Il(t),r=Il(r),o=((t&65535)<<16|r&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(t,r,i)),a.filterPoolKey=o,a.setResolution(n),a},e.prototype.getFilterTexture=function(t,r,n){var i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||ut.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),e_=function(){function e(t,r,n,i,o,a,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=he.FLOAT),this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e}(),Oae=0,Pt=function(){function e(t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Oae++,this.disposeRunner=new zt("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===bn.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?bn.ELEMENT_ARRAY_BUFFER:bn.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),Aae={Float32Array,Uint32Array,Int32Array,Uint8Array};function Pae(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),s=null,u=0,o=0;o<e.length;o++){var l=t[o],c=e[o],f=pp(c);i[f]||(i[f]=new Aae[f](a)),s=i[f];for(var h=0;h<c.length;h++){var d=(h/l|0)*n+u,v=h%l;s[d+v]=c[h]}u+=l}return new Float32Array(a)}var kC={5126:4,5123:2,5121:1},kae=0,Rae={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Gs=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=kae++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new zt("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,n,i,o,a,s,u){if(n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Pt||(r instanceof Array&&(r=new Float32Array(r)),r=new Pt(r));var l=t.split("|");if(l.length>1){for(var c=0;c<l.length;c++)this.addAttribute(l[c],r,n,i,o);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[t]=new e_(f,n,i,o,a,s,u),this.instanced=this.instanced||u,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof Pt||(t instanceof Array&&(t=new Uint16Array(t)),t=new Pt(t)),t.type=bn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],n=new Pt,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),r.push(o.size*kC[o.type]/4),o.buffer=0}for(n.data=Pae(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new Pt(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new e_(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=bn.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r=new e,n=[],i=[],o=[],a,s=0;s<t.length;s++){a=t[s];for(var u=0;u<a.buffers.length;u++)i[u]=i[u]||0,i[u]+=a.buffers[u].data.length,o[u]=0}for(var s=0;s<a.buffers.length;s++)n[s]=new Rae[pp(a.buffers[s].data)](i[s]),r.buffers[s]=new Pt(n[s]);for(var s=0;s<t.length;s++){a=t[s];for(var u=0;u<a.buffers.length;u++)n[u].set(a.buffers[u].data,o[u]),o[u]+=a.buffers[u].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=bn.ELEMENT_ARRAY_BUFFER;for(var l=0,c=0,f=0,h=0,s=0;s<a.buffers.length;s++)if(a.buffers[s]!==a.indexBuffer){h=s;break}for(var s in a.attributes){var d=a.attributes[s];(d.buffer|0)===h&&(c+=d.size*kC[d.type]/4)}for(var s=0;s<t.length;s++){for(var v=t[s].indexBuffer.data,u=0;u<v.length;u++)r.indexBuffer.data[u+f]+=l;l+=t[s].buffers[h].data.length/c,f+=v.length}}return r},e}(),OI=function(e){it(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t}(Gs),$b=function(e){it(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Pt(r.vertices),r.uvBuffer=new Pt(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Gs),Iae=0,to=function(){function e(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Iae++,this.static=!!r,this.ubo=!!n,t instanceof Pt?(this.buffer=t,this.buffer.type=bn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Pt(new Float32Array(1)),this.buffer.type=bn.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,n){if(!this.ubo)this.uniforms[t]=new e(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,r,n){return new e(t,r,n)},e.uboFrom=function(t,r){return new e(t,r??!0,!0)},e}(),AI=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ut.NONE,this.sourceFrame=new Le,this.destinationFrame=new Le,this.bindingSourceFrame=new Le,this.bindingDestinationFrame=new Le,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),zc=[new Ae,new Ae,new Ae,new Ae],Mm=new Rt,Ub=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new CI,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new OI,this.quadUv=new $b,this.tempRect=new Le,this.activeState={},this.globalUniforms=new to({outputFrame:new Le,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,r){for(var n,i,o=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new AI,u=this.renderer.renderTexture,l=r[0].resolution,c=r[0].multisample,f=r[0].padding,h=r[0].autoFit,d=(n=r[0].legacy)!==null&&n!==void 0?n:!0,v=1;v<r.length;v++){var g=r[v];l=Math.min(l,g.resolution),c=Math.min(c,g.multisample),f=this.useMaxPadding?Math.max(f,g.padding):f+g.padding,h=h&&g.autoFit,d=d||((i=g.legacy)!==null&&i!==void 0?i:!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=u.current),a.push(s),s.resolution=l,s.multisample=c,s.legacy=d,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(f);var p=this.tempRect.copyFrom(u.sourceFrame);o.projection.transform&&this.transformAABB(Mm.copyFrom(o.projection.transform).invert(),p),h?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,u.current?u.current.resolution:o.resolution,u.sourceFrame,u.destinationFrame,o.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(u.sourceFrame),s.bindingDestinationFrame.copyFrom(u.destinationFrame),s.transform=o.projection.transform,o.projection.transform=null,u.bind(s.renderTexture,s.sourceFrame,m),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=r.sourceFrame.width*o[2]-.5*a[2],s[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){var u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Zr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var c=r.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,r.resolution);f.filterFrame=c.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(c.width,c.height,r.resolution),f.filterFrame=c.filterFrame),n[h].apply(this,c,f,Zr.CLEAR,r);var d=c;c=f,f=d}n[h].apply(this,c,l.renderTexture,Zr.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=Zr.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=o.stateId&1||this.forceClear;(r===Zr.CLEAR||r===Zr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,n,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(en.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(en.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=r._texture.orig,s=t.set(o.width,0,0,o.height,i.x,i.y),u=r.worldTransform.copyTo(Rt.TEMP_MATRIX);return u.invert(),s.prepend(u),s.scale(1/a.width,1/a.height),s.translate(r.anchor.x,r.anchor.y),s},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=ut.NONE),this.texturePool.getOptimalTexture(t,r,n,i)},e.prototype.getFilterTexture=function(t,r,n){if(typeof t=="number"){var i=t;t=r,r=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||ut.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var n=zc[0],i=zc[1],o=zc[2],a=zc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(o,o),t.apply(a,a);var s=Math.min(n.x,i.x,o.x,a.x),u=Math.min(n.y,i.y,o.y,a.y),l=Math.max(n.x,i.x,o.x,a.x),c=Math.max(n.y,i.y,o.y,a.y);r.x=s,r.y=u,r.width=l-s,r.height=c-u},e.prototype.roundFrame=function(t,r,n,i,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,s=o.b,u=o.c,l=o.d;if((Math.abs(s)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(l)>1e-4))return}o=o?Mm.copyFrom(o):Mm.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(r),this.transformAABB(o.invert(),t)}},e}(),fc=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),Gb=function(){function e(t){this.renderer=t,this.emptyRenderer=new fc(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,r,n,i){for(var o=t.elements,a=t.ids,s=t.count,u=0,l=0;l<s;l++){var c=o[l],f=c._batchLocation;if(f>=0&&f<i&&r[f]===c){a[l]=f;continue}for(;u<i;){var h=r[u];if(h&&h._batchEnabled===n&&h._batchLocation===u){u++;continue}a[l]=u,c._batchLocation=u,r[u]=c;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),RC=0,zb=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=RC++},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=RC++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var n;if(ie.PREFER_ENV>=Yn.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){var r=this;t.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),PI=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ut.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),Nae=new Le,Hb=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Nh(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Le,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ie.PREFER_ENV===Yn.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r,n){n===void 0&&(n=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var s=t.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){var u=r.width>>n,l=r.height>>n,c=u/r.width;this.setViewport(r.x*c,r.y*c,u,l)}else{var u=t.width>>n,l=t.height>>n;this.setViewport(0,0,u,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,n,i){var o=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==t||o.y!==r)&&(o.x=t,o.y=r,o.width=n,o.height=i,this.gl.viewport(t,r,n,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,n,i,o){o===void 0&&(o=Tl.COLOR|Tl.DEPTH);var a=this.gl;a.clearColor(t,r,n,i),a.clear(o)},e.prototype.initFramebuffer=function(t){var r=this.gl,n=new PI(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var s=i[a],u=s.parentTextureArray||s;this.renderer.texture.bind(u,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,r){var n=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],u=0;u<a;u++){var l=o[u],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),!(u===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,c._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+u))}if(s.length>1&&n.drawBuffers(s),t.depthTexture){var f=this.writeDepthTexture;if(f){var h=t.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var r=this.msaaSamples,n=ut.NONE;if(t<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=ut.NONE),n},e.prototype.blit=function(t,r,n){var i=this,o=i.current,a=i.renderer,s=i.gl,u=i.CONTEXT_UID;if(a.context.webGLVersion===2&&o){var l=o.glFramebuffers[u];if(l){if(!t){if(!l.msaaBuffer)return;var c=o.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Nh(o.width,o.height),l.blitFramebuffer.addColorTexture(0,c)),t=l.blitFramebuffer,t.colorTextures[0]!==c&&(t.colorTextures[0]=c,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}r||(r=Nae,r.width=o.width,r.height=o.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.stencil=!0;var n=t.width,i=t.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),r.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Le},e.prototype.destroy=function(){this.renderer=null},e}(),Fm={5126:4,5123:2,5121:1},Vb=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;ie.PREFER_ENV===Yn.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},t.drawElementsInstanced=function(o,a,s,u,l){return i.drawElementsInstancedANGLE(o,a,s,u,l)},t.drawArraysInstanced=function(o,a,s,u){return i.drawArraysInstancedANGLE(o,a,s,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[r.program.id]||this.initGeometryVao(t,r,o);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.renderer.buffer,n=0;n<t.buffers.length;n++){var i=t.buffers[n];r.update(i)}},e.prototype.checkCompatibility=function(t,r){var n=t.attributes,i=r.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,r){var n=t.attributes,i=r.attributeData,o=["g",t.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},e.prototype.initGeometryVao=function(t,r,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=r.program;s.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,s);var u=this.getSignature(t,s),l=t.glVertexArrayObjects[this.CONTEXT_UID],c=l[u];if(c)return l[s.id]=c,c;var f=t.buffers,h=t.attributes,d={},v={};for(var g in f)d[g]=0,v[g]=0;for(var g in h)!h[g].size&&s.attributeData[g]?h[g].size=s.attributeData[g].size:h[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[h[g].buffer]+=h[g].size*Fm[h[g].type];for(var g in h){var p=h[g],m=p.size;p.stride===void 0&&(d[p.buffer]===m*Fm[p.type]?p.stride=0:p.stride=d[p.buffer]),p.start===void 0&&(p.start=v[p.buffer],v[p.buffer]+=m*Fm[p.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(var y=0;y<f.length;y++){var _=f[y];a.bind(_),n&&_._glBuffers[o].refCount++}return this.activateVao(t,s),this._activeVao=c,l[s.id]=c,l[u]=c,c},e.prototype.disposeGeometry=function(t,r){var n;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=t.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(t.disposeRunner.remove(this),!!i){if(s)for(var u=0;u<a.length;u++){var l=a[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a[u],r))}if(!r){for(var c in i)if(c[0]==="g"){var f=i[c];this._activeVao===f&&this.unbind(),o.deleteVertexArray(f)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)},e.prototype.activateVao=function(t,r){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.buffers,s=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var u=null;for(var l in s){var c=s[l],f=a[c.buffer],h=f._glBuffers[i];if(r.attributeData[l]){u!==h&&(o.bind(f),u=h);var d=r.attributeData[l].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,u=s===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,r||a.indexBuffer.data.length,u,(n||0)*s,i||1):o.drawElements(t,r||a.indexBuffer.data.length,u,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(t,n,r||a.getSize(),i||1):o.drawArrays(t,n,r||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),kI=function(){function e(t){t===void 0&&(t=null),this.type=Tt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ie.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Tt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function IC(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function NC(e,t){var r=e.getShaderSource(t).split(`
`).map(function(l,c){return c+": "+l}),n=e.getShaderInfoLog(t),i=n.split(`
`),o={},a=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!o[l]?(o[l]=!0,!0):!1}),s=[""];a.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var u=r.join(`
`);s[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function Lae(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||NC(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||NC(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function Dm(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function RI(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Dm(2*t);case"bvec3":return Dm(3*t);case"bvec4":return Dm(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var II={},vu=II;function NI(){if(vu===II||vu&&vu.isContextLost()){var e=ie.ADAPTER.createCanvas(),t=void 0;ie.PREFER_ENV>=Yn.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),vu=t}return vu}var Hc;function Mae(){if(!Hc){Hc=kr.MEDIUM;var e=NI();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Hc=t.precision?kr.HIGH:kr.MEDIUM}}return Hc}function LC(e,t,r){if(e.substring(0,9)!=="precision"){var n=t;return t===kr.HIGH&&r!==kr.HIGH&&(n=kr.MEDIUM),"precision "+n+` float;
`+e}else if(r!==kr.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var Fae={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function LI(e){return Fae[e]}var Vc=null,MC={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function MI(e,t){if(!Vc){var r=Object.keys(MC);Vc={};for(var n=0;n<r.length;++n){var i=r[n];Vc[e[i]]=MC[i]}}return Vc[t]}var qo=[{test:function(e){return e.type==="float"&&e.size===1&&!e.isArray},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e,t){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0)},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1&&!e.isArray},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1&&!e.isArray},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Dae={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Bae={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function jae(e,t){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var o=t[i];if(!o){!((r=e.uniforms[i])===null||r===void 0)&&r.group&&(e.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=e.uniforms[i],s=!1,u=0;u<qo.length;u++)if(qo[u].test(o,a)){n.push(qo[u].code(i,a)),s=!0;break}if(!s){var l=o.size===1&&!o.isArray?Dae:Bae,c=l[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+c+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var $ae=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Uae(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function FI(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=$ae.replace(/%forloop%/gi,Uae(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var mu;function Gae(){if(typeof mu=="boolean")return mu;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");mu=e({a:"b"},"a","b")===!0}catch{mu=!1}return mu}var zae=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Hae=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Vae=0,Wc={},zs=function(){function e(t,r,n){n===void 0&&(n="pixi-shader"),this.id=Vae++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Wc[n]?(Wc[n]++,n+="-"+Wc[n]):Wc[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=LC(this.vertexSrc,ie.PRECISION_VERTEX,kr.HIGH),this.fragmentSrc=LC(this.fragmentSrc,ie.PRECISION_FRAGMENT,Mae())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Hae},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return zae},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=Xy[i];return o||(Xy[i]=o=new e(t,r,n)),o},e}(),_i=function(){function e(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof to?this.uniformGroup=r:this.uniformGroup=new to(r):this.uniformGroup=new to({}),this.disposeRunner=new zt("disposeShader")}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=zs.from(t,r);return new e(i,n)},e}(),Bm=0,jm=1,$m=2,Um=3,Gm=4,zm=5,xo=function(){function e(){this.data=0,this.blendMode=fe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<Bm)},set:function(t){!!(this.data&1<<Bm)!==t&&(this.data^=1<<Bm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<jm)},set:function(t){!!(this.data&1<<jm)!==t&&(this.data^=1<<jm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<$m)},set:function(t){!!(this.data&1<<$m)!==t&&(this.data^=1<<$m)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Um)},set:function(t){!!(this.data&1<<Um)!==t&&(this.data^=1<<Um)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<zm)},set:function(t){!!(this.data&1<<zm)!==t&&(this.data^=1<<zm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Gm)},set:function(t){!!(this.data&1<<Gm)!==t&&(this.data^=1<<Gm)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==fe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),Wae=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,qae=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,ye=function(e){it(t,e);function t(r,n,i){var o=this,a=zs.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=ie.FILTER_RESOLUTION,o.multisample=ie.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new xo,o}return t.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return qae},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return Wae},enumerable:!1,configurable:!0}),t}(_i),Xae=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Yae=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,FC=new Rt,_p=function(){function e(t,r){this._texture=t,this.mapCoord=new Rt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(FC.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(FC));var a=r.baseTexture,s=this.uClampFrame,u=this.clampMargin/a.resolution,l=this.clampOffset;return s[0]=(r._frame.x+u+l)/a.width,s[1]=(r._frame.y+u+l)/a.height,s[2]=(r._frame.x+r._frame.width-u+l)/a.width,s[3]=(r._frame.y+r._frame.height-u+l)/a.height,this.uClampOffset[0]=l/a.realWidth,this.uClampOffset[1]=l/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},e}(),DI=function(e){it(t,e);function t(r,n,i){var o=this,a=null;return typeof r!="string"&&n===void 0&&i===void 0&&(a=r,r=void 0,n=void 0,i=void 0),o=e.call(this,r||Xae,n||Yae,i)||this,o.maskSprite=a,o.maskMatrix=new Rt,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(r,n,i,o){var a=this._maskSprite,s=a._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new _p(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},t}(ye),Wb=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new kI;i.pooled=!0,i.maskObject=r,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n._colorMask=o?o._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Tt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Tt.SCISSOR:this.renderer.scissor.push(n);break;case Tt.STENCIL:this.renderer.stencil.push(n);break;case Tt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Tt.COLOR:this.pushColorMask(n);break}n.type===Tt.SPRITE&&this.maskStack.push(n)},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case Tt.SCISSOR:this.renderer.scissor.pop(r);break;case Tt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Tt.SPRITE:this.popSpriteMask(r);break;case Tt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Tt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},e.prototype.detect=function(t){var r=t.maskObject;r?r.isSprite?t.type=Tt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Tt.SCISSOR:t.type=Tt.STENCIL:t.type=Tt.COLOR},e.prototype.pushSpriteMask=function(t){var r,n,i=t.maskObject,o=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new DI]));var s=this.renderer,u=s.renderTexture,l,c;if(u.current){var f=u.current;l=t.resolution||f.resolution,c=(r=t.multisample)!==null&&r!==void 0?r:f.multisample}else l=t.resolution||s.resolution,c=(n=t.multisample)!==null&&n!==void 0?n:s.multisample;a[0].resolution=l,a[0].multisample=c,a[0].maskSprite=i;var h=o.filterArea;o.filterArea=i.getBounds(!0),s.filter.push(o,a),o.filterArea=h,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.pushColorMask=function(t){var r=t._colorMask,n=t._colorMask=r&t.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},e.prototype.popColorMask=function(t){var r=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},e.prototype.destroy=function(){this.renderer=null},e}(),BI=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),DC=new Rt,BC=[],qb=function(e){it(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=ie.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,o=r.maskObject,a=this.renderer,s=a.renderTexture,u=o.getBounds(!0,(n=BC.pop())!==null&&n!==void 0?n:new Le);this.roundFrameToPixels(u,s.current?s.current.resolution:a.resolution,s.sourceFrame,s.destinationFrame,a.projection.transform),i&&u.fit(i),r._scissorRectLocal=u}},t.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,o=r.c,a=r.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},t.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||t.isMatrixRotated(n.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(r,n,i,o,a){t.isMatrixRotated(a)||(a=a?DC.copyFrom(a):DC.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,r),r.fit(o),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},t.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;r&&BC.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},t}(BI),Xb=function(e){it(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=ie.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var a=r._colorMask;a!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,a!==0&&(r._colorMask=a,i.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=i?i._colorMask:15;o!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,o!==0&&(i._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t}(BI),Yb=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Rt,this.transform=null}return e.prototype.update=function(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),bo=new Le,gu=new Le,Kb=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Le,this.destinationFrame=new Le,this.viewportFrame=new Le}return e.prototype.bind=function(t,r,n){t===void 0&&(t=null);var i=this.renderer;this.current=t;var o,a,s;t?(o=t.baseTexture,s=o.resolution,r||(bo.width=t.frame.width,bo.height=t.frame.height,r=bo),n||(gu.x=t.frame.x,gu.y=t.frame.y,gu.width=r.width,gu.height=r.height,n=gu),a=o.framebuffer):(s=i.resolution,r||(bo.width=i.screen.width,bo.height=i.screen.height,r=bo),n||(n=bo,n.width=r.width,n.height=r.height));var u=this.viewportFrame;u.x=n.x*s,u.y=n.y*s,u.width=n.width*s,u.height=n.height*s,t||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(a,u),this.renderer.projection.update(n,r,s,!a),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,s=a.x,u=a.y,l=a.width,c=a.height;s=Math.round(s),u=Math.round(u),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,u,l,c)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function Kae(e,t,r,n,i){r.buffer.update(i)}var Zae={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},jI={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function $I(e){for(var t=e.map(function(u){return{data:u,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<t.length;o++){var a=t[o];if(r=jI[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function UI(e,t){var r=[];for(var n in e)t[n]&&r.push(t[n]);return r.sort(function(i,o){return i.index-o.index}),r}function GI(e,t){if(!e.autoManage)return{size:0,syncFunc:Kae};for(var r=UI(e.uniforms,t),n=$I(r),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var u=i[s],l=e.uniforms[u.data.name],c=u.data.name,f=!1,h=0;h<qo.length;h++){var d=qo[h];if(d.codeUbo&&d.test(u.data,l)){a.push("offset = "+u.offset/4+";",qo[h].codeUbo(u.data.name,l)),f=!0;break}}if(!f)if(u.data.size>1){var v=LI(u.data.type),g=Math.max(jI[u.data.type]/16,1),p=v/g,m=(4-p%4)%4;a.push(`
                cv = ud.`+c+`.value;
                v = uv.`+c+`;
                offset = `+u.offset/4+`;

                t = 0;

                for(var i=0; i < `+u.data.size*g+`; i++)
                {
                    for(var j = 0; j < `+p+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+m+`;
                }

                `)}else{var y=Zae[u.data.type];a.push(`
                cv = ud.`+c+`.value;
                v = uv.`+c+`;
                offset = `+u.offset/4+`;
                `+y+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var Jae=function(){function e(){}return e}(),zI=function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function Qae(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i);if(o.name.indexOf("gl_")!==0){var a=MI(t,o.type),s={type:a,name:o.name,size:LI(a),location:t.getAttribLocation(e,o.name)};r[o.name]=s}}return r}function ese(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),u=MI(t,o.type);r[a]={name:a,index:i,type:u,size:o.size,isArray:s,value:RI(u,o.size)}}return r}function HI(e,t){var r=IC(e,e.VERTEX_SHADER,t.vertexSrc),n=IC(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||Lae(e,i,r,n),t.attributeData=Qae(i,e),t.uniformData=ese(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(c,f){return c>f?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);var s={};for(var a in t.uniformData){var u=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:RI(u.type,u.size)}}var l=new zI(i,s);return l}var tse=0,qc={textureCount:0,uboCount:0},Zb=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=tse++}return e.prototype.systemCheck=function(){if(!Gae())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(qc.textureCount=0,qc.uboCount=0,this.syncUniformGroup(t.uniformGroup,qc)),i},e.prototype.setUniforms=function(t){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))},e.prototype.syncUniforms=function(t,r,n){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(r.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=jae(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,r){var n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;var i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,qc,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])},e.prototype.createSyncBufferGroup=function(t,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=GI(t,this.shader.program.uniformData)),t.autoManage){var u=new Float32Array(s.size/4);t.buffer.update(u)}return r.uniformGroups[t.id]=s.syncFunc,r.uniformGroups[t.id]},e.prototype.getSignature=function(t,r,n){var i=t.uniforms,o=[n+"-"];for(var a in i)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var r=this.gl,n=t.program,i=HI(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.disposeShader=function(t){this.shader===t&&(this.shader=null)},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function rse(e,t){return t===void 0&&(t=[]),t[fe.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.ADD]=[e.ONE,e.ONE],t[fe.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.NONE]=[0,0],t[fe.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[fe.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[fe.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[fe.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[fe.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[fe.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[fe.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[fe.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[fe.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[fe.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[fe.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var nse=0,ise=1,ose=2,ase=3,sse=4,use=5,Jb=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=fe.NONE,this._blendEq=!1,this.map=[],this.map[nse]=this.setBlend,this.map[ise]=this.setOffset,this.map[ose]=this.setCullFace,this.map[ase]=this.setDepthTest,this.map[sse]=this.setFrontFace,this.map[use]=this.setDepthMask,this.checks=[],this.defaultState=new xo,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=rse(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,n=0;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),Qb=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ie.GC_MAX_IDLE,this.checkCountMax=ie.GC_MAX_CHECK_COUNT,this.mode=ie.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Ol.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var a=0,i=0;i<r.length;i++)r[i]!==null&&(r[a++]=r[i]);r.length=a}},e.prototype.unload=function(t){var r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function lse(e){var t,r,n,i,o,a,s,u,l,c,f,h,d,v,g,p,m,y,_,x,b,w,E;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?E=(t={},t[he.UNSIGNED_BYTE]=(r={},r[ee.RGBA]=e.RGBA8,r[ee.RGB]=e.RGB8,r[ee.RG]=e.RG8,r[ee.RED]=e.R8,r[ee.RGBA_INTEGER]=e.RGBA8UI,r[ee.RGB_INTEGER]=e.RGB8UI,r[ee.RG_INTEGER]=e.RG8UI,r[ee.RED_INTEGER]=e.R8UI,r[ee.ALPHA]=e.ALPHA,r[ee.LUMINANCE]=e.LUMINANCE,r[ee.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[he.BYTE]=(n={},n[ee.RGBA]=e.RGBA8_SNORM,n[ee.RGB]=e.RGB8_SNORM,n[ee.RG]=e.RG8_SNORM,n[ee.RED]=e.R8_SNORM,n[ee.RGBA_INTEGER]=e.RGBA8I,n[ee.RGB_INTEGER]=e.RGB8I,n[ee.RG_INTEGER]=e.RG8I,n[ee.RED_INTEGER]=e.R8I,n),t[he.UNSIGNED_SHORT]=(i={},i[ee.RGBA_INTEGER]=e.RGBA16UI,i[ee.RGB_INTEGER]=e.RGB16UI,i[ee.RG_INTEGER]=e.RG16UI,i[ee.RED_INTEGER]=e.R16UI,i[ee.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[he.SHORT]=(o={},o[ee.RGBA_INTEGER]=e.RGBA16I,o[ee.RGB_INTEGER]=e.RGB16I,o[ee.RG_INTEGER]=e.RG16I,o[ee.RED_INTEGER]=e.R16I,o),t[he.UNSIGNED_INT]=(a={},a[ee.RGBA_INTEGER]=e.RGBA32UI,a[ee.RGB_INTEGER]=e.RGB32UI,a[ee.RG_INTEGER]=e.RG32UI,a[ee.RED_INTEGER]=e.R32UI,a[ee.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[he.INT]=(s={},s[ee.RGBA_INTEGER]=e.RGBA32I,s[ee.RGB_INTEGER]=e.RGB32I,s[ee.RG_INTEGER]=e.RG32I,s[ee.RED_INTEGER]=e.R32I,s),t[he.FLOAT]=(u={},u[ee.RGBA]=e.RGBA32F,u[ee.RGB]=e.RGB32F,u[ee.RG]=e.RG32F,u[ee.RED]=e.R32F,u[ee.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,u),t[he.HALF_FLOAT]=(l={},l[ee.RGBA]=e.RGBA16F,l[ee.RGB]=e.RGB16F,l[ee.RG]=e.RG16F,l[ee.RED]=e.R16F,l),t[he.UNSIGNED_SHORT_5_6_5]=(c={},c[ee.RGB]=e.RGB565,c),t[he.UNSIGNED_SHORT_4_4_4_4]=(f={},f[ee.RGBA]=e.RGBA4,f),t[he.UNSIGNED_SHORT_5_5_5_1]=(h={},h[ee.RGBA]=e.RGB5_A1,h),t[he.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[ee.RGBA]=e.RGB10_A2,d[ee.RGBA_INTEGER]=e.RGB10_A2UI,d),t[he.UNSIGNED_INT_10F_11F_11F_REV]=(v={},v[ee.RGB]=e.R11F_G11F_B10F,v),t[he.UNSIGNED_INT_5_9_9_9_REV]=(g={},g[ee.RGB]=e.RGB9_E5,g),t[he.UNSIGNED_INT_24_8]=(p={},p[ee.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,p),t[he.FLOAT_32_UNSIGNED_INT_24_8_REV]=(m={},m[ee.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,m),t):E=(y={},y[he.UNSIGNED_BYTE]=(_={},_[ee.RGBA]=e.RGBA,_[ee.RGB]=e.RGB,_[ee.ALPHA]=e.ALPHA,_[ee.LUMINANCE]=e.LUMINANCE,_[ee.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,_),y[he.UNSIGNED_SHORT_5_6_5]=(x={},x[ee.RGB]=e.RGB,x),y[he.UNSIGNED_SHORT_4_4_4_4]=(b={},b[ee.RGBA]=e.RGBA,b),y[he.UNSIGNED_SHORT_5_5_5_1]=(w={},w[ee.RGBA]=e.RGBA,w),y),E}var Nf=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=he.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}return e}(),e1=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ne,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=lse(t);var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Nf(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Nf(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var n=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},e.prototype.ensureSamplerType=function(t){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,o=r.CONTEXT_UID;if(i)for(var a=t-1;a>=0;--a){var s=n[a];if(s){var u=s._glTextures[o];u.samplerType!==Cl.FLOAT&&this.renderer.texture.unbind(s)}}},e.prototype.initTexture=function(t){var r=new Nf(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[t.type])===null||n===void 0?void 0:n[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===he.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(t,r),t.resource&&t.resource.upload(n,t,r))r.samplerType!==Cl.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==i||r.height!==o||r.dirtyId<0)&&(r.width=i,r.height=o,a.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(t);i!==-1&&Wo(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];r&&((t.mipmap===Lr.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=xn.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var n=this.gl;if(r.mipmap&&t.mipmap!==Lr.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Pr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Pr.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Pr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Pr.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),VI={__proto__:null,FilterSystem:Ub,BatchSystem:Gb,ContextSystem:zb,FramebufferSystem:Hb,GeometrySystem:Vb,MaskSystem:Wb,ScissorSystem:qb,StencilSystem:Xb,ProjectionSystem:Yb,RenderTextureSystem:Kb,ShaderSystem:Zb,StateSystem:Jb,TextureGCSystem:Qb,TextureSystem:e1},Hm=new Rt,WI=function(e){it(t,e);function t(r,n){r===void 0&&(r=ps.UNKNOWN);var i=e.call(this)||this;return n=Object.assign({},ie.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Le(0,0,n.width,n.height),i.view=n.view||ie.ADAPTER.createCanvas(),i.resolution=n.resolution||ie.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(_r("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(_r("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,s=Eae(n,["region"]);o=a||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var u=ho.create(Qy({width:o.width,height:o.height},s));return Hm.tx=-o.x,Hm.ty=-o.y,this.render(r,{renderTexture:u,clear:!1,transform:Hm,skipUpdateTransform:!!r.parent}),u},t.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=ps.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=Tb(r),qt(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),t}($s),cse=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),fse=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,r){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[r]!==t){var a=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[r]=t,i.bindBufferBase(i.UNIFORM_BUFFER,r,a.buffer)}},e.prototype.bindBufferRange=function(t,r,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var s=t._glBuffers[a]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},e.prototype.update=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,n.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)n.bufferSubData(t.type,0,t.data);else{var a=t.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,n.bufferData(t.type,t.data,a)}},e.prototype.dispose=function(t,r){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)},e.prototype.createGLBuffer=function(t){var r=this,n=r.CONTEXT_UID,i=r.gl;return t._glBuffers[n]=new cse(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[n]},e}(),t1=function(e){it(t,e);function t(r){var n=e.call(this,ps.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new zt("destroy"),contextChange:new zt("contextChange"),reset:new zt("reset"),update:new zt("update"),postrender:new zt("postrender"),prerender:new zt("prerender"),resize:new zt("resize")},n.runners.contextChange.add(n),n.globalUniforms=new to({projectionMatrix:new Rt},!0),n.addSystem(Wb,"mask").addSystem(zb,"context").addSystem(Jb,"state").addSystem(Zb,"shader").addSystem(e1,"texture").addSystem(fse,"buffer").addSystem(Vb,"geometry").addSystem(Hb,"framebuffer").addSystem(qb,"scissor").addSystem(Xb,"stencil").addSystem(Yb,"projection").addSystem(Qb,"textureGC").addSystem(Ub,"filter").addSystem(Kb,"renderTexture").addSystem(Gb,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,fI(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(r){if(hI())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=ut.HIGH?this.multisample=ut.HIGH:n>=ut.MEDIUM?this.multisample=ut.MEDIUM:n>=ut.LOW?this.multisample=ut.LOW:this.multisample=ut.NONE},t.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(r,n){var i,o,a,s;if(n&&(n instanceof ho?(_r("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],s=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var u=r.enableTempParent();r.updateTransform(),r.disableTempParent(u)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={});var a=e.prototype.generateTexture.call(this,r,n,i,o);return this.framebuffer.blit(),a},t.prototype.resize=function(r,n){e.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return _r("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(r,n){_r("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),ri.add({name:r,type:Xe.RendererPlugin,ref:n})},t.__plugins={},t}(WI);ri.handleByMap(Xe.RendererPlugin,t1.__plugins);function qI(e){return t1.create(e)}var hse=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dse=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,XI=hse,r1=dse,pse=function(){function e(t){_r("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return e.prototype.destroy=function(){this.renderer=null},e}(),Lh=function(){function e(){this.texArray=null,this.blend=0,this.type=en.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),Mh=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),Fh=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),YI=function(e){it(t,e);function t(r){var n=e.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=xo.for2d(),n.size=ie.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var r=this.renderer.gl;ie.PREFER_ENV===Yn.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),ie.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=FI(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Lh);for(;n.length<o;)n.push(new Mh);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,u=this.renderer.textureGC.count,l=++Ne._globalBatch,c=0,f=o[0],h=0;a.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var v=n[d];n[d]=null,v._batchEnabled!==l&&(f.count>=i&&(a.boundArray(f,s,l,i),this.buildDrawCalls(f,h,d),h=d,f=o[++c],++l),v._batchEnabled=l,v.touched=u,f.elements[f.count++]=v)}f.count>0&&(a.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++c,++l);for(var d=0;d<s.length;d++)s[d]=null;Ne._globalBatch=l},t.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,s=o._attributeBuffer,u=o._indexBuffer,l=o.vertexSize,c=t._drawCallPool,f=this._dcIndex,h=this._aIndex,d=this._iIndex,v=c[f];v.start=this._iIndex,v.texArray=r;for(var g=n;g<i;++g){var p=a[g],m=p._texture.baseTexture,y=Ob[m.alphaMode?1:0][p.blendMode];a[g]=null,n<g&&v.blend!==y&&(v.size=d-v.start,n=g,v=c[++f],v.texArray=r,v.start=d),this.packInterleavedGeometry(p,s,u,h,d),h+=p.vertexData.length/2*l,d+=p.indices.length,v.blend=y}n<i&&(v.size=d-v.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=d},t.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;ie.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=t._drawCallPool,s=null,u=0;u<r;u++){var l=a[u],c=l.texArray,f=l.type,h=l.size,d=l.start,v=l.blend;s!==c&&(s=c,this.bindAndClearTexArray(c)),this.state.blendMode=v,o.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,d*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),ie.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var n=Il(Math.ceil(r/8)),i=qy(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new Fh(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(r){var n=Il(Math.ceil(r/12)),i=qy(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var s=n.uint32View,u=n.float32View,l=o/this.vertexSize,c=r.uvs,f=r.indices,h=r.vertexData,d=r._texture.baseTexture._batchLocation,v=Math.min(r.worldAlpha,1),g=v<1&&r._texture.baseTexture.alphaMode?dp(r._tintRGB,v):r._tintRGB+(v*255<<24),p=0;p<h.length;p+=2)u[o++]=h[p],u[o++]=h[p+1],u[o++]=c[p],u[o++]=c[p+1],s[o++]=g,u[o++]=d;for(var p=0;p<f.length;p++)i[a++]=l+f[p]},t._drawCallPool=[],t._textureArrayPool=[],t}(fc),KI=function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),n=0;n<t;n++)r[n]=n;this.defaultGroupCache[t]=to.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new zs(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Rt,default:this.defaultGroupCache[t]};return new _i(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e}(),n1=function(e){it(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this)||this;return n._buffer=new Pt(null,r,!1),n._indexBuffer=new Pt(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,he.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,he.FLOAT).addAttribute("aColor",n._buffer,4,!0,he.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,he.FLOAT).addIndex(n._indexBuffer),n}return t}(Gs),jC=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,$C=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ZI=function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:jC,fragment:$C,geometryClass:n1,vertexSize:6},t),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return function(s){it(u,s);function u(l){var c=s.call(this,l)||this;return c.shaderGenerator=new KI(n,i),c.geometryClass=a,c.vertexSize=o,c}return u}(YI)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return jC},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return $C},enumerable:!1,configurable:!0}),e}(),i1=ZI.create();Object.assign(i1,{extension:{name:"batch",type:Xe.RendererPlugin}});var JI={},vse=function(e){Object.defineProperty(JI,e,{get:function(){return _r("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),TI[e]}})};for(var o1 in TI)vse(o1);var QI={},mse=function(e){Object.defineProperty(QI,e,{get:function(){return _r("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),VI[e]}})};for(var o1 in VI)mse(o1);var gse="6.5.10";/*!
 * @pixi/accessibility - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eN={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};wt.mixin(eN);var yse=9,Xc=100,_se=0,xse=0,UC=2,GC=1,bse=-1e3,Sse=-1e3,wse=2,tN=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(tn.tablet||tn.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Xc+"px",r.style.height=Xc+"px",r.style.position="absolute",r.style.top=_se+"px",r.style.left=xse+"px",r.style.zIndex=UC.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=GC+"px",r.style.height=GC+"px",r.style.position="absolute",r.style.top=bse+"px",r.style.left=Sse+"px",r.style.zIndex=wse.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var r=t.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},e.prototype.update=function(){var t=performance.now();if(!(tn.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,o=r.width,a=r.height,s=this.renderer,u=s.width,l=s.height,c=s.resolution,f=o/u*c,h=a/l*c,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=u+"px",d.style.height=l+"px";for(var v=0;v<this.children.length;v++){var g=this.children[v];if(g.renderId!==this.renderId)g._accessibleActive=!1,Wo(this.children,v,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,v--;else{d=g._accessibleDiv;var p=g.hitArea,m=g.worldTransform;g.hitArea?(d.style.left=(m.tx+p.x*m.a)*f+"px",d.style.top=(m.ty+p.y*m.d)*h+"px",d.style.width=p.width*m.a*f+"px",d.style.height=p.height*m.d*h+"px"):(p=g.getBounds(),this.capHitArea(p),d.style.left=p.x*f+"px",d.style.top=p.y*h+"px",d.style.width=p.width*f+"px",d.style.height=p.height*h+"px",d.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(d.title=g.accessibleTitle),d.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&d.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==d.title||g.tabIndex!==d.tabIndex)&&(d.title=g.accessibleTitle,d.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var r=this.renderer,n=r.width,i=r.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Xc+"px",r.style.height=Xc+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=UC.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===yse&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e.extension={name:"accessibility",type:[Xe.RendererPlugin,Xe.CanvasRendererPlugin]},e}();/*!
 * @pixi/interaction - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var t_=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ae,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r_=function(e,t){return r_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},r_(e,t)};function Ese(e,t){r_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rN=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Lf=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),Tse=function(){function e(){this._tempPoint=new Ae}return e.prototype.recursiveFindHit=function(t,r,n,i,o){var a;if(!r||!r.visible)return!1;var s=t.data.global;o=r.interactive||o;var u=!1,l=o,c=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(s,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,c=!1)),l=!1;else if(r._mask&&i){var f=r._mask.isMaskData?r._mask.maskObject:r._mask;f&&!(!((a=f.containsPoint)===null||a===void 0)&&a.call(f,s))&&(i=!1)}if(c&&r.interactiveChildren&&r.children)for(var h=r.children,d=h.length-1;d>=0;d--){var v=h[d],g=this.recursiveFindHit(t,v,n,i,l);if(g){if(!v.parent)continue;l=!1,g&&(t.target&&(i=!1),u=!0)}}return o&&(i&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(s)&&(u=!0),r.interactive&&(u&&!t.target&&(t.target=r),n&&n(t,r,!!u))),u},e.prototype.findHit=function(t,r,n,i){this.recursiveFindHit(t,r,n,i,!1)},e}(),nN={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};wt.mixin(nN);var Yc=1,Kc={target:null,data:{global:null}},iN=function(e){Ese(t,e);function t(r,n){var i=e.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new t_,i.mouse.identifier=Yc,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Yc]=i.mouse,i.interactionDataPool=[],i.eventData=new rN,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Tse,i._tempDisplayObject=new Ib,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,n){return Kc.target=null,Kc.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Kc,n,null,!0),Kc.target},t.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ht.system.add(this.tickerUpdate,this,Kn.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Ht.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},t.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),s=this.delayedEvents;if(!s.length)return a;r.stopPropagationHint=!1;var u=s.length;this.delayedEvents=[];for(var l=0;l<u;l++){var c=s[l],f=c.displayObject,h=c.eventString,d=c.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,h,d)}return a},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var c=s.button===2;this.emit(c?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new Lf(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;s?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,n,i){var o=this.normalizeToPointerData(r),a=o.length,s=r.target;r.composedPath&&r.composedPath().length>0&&(s=r.composedPath()[0]);for(var u=s!==this.interactionDOMElement?"outside":"",l=0;l<a;l++){var c=o[l],f=this.getInteractionDataForPointerId(c),h=this.configureInteractionEventForDOMEvent(this.eventData,c,f);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,h),c.pointerType==="mouse"||c.pointerType==="pen"){var d=c.button===2;this.emit(d?"rightup"+u:"mouseup"+u,h)}else c.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,h),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,s=n.trackedPointers[a],u=o.pointerType==="touch",l=o.pointerType==="mouse"||o.pointerType==="pen",c=!1;if(l){var f=o.button===2,h=Lf.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,v=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),v&&(this.dispatchEvent(n,f?"rightclick":"click",r),c=!0)):v&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),u&&this.dispatchEvent(n,"touchend",r),s&&((!l||c)&&this.dispatchEvent(n,"pointertap",r),u&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),u&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[a]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],s=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,s);u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),a.pointerType==="touch"&&this.emit("touchmove",u),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",u)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",s=o.pointerType==="mouse"||o.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,s=o.pointerType==="mouse"||o.pointerType==="pen",u=n.trackedPointers[a];i&&!u&&(u=n.trackedPointers[a]=new Lf(a)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):u.over&&(u.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),u.none&&delete n.trackedPointers[a]))},t.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)}},t.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Yc||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new t_,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},t.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button>"u"&&(a.button=r.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Yc),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t.extension={name:"interaction",type:[Xe.RendererPlugin,Xe.CanvasRendererPlugin]},t}($s);/*!
 * @pixi/extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Cse=new Le,Ose=4,oN=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,r,n){var i=new Image;return i.src=this.base64(t,r,n),i},e.prototype.base64=function(t,r,n){return this.canvas(t).toDataURL(r,n)},e.prototype.canvas=function(t,r){var n=this._rawPixels(t,r),i=n.pixels,o=n.width,a=n.height,s=n.flipY,u=new Yy(o,a,1),l=u.context.getImageData(0,0,o,a);if(e.arrayPostDivide(i,l.data),u.context.putImageData(l,0,0),s){var c=new Yy(u.width,u.height,1);c.context.scale(1,-1),c.context.drawImage(u.canvas,0,-a),u.destroy(),u=c}return u.canvas},e.prototype.pixels=function(t,r){var n=this._rawPixels(t,r).pixels;return e.arrayPostDivide(n,n),n},e.prototype._rawPixels=function(t,r){var n=this.renderer,i,o=!1,a,s=!1;if(t)if(t instanceof ho)a=t;else{var u=n.context.webGLVersion>=2?n.multisample:ut.NONE;if(a=this.renderer.generateTexture(t,{multisample:u}),u!==ut.NONE){var l=ho.create({width:a.width,height:a.height});n.framebuffer.bind(a.framebuffer),n.framebuffer.blit(l.framebuffer),n.framebuffer.bind(null),a.destroy(!0),a=l}s=!0}a?(i=a.baseTexture.resolution,r=r??a.frame,o=!1,n.renderTexture.bind(a)):(i=n.resolution,r||(r=Cse,r.width=n.width,r.height=n.height),o=!0,n.renderTexture.bind(null));var c=Math.round(r.width*i),f=Math.round(r.height*i),h=new Uint8Array(Ose*c*f),d=n.gl;return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),c,f,d.RGBA,d.UNSIGNED_BYTE,h),s&&a.destroy(!0),{pixels:h,width:c,height:f,flipY:o}},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,r){for(var n=0;n<t.length;n+=4){var i=r[n+3]=t[n+3];i!==0?(r[n]=Math.round(Math.min(t[n]*255/i,255)),r[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2])}},e.extension={name:"extract",type:Xe.RendererPlugin},e}();/*!
 * @pixi/loaders - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Zc=function(){function e(t,r,n){r===void 0&&(r=!1),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function zC(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var hi=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var r=this._head;if(t)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},e.prototype.has=function(t){if(!(t instanceof Zc))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},e.prototype.add=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return zC(this,new Zc(t,!1,r))},e.prototype.once=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return zC(this,new Zc(t,!0,r))},e.prototype.detach=function(t){if(!(t instanceof Zc))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function aN(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,s,u){s&&(i[r.q.name][s]=u)}),i}var Vm,Jc=null,Ase=0,HC=200,Pse=204,kse=1223,Rse=2;function VC(){}function WC(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function Wm(e){return e.toString().replace("object ","")}var gt=function(){function e(t,r,n){if(this._dequeue=VC,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=VC,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new hi,this.onProgress=new hi,this.onComplete=new hi,this.onAfterMiddleware=new hi}return e.setExtensionLoadType=function(t,r){WC(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){WC(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(r)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:typeof Vm>"u"&&(Vm=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),Vm&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,r){this._flags=r?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,r,n){n||(n=t+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Wm(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Wm(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Wm(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n=typeof t.status>"u"?HC:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType>"u")&&(r=t.responseText),n===Ase&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=HC:n===kse&&(n=Pse);var i=n/100|0;if(i===Rse)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=e.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=t.response||r;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,r){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Jc||(Jc=document.createElement("a")),Jc.href=t;var n=aN(Jc.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,o=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||o!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var r="";if(this.isDataUrl){var n=t.indexOf("/");r=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),o=t.indexOf("#"),a=Math.min(i>-1?i:t.length,o>-1?o:t.length);t=t.substring(0,a),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,avif:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,avif:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(gt||(gt={}));function So(){}function Ise(e){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,n)}}var Nse=function(){function e(t,r){this.data=t,this.callback=r}return e}(),qm=function(){function e(t,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=So,this.unsaturated=So,this.empty=So,this.drain=So,this.error=So,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new Nse(i,typeof a=="function"?a:So);o?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,Ise(n._next(i)))}},this._worker=t,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return e.prototype._next=function(t){var r=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];r.workers-=1,t.callback.apply(t,i),i[0]!=null&&r.error(i[0],t.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},e.prototype.push=function(t,r){this._insert(t,!1,r)},e.prototype.kill=function(){this.workers=0,this.drain=So,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,r){this._insert(t,!0,r)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,r,n,i){var o=0,a=t.length;function s(u){if(u||o===a){n&&n(u);return}i?setTimeout(function(){r(t[o++],s)},1):r(t[o++],s)}s()},e.queue=function(t,r){return new e(t,r)},e}(),Xm=100,Lse=/(#[\w-]+)?$/,gs=function(){function e(t,r){var n=this;t===void 0&&(t=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,l){return n._loadResource(u,l)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,l){return n._loadResource(u,l)},this._queue=qm.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new hi,this.onError=new hi,this.onLoad=new hi,this.onStart=new hi,this.onComplete=new hi;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return e.prototype._add=function(t,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new gt(t,r,n),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var u=o.progressChunk*(a.length+1),l=u/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var s=0;s<a.length;++s)a[s].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var r=this.resources[t];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(_r("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=Xm/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var r=aN(t,{strictMode:!0}),n;if(r.protocol||!r.path||t.indexOf("//")===0?n=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?n=this.baseUrl+"/"+t:n=this.baseUrl+t,this.defaultQueryString){var i=Lse.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},e.prototype._loadResource=function(t,r){var n=this;t._dequeue=r,qm.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=Xm,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var r=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),qm.eachSeries(this._afterMiddleware,function(n,i){n.call(r,t,i)},function(){t.onAfterMiddleware.dispatch(t),r.progress=Math.min(Xm,r.progress+t.progressChunk),r.onProgress.dispatch(r,t),t.error?r.onError.dispatch(t.error,r,t):r.onLoad.dispatch(r,t),r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return _r("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),ri.add({type:Xe.Loader,ref:t}),e},e._plugins=[],e}();ri.handleByList(Xe.Loader,gs._plugins);gs.prototype.add=function(t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(typeof t=="object"&&(n=t,i=r||n.callback||n.onComplete,r=n.url,t=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=t),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(t,r,n,i)};var sN=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?gs.shared:new gs},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.extension=Xe.Application,e}(),uN=function(){function e(){}return e.add=function(){gt.setExtensionLoadType("svg",gt.LOAD_TYPE.XHR),gt.setExtensionXhrType("svg",gt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){if(t.data&&(t.type===gt.TYPE.IMAGE||t.extension==="svg")){var n=t.data,i=t.url,o=t.name,a=t.metadata;me.fromLoader(n,i,o,a).then(function(s){t.texture=s,r()}).catch(r)}else r()},e.extension=Xe.Loader,e}(),Mse="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fse(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=e.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)t+=Mse.charAt(i[o])}return t}function Dse(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===gt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+Fse(e.xhr.responseText),e.type=gt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=i,e.type=gt.TYPE.IMAGE,e.data.onload=function(){n.revokeObjectURL(i),e.data.onload=null,t()};return}}t()}var Bse=function(){function e(){}return e.extension=Xe.Loader,e.use=Dse,e}();ri.add(uN,Bse);/*!
 * @pixi/compressed-textures - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var qe,xe;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(xe||(xe={}));var Dl=(qe={},qe[xe.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,qe[xe.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,qe[xe.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,qe[xe.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,qe[xe.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,qe[xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,qe[xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,qe[xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,qe[xe.COMPRESSED_R11_EAC]=.5,qe[xe.COMPRESSED_SIGNED_R11_EAC]=.5,qe[xe.COMPRESSED_RG11_EAC]=1,qe[xe.COMPRESSED_SIGNED_RG11_EAC]=1,qe[xe.COMPRESSED_RGB8_ETC2]=.5,qe[xe.COMPRESSED_RGBA8_ETC2_EAC]=1,qe[xe.COMPRESSED_SRGB8_ETC2]=.5,qe[xe.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,qe[xe.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,qe[xe.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,qe[xe.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,qe[xe.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,qe[xe.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,qe[xe.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,qe[xe.COMPRESSED_RGB_ETC1_WEBGL]=.5,qe[xe.COMPRESSED_RGB_ATC_WEBGL]=.5,qe[xe.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,qe[xe.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,qe[xe.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,qe);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n_=function(e,t){return n_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},n_(e,t)};function lN(e,t){n_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function jse(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function $se(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var cN=function(e){lN(t,e);function t(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof r=="string"?(o=r,a=new Uint8Array):(o=null,a=r),i=e.call(this,a,n)||this,i.origin=o,i.buffer=a?new Fh(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(r){},t.prototype.load=function(){return jse(this,void 0,Promise,function(){var r,n,i;return $se(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new Fh(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(pa),Dh=function(e){lN(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(r,n,i){var o=r.gl,a=r.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,u=this.levels;s<u;s++){var l=this._levelBuffers[s],c=l.levelID,f=l.levelWidth,h=l.levelHeight,d=l.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,c,this.format,f,h,0,d)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(r,n,i,o,a,s,u){for(var l=new Array(i),c=r.byteOffset,f=s,h=u,d=f+o-1&~(o-1),v=h+a-1&~(a-1),g=d*v*Dl[n],p=0;p<i;p++)l[p]={levelID:p,levelWidth:i>1?f:d,levelHeight:i>1?h:v,levelBuffer:new Uint8Array(r.buffer,c,g)},c+=g,f=f>>1||1,h=h>>1||1,d=f+o-1&~(o-1),v=h+a-1&~(a-1),g=d*v*Dl[n];return l},t}(cN),fN=function(){function e(){}return e.use=function(t,r){var n=t.data,i=this;if(t.type===gt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,s=void 0,u=0,l=o.length;u<l;u++){var c=o[u],f=c.src,h=c.format;if(h||(s=f),e.textureFormats[h]){a=f;break}}if(a=a||s,!a){r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(a===t.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},v=$o.resolve(t.url.replace(i.baseUrl,""),a),g=n.cacheID;i.add(g,v,d,function(p){if(p.error){r(p.error);return}var m=p.texture,y=m===void 0?null:m,_=p.textures,x=_===void 0?{}:_;Object.assign(t,{texture:y,textures:x}),r()})}else r()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=ie.ADAPTER.createCanvas(),r=t.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=n}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;e._textureFormats={};for(var r in t){var n=t[r];n&&Object.assign(e._textureFormats,Object.getPrototypeOf(n))}}return e._textureFormats},enumerable:!1,configurable:!0}),e.extension=Xe.Loader,e}();function hN(e,t,r){var n={textures:{},texture:null};if(!t)return n;var i=t.map(function(o){return new me(new Ne(o,Object.assign({mipmap:Lr.OFF,alphaMode:sn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(o,a){var s=o.baseTexture,u=e+"-"+(a+1);Ne.addToCache(s,u),me.addToCache(o,u),a===0&&(Ne.addToCache(s,e),me.addToCache(o,e),n.texture=o),n.textures[u]=o}),n}var yu,dn,Ym=4,Qc=124,Use=32,qC=20,Gse=542327876,ef={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},zse={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},tf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},mn;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(mn||(mn={}));var i_;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(i_||(i_={}));var Hse=1,Vse=2,Wse=4,qse=64,Xse=512,Yse=131072,Kse=827611204,Zse=861165636,Jse=894720068,Qse=808540228,eue=4,tue=(yu={},yu[Kse]=xe.COMPRESSED_RGBA_S3TC_DXT1_EXT,yu[Zse]=xe.COMPRESSED_RGBA_S3TC_DXT3_EXT,yu[Jse]=xe.COMPRESSED_RGBA_S3TC_DXT5_EXT,yu),rue=(dn={},dn[mn.DXGI_FORMAT_BC1_TYPELESS]=xe.COMPRESSED_RGBA_S3TC_DXT1_EXT,dn[mn.DXGI_FORMAT_BC1_UNORM]=xe.COMPRESSED_RGBA_S3TC_DXT1_EXT,dn[mn.DXGI_FORMAT_BC2_TYPELESS]=xe.COMPRESSED_RGBA_S3TC_DXT3_EXT,dn[mn.DXGI_FORMAT_BC2_UNORM]=xe.COMPRESSED_RGBA_S3TC_DXT3_EXT,dn[mn.DXGI_FORMAT_BC3_TYPELESS]=xe.COMPRESSED_RGBA_S3TC_DXT5_EXT,dn[mn.DXGI_FORMAT_BC3_UNORM]=xe.COMPRESSED_RGBA_S3TC_DXT5_EXT,dn[mn.DXGI_FORMAT_BC1_UNORM_SRGB]=xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,dn[mn.DXGI_FORMAT_BC2_UNORM_SRGB]=xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,dn[mn.DXGI_FORMAT_BC3_UNORM_SRGB]=xe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,dn);function dN(e){var t=new Uint32Array(e),r=t[0];if(r!==Gse)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,Qc/Uint32Array.BYTES_PER_ELEMENT),i=n[ef.HEIGHT],o=n[ef.WIDTH],a=n[ef.MIPMAP_COUNT],s=new Uint32Array(e,ef.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Use/Uint32Array.BYTES_PER_ELEMENT),u=s[Hse];if(u&Wse){var l=s[zse.FOURCC];if(l!==Qse){var c=tue[l],f=Ym+Qc,h=new Uint8Array(e,f),d=new Dh(h,{format:c,width:o,height:i,levels:a});return[d]}var v=Ym+Qc,g=new Uint32Array(t.buffer,v,qC/Uint32Array.BYTES_PER_ELEMENT),p=g[tf.DXGI_FORMAT],m=g[tf.RESOURCE_DIMENSION],y=g[tf.MISC_FLAG],_=g[tf.ARRAY_SIZE],x=rue[p];if(x===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+p);if(y===eue)throw new Error("DDSParser does not support cubemap textures");if(m===i_.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var b=new Array,w=Ym+Qc+qC;if(_===1)b.push(new Uint8Array(e,w));else{for(var E=Dl[x],P=0,A=o,k=i,F=0;F<a;F++){var j=Math.max(1,A+3&-4),z=Math.max(1,k+3&-4),q=j*z*E;P+=q,A=A>>>1,k=k>>>1}for(var D=w,F=0;F<_;F++)b.push(new Uint8Array(e,D,P)),D+=P}return b.map(function(U){return new Dh(U,{format:x,width:o,height:i,levels:a})})}throw u&qse?new Error("DDSParser does not support uncompressed texture data."):u&Xse?new Error("DDSParser does not supported YUV uncompressed texture data."):u&Yse?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&Vse?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Ai,oi,_u,XC=[171,75,84,88,32,49,49,187,13,10,26,10],nue=67305985,pn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},o_=64,a_=(Ai={},Ai[he.UNSIGNED_BYTE]=1,Ai[he.UNSIGNED_SHORT]=2,Ai[he.INT]=4,Ai[he.UNSIGNED_INT]=4,Ai[he.FLOAT]=4,Ai[he.HALF_FLOAT]=8,Ai),pN=(oi={},oi[ee.RGBA]=4,oi[ee.RGB]=3,oi[ee.RG]=2,oi[ee.RED]=1,oi[ee.LUMINANCE]=1,oi[ee.LUMINANCE_ALPHA]=2,oi[ee.ALPHA]=1,oi),vN=(_u={},_u[he.UNSIGNED_SHORT_4_4_4_4]=2,_u[he.UNSIGNED_SHORT_5_5_5_1]=2,_u[he.UNSIGNED_SHORT_5_6_5]=2,_u);function mN(e,t,r){r===void 0&&(r=!1);var n=new DataView(t);if(!iue(e,n))return null;var i=n.getUint32(pn.ENDIANNESS,!0)===nue,o=n.getUint32(pn.GL_TYPE,i),a=n.getUint32(pn.GL_FORMAT,i),s=n.getUint32(pn.GL_INTERNAL_FORMAT,i),u=n.getUint32(pn.PIXEL_WIDTH,i),l=n.getUint32(pn.PIXEL_HEIGHT,i)||1,c=n.getUint32(pn.PIXEL_DEPTH,i)||1,f=n.getUint32(pn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(pn.NUMBER_OF_FACES,i),d=n.getUint32(pn.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(pn.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||c!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var g=4,p=4,m=u+3&-4,y=l+3&-4,_=new Array(f),x=u*l;o===0&&(x=m*y);var b;if(o!==0?a_[o]?b=a_[o]*pN[a]:b=vN[o]:b=Dl[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var w=r?aue(n,v,i):null,E=x*b,P=E,A=u,k=l,F=m,j=y,z=o_+v,q=0;q<d;q++){for(var D=n.getUint32(z,i),U=z+4,K=0;K<f;K++){var de=_[K];de||(de=_[K]=new Array(d)),de[q]={levelID:q,levelWidth:d>1||o!==0?A:F,levelHeight:d>1||o!==0?k:j,levelBuffer:new Uint8Array(t,U,P)},U+=P}z+=D+4,z=z%4!==0?z+4-z%4:z,A=A>>1||1,k=k>>1||1,F=A+g-1&~(g-1),j=k+p-1&~(p-1),P=F*j*b}return o!==0?{uncompressed:_.map(function(pe){var Y=pe[0].levelBuffer,N=!1;return o===he.FLOAT?Y=new Float32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4):o===he.UNSIGNED_INT?(N=!0,Y=new Uint32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4)):o===he.INT&&(N=!0,Y=new Int32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4)),{resource:new pa(Y,{width:pe[0].levelWidth,height:pe[0].levelHeight}),type:o,format:N?oue(a):a}}),kvData:w}:{compressed:_.map(function(pe){return new Dh(null,{format:s,width:u,height:l,levels:d,levelBuffers:pe})}),kvData:w}}function iue(e,t){for(var r=0;r<XC.length;r++)if(t.getUint8(r)!==XC[r])return console.error(e+" is not a valid *.ktx file!"),!1;return!0}function oue(e){switch(e){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return e}}function aue(e,t,r){for(var n=new Map,i=0;i<t;){var o=e.getUint32(o_+i,r),a=o_+i+4,s=3-(o+3)%4;if(o===0||o>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<o&&e.getUint8(a+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=new TextDecoder().decode(new Uint8Array(e.buffer,a,u)),c=new DataView(e.buffer,a+u+1,o-u-1);n.set(l,c),i+=4+o+s}return n}gt.setExtensionXhrType("dds",gt.XHR_RESPONSE_TYPE.BUFFER);var gN=function(){function e(){}return e.use=function(t,r){if(t.extension==="dds"&&t.data)try{Object.assign(t,hN(t.name||t.url,dN(t.data),t.metadata))}catch(n){r(n);return}r()},e.extension=Xe.Loader,e}();gt.setExtensionXhrType("ktx",gt.XHR_RESPONSE_TYPE.BUFFER);var yN=function(){function e(){}return e.use=function(t,r){if(t.extension==="ktx"&&t.data)try{var n=t.name||t.url,i=mN(n,t.data,this.loadKeyValueData),o=i.compressed,a=i.uncompressed,s=i.kvData;if(o){var u=hN(n,o,t.metadata);if(s&&u.textures)for(var l in u.textures)u.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(t,u)}else if(a){var c={};a.forEach(function(f,h){var d=new me(new Ne(f.resource,{mipmap:Lr.OFF,alphaMode:sn.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),v=n+"-"+(h+1);s&&(d.baseTexture.ktxKeyValueData=s),Ne.addToCache(d.baseTexture,v),me.addToCache(d,v),h===0&&(c[n]=d,Ne.addToCache(d.baseTexture,n),me.addToCache(d,n)),c[v]=d}),Object.assign(t,{textures:c})}}catch(f){r(f);return}r()},e.extension=Xe.Loader,e.loadKeyValueData=!1,e}();/*!
 * @pixi/particle-container - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s_=function(e,t){return s_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},s_(e,t)};function _N(e,t){s_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sue=function(e){_N(t,e);function t(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,s=16384;return i>s&&(i=s),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=fe.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,qt(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(xr),YC=function(){function e(t,r,n){this.geometry=new Gs,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||he.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new Pt(pI(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Pt(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Pt(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===he.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===he.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,r,n,o.type===he.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,r,n,o.type===he.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),uue=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,lue=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,xN=function(e){_N(t,e);function t(r){var n=e.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Rt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:he.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=_i.from(lue,uue,{}),n.state=xo.for2d(),n}return t.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var u=r._buffers;u||(u=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=Ab(r.blendMode,c),a.state.set(this.state);var f=a.gl,h=r.worldTransform.copyTo(this.tempMatrix);h.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=dI(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var d=!1,v=0,g=0;v<s;v+=o,g+=1){var p=s-v;p>o&&(p=o),g>=u.length&&u.push(this._generateOneMoreBuffer(r));var m=u[g];m.uploadDynamic(n,v,p);var y=r._bufferUpdateIDs[g]||0;d=d||m._updateID<y,d&&(m._updateID=r._updateID,m.uploadStatic(n,v,p)),a.geometry.bind(m.geometry),f.drawElements(f.TRIANGLES,p*6,f.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,s=0;s<i;s+=o)n.push(new YC(this.properties,a,o));return n},t.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new YC(this.properties,i,n)},t.prototype.uploadVertices=function(r,n,i,o,a,s){for(var u=0,l=0,c=0,f=0,h=0;h<i;++h){var d=r[n+h],v=d._texture,g=d.scale.x,p=d.scale.y,m=v.trim,y=v.orig;m?(l=m.x-d.anchor.x*y.width,u=l+m.width,f=m.y-d.anchor.y*y.height,c=f+m.height):(u=y.width*(1-d.anchor.x),l=y.width*-d.anchor.x,c=y.height*(1-d.anchor.y),f=y.height*-d.anchor.y),o[s]=l*g,o[s+1]=f*p,o[s+a]=u*g,o[s+a+1]=f*p,o[s+a*2]=u*g,o[s+a*2+1]=c*p,o[s+a*3]=l*g,o[s+a*3+1]=c*p,s+=a*4}},t.prototype.uploadPosition=function(r,n,i,o,a,s){for(var u=0;u<i;u++){var l=r[n+u].position;o[s]=l.x,o[s+1]=l.y,o[s+a]=l.x,o[s+a+1]=l.y,o[s+a*2]=l.x,o[s+a*2+1]=l.y,o[s+a*3]=l.x,o[s+a*3+1]=l.y,s+=a*4}},t.prototype.uploadRotation=function(r,n,i,o,a,s){for(var u=0;u<i;u++){var l=r[n+u].rotation;o[s]=l,o[s+a]=l,o[s+a*2]=l,o[s+a*3]=l,s+=a*4}},t.prototype.uploadUvs=function(r,n,i,o,a,s){for(var u=0;u<i;++u){var l=r[n+u]._texture._uvs;l?(o[s]=l.x0,o[s+1]=l.y0,o[s+a]=l.x1,o[s+a+1]=l.y1,o[s+a*2]=l.x2,o[s+a*2+1]=l.y2,o[s+a*3]=l.x3,o[s+a*3+1]=l.y3,s+=a*4):(o[s]=0,o[s+1]=0,o[s+a]=0,o[s+a+1]=0,o[s+a*2]=0,o[s+a*2+1]=0,o[s+a*3]=0,o[s+a*3+1]=0,s+=a*4)}},t.prototype.uploadTint=function(r,n,i,o,a,s){for(var u=0;u<i;++u){var l=r[n+u],c=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&c?dp(l._tintRGB,f):l._tintRGB+(f*255<<24);o[s]=h,o[s+a]=h,o[s+a*2]=h,o[s+a*3]=h,s+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t.extension={name:"particle",type:Xe.RendererPlugin},t}(fc);/*!
 * @pixi/graphics - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bn;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(Bn||(Bn={}));var mi;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(mi||(mi={}));var ys={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},a1=function(){function e(){this.color=16777215,this.alpha=1,this.texture=me.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=me.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u_=function(e,t){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},u_(e,t)};function s1(e,t){u_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function KC(e,t){var r,n;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,s=e[i-2],u=e[i-1];a<i;a+=2){var l=e[a],c=e[a+1];o+=(l-s)*(c+u),s=l,u=c}if(!t&&o>0||t&&o<=0)for(var f=i/2,a=f+f%2;a<i;a+=2){var h=i-a-2,d=i-a-1,v=a,g=a+1;r=[e[v],e[h]],e[h]=r[0],e[v]=r[1],n=[e[g],e[d]],e[d]=n[0],e[g]=n[1]}}}var u1={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){KC(r,!1);for(var a=[],s=0;s<n.length;s++){var u=n[s];KC(u.points,!0),a.push(r.length/2),r=r.concat(u.points)}var l=yb(r,a,2);if(!l)return;for(var c=i.length/2,s=0;s<l.length;s+=3)o.push(l[s]+c),o.push(l[s+1]+c),o.push(l[s+2]+c);for(var s=0;s<r.length;s++)i.push(r[s])}}},Bl={build:function(e){var t=e.points,r,n,i,o,a,s;if(e.type===Ft.CIRC){var u=e.shape;r=u.x,n=u.y,a=s=u.radius,i=o=0}else if(e.type===Ft.ELIP){var l=e.shape;r=l.x,n=l.y,a=l.width,s=l.height,i=o=0}else{var c=e.shape,f=c.width/2,h=c.height/2;r=c.x+f,n=c.y+h,a=s=Math.max(0,Math.min(c.radius,Math.min(f,h))),i=f-a,o=h-s}if(!(a>=0&&s>=0&&i>=0&&o>=0)){t.length=0;return}var d=Math.ceil(2.3*Math.sqrt(a+s)),v=d*8+(i?4:0)+(o?4:0);if(t.length=v,v!==0){if(d===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,t[5]=t[7]=n-o;return}var g=0,p=d*4+(i?2:0)+2,m=p,y=v;{var _=i+a,x=o,b=r+_,w=r-_,E=n+x;if(t[g++]=b,t[g++]=E,t[--p]=E,t[--p]=w,o){var P=n-x;t[m++]=w,t[m++]=P,t[--y]=P,t[--y]=b}}for(var A=1;A<d;A++){var k=Math.PI/2*(A/d),_=i+Math.cos(k)*a,x=o+Math.sin(k)*s,b=r+_,w=r-_,E=n+x,P=n-x;t[g++]=b,t[g++]=E,t[--p]=E,t[--p]=w,t[m++]=w,t[m++]=P,t[--y]=P,t[--y]=b}{var _=i,x=o+s,b=r+_,w=r-_,E=n+x,P=n-x;t[g++]=b,t[g++]=E,t[--y]=P,t[--y]=b,i&&(t[g++]=w,t[g++]=E,t[--y]=P,t[--y]=w)}}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices;if(r.length!==0){var o=n.length/2,a=o,s,u;if(e.type!==Ft.RREC){var l=e.shape;s=l.x,u=l.y}else{var c=e.shape;s=c.x+c.width/2,u=c.y+c.height/2}var f=e.matrix;n.push(e.matrix?f.a*s+f.c*u+f.tx:s,e.matrix?f.b*s+f.d*u+f.ty:u),o++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(o++,a,o);i.push(a+1,a,o)}}},bN={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function wa(e,t,r){var n=t-e;return e+n*r}function rf(e,t,r,n,i,o,a){a===void 0&&(a=[]);for(var s=20,u=a,l=0,c=0,f=0,h=0,d=0,v=0,g=0,p=0;g<=s;++g)p=g/s,l=wa(e,r,p),c=wa(t,n,p),f=wa(r,i,p),h=wa(n,o,p),d=wa(l,f,p),v=wa(c,h,p),!(g===0&&u[u.length-2]===d&&u[u.length-1]===v)&&u.push(d,v);return u}var SN={build:function(e){if(jl.nextRoundedRectBehavior){Bl.build(e);return}var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));r.length=0,s?(rf(n,i+s,n,i,n+s,i,r),rf(n+o-s,i,n+o,i,n+o,i+s,r),rf(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),rf(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(e,t){if(jl.nextRoundedRectBehavior){Bl.triangulate(e,t);return}for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=yb(r,null,2),s=0,u=a.length;s<u;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var s=0,u=r.length;s<u;s++)n.push(r[s],r[++s])}};function ZC(e,t,r,n,i,o,a,s){var u=e-r*i,l=t-n*i,c=e+r*o,f=t+n*o,h,d;a?(h=n,d=-r):(h=-n,d=r);var v=u+h,g=l+d,p=c+h,m=f+d;return s.push(v,g),s.push(p,m),2}function wo(e,t,r,n,i,o,a,s){var u=r-e,l=n-t,c=Math.atan2(u,l),f=Math.atan2(i-e,o-t);s&&c<f?c+=Math.PI*2:!s&&c>f&&(f+=Math.PI*2);var h=c,d=f-c,v=Math.abs(d),g=Math.sqrt(u*u+l*l),p=(15*v*Math.sqrt(g)/Math.PI>>0)+1,m=d/p;if(h+=m,s){a.push(e,t),a.push(r,n);for(var y=1,_=h;y<p;y++,_+=m)a.push(e,t),a.push(e+Math.sin(_)*g,t+Math.cos(_)*g);a.push(e,t),a.push(i,o)}else{a.push(r,n),a.push(e,t);for(var y=1,_=h;y<p;y++,_+=m)a.push(e+Math.sin(_)*g,t+Math.cos(_)*g),a.push(e,t);a.push(i,o),a.push(e,t)}return p*2}function cue(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(n.length!==0){var o=e.lineStyle,a=new Ae(n[0],n[1]),s=new Ae(n[n.length-2],n[n.length-1]),u=r.type!==Ft.POLY||r.closeStroke,l=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var c=(a.x+s.x)*.5,f=(s.y+a.y)*.5;n.unshift(c,f),n.push(c,f)}var h=t.points,d=n.length/2,v=n.length,g=h.length/2,p=o.width/2,m=p*p,y=o.miterLimit*o.miterLimit,_=n[0],x=n[1],b=n[2],w=n[3],E=0,P=0,A=-(x-w),k=_-b,F=0,j=0,z=Math.sqrt(A*A+k*k);A/=z,k/=z,A*=p,k*=p;var q=o.alignment,D=(1-q)*2,U=q*2;u||(o.cap===mi.ROUND?v+=wo(_-A*(D-U)*.5,x-k*(D-U)*.5,_-A*D,x-k*D,_+A*U,x+k*U,h,!0)+2:o.cap===mi.SQUARE&&(v+=ZC(_,x,A,k,D,U,!0,h))),h.push(_-A*D,x-k*D),h.push(_+A*U,x+k*U);for(var K=1;K<d-1;++K){_=n[(K-1)*2],x=n[(K-1)*2+1],b=n[K*2],w=n[K*2+1],E=n[(K+1)*2],P=n[(K+1)*2+1],A=-(x-w),k=_-b,z=Math.sqrt(A*A+k*k),A/=z,k/=z,A*=p,k*=p,F=-(w-P),j=b-E,z=Math.sqrt(F*F+j*j),F/=z,j/=z,F*=p,j*=p;var de=b-_,pe=x-w,Y=b-E,N=P-w,X=de*Y+pe*N,ne=pe*Y-N*de,ue=ne<0;if(Math.abs(ne)<.001*Math.abs(X)){h.push(b-A*D,w-k*D),h.push(b+A*U,w+k*U),X>=0&&(o.join===Bn.ROUND?v+=wo(b,w,b-A*D,w-k*D,b-F*D,w-j*D,h,!1)+4:v+=2,h.push(b-F*U,w-j*U),h.push(b+F*D,w+j*D));continue}var _e=(-A+_)*(-k+w)-(-A+b)*(-k+x),Se=(-F+E)*(-j+w)-(-F+b)*(-j+P),we=(de*Se-Y*_e)/ne,Ue=(N*_e-pe*Se)/ne,He=(we-b)*(we-b)+(Ue-w)*(Ue-w),Je=b+(we-b)*D,Pe=w+(Ue-w)*D,Be=b-(we-b)*U,Ve=w-(Ue-w)*U,Ee=Math.min(de*de+pe*pe,Y*Y+N*N),ct=ue?D:U,or=Ee+ct*ct*m,Me=He<=or;Me?o.join===Bn.BEVEL||He/m>y?(ue?(h.push(Je,Pe),h.push(b+A*U,w+k*U),h.push(Je,Pe),h.push(b+F*U,w+j*U)):(h.push(b-A*D,w-k*D),h.push(Be,Ve),h.push(b-F*D,w-j*D),h.push(Be,Ve)),v+=2):o.join===Bn.ROUND?ue?(h.push(Je,Pe),h.push(b+A*U,w+k*U),v+=wo(b,w,b+A*U,w+k*U,b+F*U,w+j*U,h,!0)+4,h.push(Je,Pe),h.push(b+F*U,w+j*U)):(h.push(b-A*D,w-k*D),h.push(Be,Ve),v+=wo(b,w,b-A*D,w-k*D,b-F*D,w-j*D,h,!1)+4,h.push(b-F*D,w-j*D),h.push(Be,Ve)):(h.push(Je,Pe),h.push(Be,Ve)):(h.push(b-A*D,w-k*D),h.push(b+A*U,w+k*U),o.join===Bn.ROUND?ue?v+=wo(b,w,b+A*U,w+k*U,b+F*U,w+j*U,h,!0)+2:v+=wo(b,w,b-A*D,w-k*D,b-F*D,w-j*D,h,!1)+2:o.join===Bn.MITER&&He/m<=y&&(ue?(h.push(Be,Ve),h.push(Be,Ve)):(h.push(Je,Pe),h.push(Je,Pe)),v+=2),h.push(b-F*D,w-j*D),h.push(b+F*U,w+j*U),v+=2)}_=n[(d-2)*2],x=n[(d-2)*2+1],b=n[(d-1)*2],w=n[(d-1)*2+1],A=-(x-w),k=_-b,z=Math.sqrt(A*A+k*k),A/=z,k/=z,A*=p,k*=p,h.push(b-A*D,w-k*D),h.push(b+A*U,w+k*U),u||(o.cap===mi.ROUND?v+=wo(b-A*(D-U)*.5,w-k*(D-U)*.5,b-A*D,w-k*D,b+A*U,w+k*U,h,!1)+2:o.cap===mi.SQUARE&&(v+=ZC(b,w,A,k,D,U,!1,h)));for(var mr=t.indices,kn=ys.epsilon*ys.epsilon,K=g;K<v+g-2;++K)_=h[K*2],x=h[K*2+1],b=h[(K+1)*2],w=h[(K+1)*2+1],E=h[(K+2)*2],P=h[(K+2)*2+1],!(Math.abs(_*(w-P)+b*(P-x)+E*(x-w))<kn)&&mr.push(K,K+1,K+2)}}function fue(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Ft.POLY||n.closeStroke;if(i.length!==0){var a=t.points,s=t.indices,u=i.length/2,l=a.length/2,c=l;for(a.push(i[0],i[1]),r=1;r<u;r++)a.push(i[r*2],i[r*2+1]),s.push(c,c+1),c++;o&&s.push(c,l)}}function l_(e,t){e.lineStyle.native?fue(e,t):cue(e,t)}var c_=function(){function e(){}return e.curveTo=function(t,r,n,i,o,a){var s=a[a.length-2],u=a[a.length-1],l=u-r,c=s-t,f=i-r,h=n-t,d=Math.abs(l*h-c*f);if(d<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;var v=l*l+c*c,g=f*f+h*h,p=l*f+c*h,m=o*Math.sqrt(v)/d,y=o*Math.sqrt(g)/d,_=m*p/v,x=y*p/g,b=m*h+y*c,w=m*f+y*l,E=c*(y+_),P=l*(y+_),A=h*(m+x),k=f*(m+x),F=Math.atan2(P-w,E-b),j=Math.atan2(k-w,A-b);return{cx:b+t,cy:w+r,radius:o,startAngle:F,endAngle:j,anticlockwise:c*f>h*l}},e.arc=function(t,r,n,i,o,a,s,u,l){for(var c=s-a,f=ys._segmentsCount(Math.abs(c)*o,Math.ceil(Math.abs(c)/Ll)*40),h=c/(f*2),d=h*2,v=Math.cos(h),g=Math.sin(h),p=f-1,m=p%1/p,y=0;y<=p;++y){var _=y+m*y,x=h+a+d*_,b=Math.cos(x),w=-Math.sin(x);l.push((v*b+g*w)*o+n,(v*-w+g*b)*o+i)}},e}(),wN=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a,s,u){for(var l=10,c=0,f=0,h=0,d=0,v=0,g=0,p=0,m=0,y=0,_=0,x=0,b=t,w=r,E=1;E<=l;++E)f=E/l,h=f*f,d=h*f,v=1-f,g=v*v,p=g*v,m=p*t+3*g*f*n+3*v*h*o+d*s,y=p*r+3*g*f*i+3*v*h*a+d*u,_=b-m,x=w-y,b=m,w=y,c+=Math.sqrt(_*_+x*x);return c},e.curveTo=function(t,r,n,i,o,a,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=ys._segmentsCount(e.curveLength(u,l,t,r,n,i,o,a)),f=0,h=0,d=0,v=0,g=0;s.push(u,l);for(var p=1,m=0;p<=c;++p)m=p/c,f=1-m,h=f*f,d=h*f,v=m*m,g=v*m,s.push(d*u+3*h*m*t+3*f*v*n+g*o,d*l+3*h*m*r+3*f*v*i+g*a)},e}(),EN=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a){var s=t-2*n+o,u=r-2*i+a,l=2*n-2*t,c=2*i-2*r,f=4*(s*s+u*u),h=4*(s*l+u*c),d=l*l+c*c,v=2*Math.sqrt(f+h+d),g=Math.sqrt(f),p=2*f*g,m=2*Math.sqrt(d),y=h/g;return(p*v+g*h*(v-m)+(4*d*f-h*h)*Math.log((2*g+y+v)/(y+m)))/(4*p)},e.curveTo=function(t,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=ys._segmentsCount(e.curveLength(a,s,t,r,n,i)),l=0,c=0,f=1;f<=u;++f){var h=f/u;l=a+(t-a)*h,c=s+(r-s)*h,o.push(l+(t+(n-t)*h-l)*h,c+(r+(i-r)*h-c)*h)}},e}(),TN=function(){function e(){this.reset()}return e.prototype.begin=function(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Eo,Mf=(Eo={},Eo[Ft.POLY]=u1,Eo[Ft.CIRC]=Bl,Eo[Ft.ELIP]=Bl,Eo[Ft.RECT]=bN,Eo[Ft.RREC]=SN,Eo),f_=[],Nu=[],h_=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Ea=new Ae,CN=function(e){s1(t,e);function t(){var r=e.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Ml,r.boundsDirty=-1,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Nu.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),f_.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new h_(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new h_(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,Ea):Ea.copyFrom(r),o.shape.contains(Ea.x,Ea.y))){var a=!1;if(o.holes)for(var s=0;s<o.holes.length;s++){var u=o.holes[s];if(u.shape.contains(Ea.x,Ea.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,o=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],o=i.style);for(var a=this.shapeIndex;a<n.length;a++){this.shapeIndex++;var s=n[a],u=s.fillStyle,l=s.lineStyle,c=Mf[s.type];c.build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(u.visible||l.visible)&&this.processHoles(s.holes);for(var f=0;f<2;f++){var h=f===0?u:l;if(h.visible){var d=h.texture.baseTexture,v=this.indices.length,g=this.points.length/2;d.wrapMode=xn.REPEAT,f===0?this.processFill(s):this.processLine(s);var p=this.points.length/2-g;p!==0&&(i&&!this._compareStyles(o,h)&&(i.end(v,g),i=null),i||(i=f_.pop()||new TN,i.begin(h,v,g),this.batches.push(i),o=h),this.addUvs(this.points,r,h.texture,g,p,h.matrix))}}}var m=this.indices.length,y=this.points.length/2;if(i&&i.end(m,y),this.batches.length===0){this.batchable=!0;return}var _=y>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&_===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=_?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var s=o.start+a;this.indicesUint16[s]=this.indicesUint16[s]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++Ne._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Nu.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=Nu.pop();a||(a=new Lh,a.texArray=new Mh),a.texArray.count=0,a.start=0,a.size=0,a.type=en.TRIANGLES;var s=0,u=null,l=0,c=!1,f=en.TRIANGLES,h=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],v=8,g=d.style,p=g.texture.baseTexture;c!==!!g.native&&(c=!!g.native,f=c?en.LINES:en.TRIANGLES,u=null,s=v,r++),u!==p&&(u=p,p._batchEnabled!==r&&(s===v&&(r++,s=0,a.size>0&&(a=Nu.pop(),a||(a=new Lh,a.texArray=new Mh),this.drawCalls.push(a)),a.start=h,a.size=0,a.texArray.count=0,a.type=f),p.touched=1,p._batchEnabled=r,p._batchLocation=s,p.wrapMode=xn.REPEAT,a.texArray.elements[a.texArray.count++]=p,s++)),a.size+=d.size,h+=d.size,l=p._batchLocation,this.addColors(i,g.color,g.alpha,d.attribSize,d.attribStart),this.addTextureIds(o,l,d.attribSize,d.attribStart)}Ne._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),s=new Float32Array(a),u=new Uint32Array(a),l=0,c=0;c<r.length/2;c++)s[l++]=r[c*2],s[l++]=r[c*2+1],s[l++]=n[c*2],s[l++]=n[c*2+1],u[l++]=i[c],s[l++]=o[c];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)u1.triangulate(r,this);else{var n=Mf[r.type];n.triangulate(r,this)}},t.prototype.processLine=function(r){l_(r,this);for(var n=0;n<r.holes.length;n++)l_(r.holes[n],this)},t.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=Mf[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},t.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var s=(n>>16)+(n&65280)+((n&255)<<16),u=dp(s,i);r.length=Math.max(r.length,a+o);for(var l=0;l<o;l++)r[a+l]=u},t.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},t.prototype.addUvs=function(r,n,i,o,a,s){s===void 0&&(s=null);for(var u=0,l=n.length,c=i.frame;u<a;){var f=r[(o+u)*2],h=r[(o+u)*2+1];if(s){var d=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=d}u++,n.push(f/c.width,h/c.height)}var v=i.baseTexture;(c.width<v.width||c.height<v.height)&&this.adjustUvs(n,i,l,a)},t.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,s=1e-6,u=i+o*2,l=n.frame,c=l.width/a.width,f=l.height/a.height,h=l.x/l.width,d=l.y/l.height,v=Math.floor(r[i]+s),g=Math.floor(r[i+1]+s),p=i+2;p<u;p+=2)v=Math.min(v,Math.floor(r[p]+s)),g=Math.min(g,Math.floor(r[p+1]+s));h-=v,d-=g;for(var p=i;p<u;p+=2)r[p]=(r[p]+h)*c,r[p+1]=(r[p+1]+d)*f},t.BATCHABLE_SIZE=100,t}(n1),ON=function(e){s1(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=mi.BUTT,r.join=Bn.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(a1),hue=new Float32Array(3),Km={},jl=function(e){s1(t,e);function t(r){r===void 0&&(r=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new a1,n._lineStyle=new ON,n._matrix=null,n._holeMode=!1,n.state=xo.for2d(),n._geometry=r||new CN,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=fe.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r,n,i,o,a){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:me.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:mi.BUTT,join:Bn.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new el,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new el,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},t.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},t.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),EN.curveTo(r,n,i,o,a),this},t.prototype.bezierCurveTo=function(r,n,i,o,a,s){return this._initCurve(),wN.curveTo(r,n,i,o,a,s,this.currentPath.points),this},t.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var s=this.currentPath.points,u=c_.curveTo(r,n,i,o,a,s);if(u){var l=u.cx,c=u.cy,f=u.radius,h=u.startAngle,d=u.endAngle,v=u.anticlockwise;this.arc(l,c,f,h,d,v)}return this},t.prototype.arc=function(r,n,i,o,a,s){if(s===void 0&&(s=!1),o===a)return this;!s&&a<=o?a+=Ll:s&&o<=a&&(o+=Ll);var u=a-o;if(u===0)return this;var l=r+Math.cos(o)*i,c=n+Math.sin(o)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var d=Math.abs(h[h.length-2]-l),v=Math.abs(h[h.length-1]-c);d<f&&v<f||h.push(l,c)}else this.moveTo(l,c),h=this.currentPath.points;return c_.arc(l,c,r,n,i,o,a,s,h),this},t.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:me.WHITE,color:r,alpha:n})},t.prototype.beginTextureFill=function(r){r=Object.assign({texture:me.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,n,i,o){return this.drawShape(new Le(r,n,i,o))},t.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new SI(r,n,i,o,a))},t.prototype.drawCircle=function(r,n,i){return this.drawShape(new xI(r,n,i))},t.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new bI(r,n,i,o))},t.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,s=n[0];s.points?(a=s.closeStroke,o=s.points):Array.isArray(n[0])?o=n[0]:o=n;var u=new el(o);return u.closeStroke=a,this.drawShape(u),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Ft.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],s=a.style.color,u=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),c=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),f={vertexData:u,blendMode:n,indices:c,uvs:l,_batchRGB:qt(s),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=f}},t.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,s=n.uniforms,u=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(o>>16&255)/255*a,s.tint[1]=(o>>8&255)/255*a,s.tint[2]=(o&255)/255*a,s.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,c=u.length;l<c;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},t.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,s=n.start,u=i.count,l=0;l<u;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(o,a,s)},t.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Km[i]){for(var o=r.plugins[i].MAX_TEXTURES,a=new Int32Array(o),s=0;s<o;s++)a[s]=s;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new Rt,default:to.from({uSamplers:a},!0)},l=r.plugins[i]._shader.program;Km[i]=new _i(l,u)}n=Km[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,o,a,s)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=qt(this.tint,hue),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,s=r[1]*o[1]*255,u=r[2]*o[2]*255,l=(a<<16)+(s<<8)+(u|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,u=n.tx,l=n.ty,c=this._geometry.points,f=this.vertexData,h=0,d=0;d<c.length;d+=2){var v=c[d],g=c[d+1];f[h++]=i*v+a*g+u,f[h++]=s*g+o*v+l}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new Ae,t}(xr),due={buildPoly:u1,buildCircle:Bl,buildRectangle:bN,buildRoundedRectangle:SN,buildLine:l_,ArcUtils:c_,BezierUtils:wN,QuadraticUtils:EN,BatchPart:TN,FILL_COMMANDS:Mf,BATCH_POOL:f_,DRAW_CALL_POOL:Nu};/*!
 * @pixi/sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d_=function(e,t){return d_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},d_(e,t)};function pue(e,t){d_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xu=new Ae,vue=new Uint16Array([0,1,2,0,2,3]),xi=function(e){pue(t,e);function t(r){var n=e.call(this)||this;return n._anchor=new zi(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=fe.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||me.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=vue,n.pluginName="batch",n.isSprite=!0,n._roundPixels=ie.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Uo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Uo(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,u=n.tx,l=n.ty,c=this.vertexData,f=r.trim,h=r.orig,d=this._anchor,v=0,g=0,p=0,m=0;if(f?(g=f.x-d._x*h.width,v=g+f.width,m=f.y-d._y*h.height,p=m+f.height):(g=-d._x*h.width,v=g+h.width,m=-d._y*h.height,p=m+h.height),c[0]=i*g+a*m+u,c[1]=s*m+o*g+l,c[2]=i*v+a*m+u,c[3]=s*m+o*v+l,c[4]=i*v+a*p+u,c[5]=s*p+o*v+l,c[6]=i*g+a*p+u,c[7]=s*p+o*g+l,this._roundPixels)for(var y=ie.RESOLUTION,_=0;_<c.length;++_)c[_]=Math.round((c[_]*y|0)/y)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,s=a.a,u=a.b,l=a.c,c=a.d,f=a.tx,h=a.ty,d=-o._x*i.width,v=d+i.width,g=-o._y*i.height,p=g+i.height;n[0]=s*d+l*g+f,n[1]=c*g+u*d+h,n[2]=s*v+l*g+f,n[3]=c*g+u*v+h,n[4]=s*v+l*p+f,n[5]=c*p+u*v+h,n[6]=s*d+l*p+f,n[7]=c*p+u*d+h},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Ml),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Le),r=this._localBoundsRect),this._localBounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,xu);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return xu.x>=o&&xu.x<o+n&&(a=-i*this.anchor.y,xu.y>=a&&xu.y<a+i)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(r,n){var i=r instanceof me?r:me.from(r,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Uo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Uo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(xr);/*!
 * @pixi/text - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var p_=function(e,t){return p_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},p_(e,t)};function mue(e,t){p_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _s;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(_s||(_s={}));var Zm={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:_s.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},gue=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],na=function(){function e(t){this.styleID=0,this.reset(),Qm(this,t,t)}return e.prototype.clone=function(){var t={};return Qm(t,this,Zm),new e(t)},e.prototype.reset=function(){Qm(this,Zm,Zm)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=Jm(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=Jm(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){yue(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=Jm(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&gue.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e}();function JC(e){return typeof e=="number"?Tb(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function Jm(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=JC(e[t]);return e}else return JC(e)}function yue(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function Qm(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var nf={willReadFrequently:!0},Cn=function(){function e(t,r,n,i,o,a,s,u,l){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return e.measureText=function(t,r,n,i){i===void 0&&(i=e._canvas),n=n??r.wordWrap;var o=r.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d",nf);s.font=o;for(var u=n?e.wordWrap(t,r,i):t,l=u.split(/(?:\r\n|\r|\n)/),c=new Array(l.length),f=0,h=0;h<l.length;h++){var d=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;c[h]=d,f=Math.max(f,d)}var v=f+r.strokeThickness;r.dropShadow&&(v+=r.dropShadowDistance);var g=r.lineHeight||a.fontSize+r.strokeThickness,p=Math.max(g,a.fontSize+r.strokeThickness)+(l.length-1)*(g+r.leading);return r.dropShadow&&(p+=r.dropShadowDistance),new e(t,r,v,p,l,c,g+r.leading,f,a)},e.wordWrap=function(t,r,n){n===void 0&&(n=e._canvas);for(var i=n.getContext("2d",nf),o=0,a="",s="",u=Object.create(null),l=r.letterSpacing,c=r.whiteSpace,f=e.collapseSpaces(c),h=e.collapseNewlines(c),d=!f,v=r.wordWrapWidth+l,g=e.tokenize(t),p=0;p<g.length;p++){var m=g[p];if(e.isNewline(m)){if(!h){s+=e.addLine(a),d=!f,a="",o=0;continue}m=" "}if(f){var y=e.isBreakingSpace(m),_=e.isBreakingSpace(a[a.length-1]);if(y&&_)continue}var x=e.getFromCache(m,l,u,i);if(x>v)if(a!==""&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(m,r.breakWords))for(var b=e.wordWrapSplit(m),w=0;w<b.length;w++){for(var E=b[w],P=1;b[w+P];){var A=b[w+P],k=E[E.length-1];if(!e.canBreakChars(k,A,m,w,r.breakWords))E+=A;else break;P++}w+=E.length-1;var F=e.getFromCache(E,l,u,i);F+o>v&&(s+=e.addLine(a),d=!1,a="",o=0),a+=E,o+=F}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var j=p===g.length-1;s+=e.addLine(m,!j),d=!1,a="",o=0}else x+o>v&&(d=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(m)||d)&&(a+=m,o+=x)}return s+=e.addLine(a,!1),s},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,n,i){var o=n[t];if(typeof o!="number"){var a=t.length*r;o=i.measureText(t).width+a,n[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if(typeof t!="string")return r;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];if(e.isBreakingSpace(o,a)||e.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,n,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*s);s=s*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,c=l.length,f=a*4,h=0,d=0,v=!1;for(h=0;h<s;++h){for(var g=0;g<f;g+=4)if(l[d+g]!==255){v=!0;break}if(!v)d+=f;else break}for(r.ascent=s-h,d=c-f,v=!1,h=u;h>s;--h){for(var g=0;g<f;g+=4)if(l[d+g]!==255){v=!0;break}if(!v)d-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",nf);if(n&&n.measureText)return e.__canvas=r,r;t=ie.ADAPTER.createCanvas()}catch{t=ie.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",nf)),e.__context},enumerable:!1,configurable:!0}),e}();Cn._fonts={};Cn.METRICS_STRING="|q";Cn.BASELINE_SYMBOL="M";Cn.BASELINE_MULTIPLIER=1.4;Cn.HEIGHT_MULTIPLIER=2;Cn._newlines=[10,13];Cn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _ue={texture:!0,children:!1,baseTexture:!0},l1=function(e){mue(t,e);function t(r,n,i){var o=this,a=!1;i||(i=ie.ADAPTER.createCanvas(),a=!0),i.width=3,i.height=3;var s=me.from(i);return s.orig=new Le,s.trim=new Le,o=e.call(this,s)||this,o._ownCanvas=a,o.canvas=i,o.context=i.getContext("2d",{willReadFrequently:!0}),o._resolution=ie.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=Cn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,u=o.lines,l=o.lineHeight,c=o.lineWidths,f=o.maxLineWidth,h=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,v,g=n.dropShadow?2:1,p=0;p<g;++p){var m=n.dropShadow&&p===0,y=m?Math.ceil(Math.max(1,s)+n.padding*2):0,_=y*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,b=qt(typeof x=="number"?x:Cb(x)),w=n.dropShadowBlur*this._resolution,E=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=w,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*E,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*E+_}else i.fillStyle=this._generateFillStyle(n,u,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var P=(l-h.fontSize)/2;(!t.nextLineHeightBehavior||l-h.fontSize<0)&&(P=0);for(var A=0;A<u.length;A++)d=n.strokeThickness/2,v=n.strokeThickness/2+A*l+h.ascent+P,n.align==="right"?d+=f-c[A]:n.align==="center"&&(d+=(f-c[A])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[A],d+n.padding,v+n.padding-y,!0),n.fill&&this.drawLetterSpacing(u[A],d+n.padding,v+n.padding-y)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,s=a.letterSpacing,u=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||u){u&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,c=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,d=0;d<c.length;++d){var v=c[d];o?this.context.strokeText(v,l,i):this.context.fillText(v,l,i);for(var g="",p=d+1;p<c.length;++p)g+=c[p];h=this.context.measureText(g).width,l+=f-h+s,f=h}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=mI(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.updateTransform=function(){this.updateText(!0),e.prototype.updateTransform.call(this)},t.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),e.prototype.getBounds.call(this,r,n)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,s=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=this.canvas.width/this._resolution-s-u*2,c=this.canvas.height/this._resolution-s-u*2,f=o.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var d=f.length+1,v=1;v<d;++v)h.push(v/d);if(f.unshift(o[0]),h.unshift(0),f.push(o[o.length-1]),h.push(1),r.fillGradientType===_s.LINEAR_VERTICAL){a=this.context.createLinearGradient(l/2,u,l/2,c+u);for(var g=i.fontProperties.fontSize+r.strokeThickness,v=0;v<n.length;v++){var p=i.lineHeight*(v-1)+g,m=i.lineHeight*v,y=m;v>0&&p>m&&(y=(m+p)/2);var _=m+g,x=i.lineHeight*(v+1),b=_;v+1<n.length&&x<_&&(b=(_+x)/2);for(var w=(b-y)/c,E=0;E<f.length;E++){var P=0;typeof h[E]=="number"?P=h[E]:P=E/f.length;var A=Math.min(1,Math.max(0,y/c+P*w));A=Number(A.toFixed(5)),a.addColorStop(A,f[E])}}}else{a=this.context.createLinearGradient(u,c/2,l+u,c/2);for(var k=f.length+1,F=1,v=0;v<f.length;v++){var j=void 0;typeof h[v]=="number"?j=h[v]:j=F/k,a.addColorStop(j,f[v]),F++}}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},_ue,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Uo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Uo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof na?this._style=r:this._style=new na(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(xi);/*!
 * @pixi/prepare - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ie.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v_=function(e,t){return v_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},v_(e,t)};function xue(e,t){v_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var AN=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function bue(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof me){var i=e._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),r=!0)}}return r}function Sue(e,t){if(e.baseTexture instanceof Ne){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function wue(e,t){if(e._texture&&e._texture instanceof me){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function Eue(e,t){return t instanceof l1?(t.updateText(!0),!0):!1}function Tue(e,t){if(t instanceof na){var r=t.toFontString();return Cn.measureFont(r),!0}return!1}function Cue(e,t){if(e instanceof l1){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function Oue(e,t){return e instanceof na?(t.indexOf(e)===-1&&t.push(e),!0):!1}var PN=function(){function e(t){var r=this;this.limiter=new AN(ie.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(Cue),this.registerFindHook(Oue),this.registerFindHook(bue),this.registerFindHook(Sue),this.registerFindHook(wue),this.registerUploadHook(Eue),this.registerUploadHook(Tue)}return e.prototype.upload=function(t,r){var n=this;return typeof t=="function"&&(r=t,t=null),r&&_r("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){t&&n.add(t);var o=function(){r==null||r(),i()};n.queue.length?(n.completes.push(o),n.ticking||(n.ticking=!0,Ht.system.addOnce(n.tick,n,Kn.UTILITY))):o()})},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Ht.system.addOnce(this.tick,this,Kn.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof xr)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&Ht.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function kN(e,t){return t instanceof Ne?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function Aue(e,t){if(!(t instanceof jl))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&kN(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function Pue(e,t){return e instanceof jl?(t.push(e),!0):!1}var RN=function(e){xue(t,e);function t(r){var n=e.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Pue),n.registerUploadHook(kN),n.registerUploadHook(Aue),n}return t.extension={name:"prepare",type:Xe.RendererPlugin},t}(PN),kue=function(){function e(t){this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();/*!
 * @pixi/spritesheet - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var IN=function(){function e(t,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=t instanceof me?t:null,this.baseTexture=t instanceof Ne?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,n=Nl(t,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){var r=this;return t&&_r("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){t==null||t(i),n(i)},r._batchIndex=0,r._frameKeys.length<=e.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,l=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,c=new Le(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);o.rotated?s=new Le(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):s=new Le(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(u=new Le(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new me(this.baseTexture,s,c,u,o.rotated?2:0,o.anchor),me.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var n=0;n<t[r].length;n++){var i=t[r][n];this.animations[r].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},e.BATCH_SIZE=1e3,e}(),NN=function(){function e(){}return e.use=function(t,r){var n,i,o=this,a=t.name+"_image";if(!t.data||t.type!==gt.TYPE.JSON||!t.data.frames||o.resources[a]){r();return}var s=(i=(n=t.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var u=function(v){if(typeof v!="string")return"continue";var g=v.replace(".json",""),p=$o.resolve(t.url.replace(o.baseUrl,""),v);if(o.resources[g]||Object.values(o.resources).some(function(y){return $o.format($o.parse(y.url))===p}))return"continue";var m={crossOrigin:t.crossOrigin,loadType:gt.LOAD_TYPE.XHR,xhrType:gt.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(g,p,m)},l=0,c=s;l<c.length;l++){var f=c[l];u(f)}var h={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},d=e.getResourcePath(t,o.baseUrl);o.add(a,d,h,function(g){if(g.error){r(g.error);return}var p=new IN(g.texture,t.data,t.url);p.parse().then(function(){t.spritesheet=p,t.textures=p.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:$o.resolve(t.url.replace(r,""),t.data.meta.image)},e.extension=Xe.Loader,e}();/*!
 * @pixi/sprite-tiling - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m_=function(e,t){return m_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},m_(e,t)};function LN(e,t){m_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bu=new Ae,Rue=function(e){LN(t,e);function t(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=e.call(this,r)||this;return o.tileTransform=new kb,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new _p(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Le),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,bu);var n=this._width,i=this._height,o=-n*this.anchor._x;if(bu.x>=o&&bu.x<o+n){var a=-i*this.anchor._y;if(bu.y>=a&&bu.y<a+i)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,n){var i=r instanceof me?r:me.from(r,n);return new t(i,n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t}(xi),Iue=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,QC=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Nue=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Lue=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Mue=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,of=new Rt,MN=function(e){LN(t,e);function t(r){var n=e.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new $b,n.state=xo.for2d(),n}return t.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=_i.from(QC,Iue,n),this.shader=r.context.webGLVersion>1?_i.from(Lue,Mue,n):_i.from(QC,Nue,n)},t.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var a=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-s,o[2]=o[4]=1-a,o[5]=o[7]=1-s,i.invalidate();var u=r._texture,l=u.baseTexture,c=l.alphaMode>0,f=r.tileTransform.localTransform,h=r.uvMatrix,d=l.isPowerOfTwo&&u.frame.width===l.width&&u.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==xn.CLAMP:l.wrapMode===xn.CLAMP&&(l.wrapMode=xn.REPEAT));var v=d?this.simpleShader:this.shader,g=u.width,p=u.height,m=r._width,y=r._height;of.set(f.a*g/m,f.b*g/y,f.c*p/m,f.d*p/y,f.tx/m,f.ty/y),of.invert(),d?of.prepend(h.mapCoord):(v.uniforms.uMapCoord=h.mapCoord.toArray(!0),v.uniforms.uClampFrame=h.uClampFrame,v.uniforms.uClampOffset=h.uClampOffset),v.uniforms.uTransform=of.toArray(!0),v.uniforms.uColor=Pb(r.tint,r.worldAlpha,v.uniforms.uColor,c),v.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,n.shader.bind(v),n.geometry.bind(i),this.state.blendMode=Ab(r.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t.extension={name:"tilingSprite",type:Xe.RendererPlugin},t}(fc);/*!
 * @pixi/mesh - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g_=function(e,t){return g_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},g_(e,t)};function c1(e,t){g_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var FN=function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e}(),eg=new Ae,eO=new el,xs=function(e){c1(t,e);function t(r,n,i,o){o===void 0&&(o=en.TRIANGLES);var a=e.call(this)||this;return a.geometry=r,a.shader=n,a.state=i||xo.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=ie.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===en.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,s=a.a,u=a.b,l=a.c,c=a.d,f=a.tx,h=a.ty,d=this.vertexData,v=0;v<d.length/2;v++){var g=i[v*2],p=i[v*2+1];d[v*2]=s*g+l*p+f,d[v*2+1]=u*g+c*p+h}if(this._roundPixels)for(var m=ie.RESOLUTION,v=0;v<d.length;++v)d[v]=Math.round((d[v]*m|0)/m);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new FN(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,eg);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=eO.points,o=this.geometry.getIndex().data,a=o.length,s=this.drawMode===4?3:1,u=0;u+2<a;u+=s){var l=o[u]*2,c=o[u+1]*2,f=o[u+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[c],i[3]=n[c+1],i[4]=n[f],i[5]=n[f+1],eO.contains(eg.x,eg.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(xr),Fue=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Due=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,bs=function(e){c1(t,e);function t(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:Rt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=e.call(this,n.program||zs.from(Due,Fue),o)||this,i._colorDirty=!1,i.uvMatrix=new _p(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;Pb(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(_i),hc=function(e){c1(t,e);function t(r,n,i){var o=e.call(this)||this,a=new Pt(r),s=new Pt(n,!0),u=new Pt(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,he.FLOAT).addAttribute("aTextureCoord",s,2,!1,he.FLOAT).addIndex(u),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Gs);/*!
 * @pixi/text-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y_=function(e,t){return y_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},y_(e,t)};function Bue(e,t){y_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $l=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),DN=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var u in a){var l=a[u].split("="),c=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),d=isNaN(h)?f:h;s[c]=d}n[o].push(s)}var v=new $l;return n.info.forEach(function(g){return v.info.push({face:g.face,size:parseInt(g.size,10)})}),n.common.forEach(function(g){return v.common.push({lineHeight:parseInt(g.lineHeight,10)})}),n.page.forEach(function(g){return v.page.push({id:parseInt(g.id,10),file:g.file})}),n.char.forEach(function(g){return v.char.push({id:parseInt(g.id,10),page:parseInt(g.page,10),x:parseInt(g.x,10),y:parseInt(g.y,10),width:parseInt(g.width,10),height:parseInt(g.height,10),xoffset:parseInt(g.xoffset,10),yoffset:parseInt(g.yoffset,10),xadvance:parseInt(g.xadvance,10)})}),n.kerning.forEach(function(g){return v.kerning.push({first:parseInt(g.first,10),second:parseInt(g.second,10),amount:parseInt(g.amount,10)})}),n.distanceField.forEach(function(g){return v.distanceField.push({distanceRange:parseInt(g.distanceRange,10),fieldType:g.fieldType})}),v},e}(),Bh=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new $l,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),u=t.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<o.length;l++)r.page.push({id:parseInt(o[l].getAttribute("id"),10)||0,file:o[l].getAttribute("file")});for(var l=0;l<a.length;l++){var c=a[l];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<u.length;l++)r.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return r},e}(),BN=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Bh.test(r)}return!1},e.parse=function(t){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Bh.parse(r)},e}(),tg=[DN,Bh,BN];function f1(e){for(var t=0;t<tg.length;t++)if(tg[t].test(e))return tg[t];return null}function jue(e,t,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=e.width/n-u-l*2,f=e.height/n-u-l*2,h=a.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var v=h.length+1,g=1;g<v;++g)d.push(g/v);if(h.unshift(a[0]),d.unshift(0),h.push(a[a.length-1]),d.push(1),r.fillGradientType===_s.LINEAR_VERTICAL){s=t.createLinearGradient(c/2,l,c/2,f+l);for(var p=0,m=o.fontProperties.fontSize+r.strokeThickness,y=m/f,g=0;g<i.length;g++)for(var _=o.lineHeight*g,x=0;x<h.length;x++){var b=0;typeof d[x]=="number"?b=d[x]:b=x/h.length;var w=_/f+b*y,E=Math.max(p,w);E=Math.min(E,1),s.addColorStop(E,h[x]),p=E}}else{s=t.createLinearGradient(l,f/2,c+l,f/2);for(var P=h.length+1,A=1,g=0;g<h.length;g++){var k=void 0;typeof d[g]=="number"?k=d[g]:k=A/P,s.addColorStop(k,h[g]),A++}}return s}function $ue(e,t,r,n,i,o,a){var s=r.text,u=r.fontProperties;t.translate(n,i),t.scale(o,o);var l=a.strokeThickness/2,c=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=jue(e,t,a,o,[s],r),t.strokeStyle=a.stroke,a.dropShadow){var f=a.dropShadowColor,h=qt(typeof f=="number"?f:Cb(f)),d=a.dropShadowBlur*o,v=a.dropShadowDistance*o;t.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=d,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*v,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*v}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,l,c+r.lineHeight-u.descent),a.fill&&t.fillText(s,l,c+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function jN(e){return Array.from?Array.from(e):e.split("")}function Uue(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,jN(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Ff(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var li=function(){function e(t,r,n){var i,o,a=t.info[0],s=t.common[0],u=t.page[0],l=t.distanceField[0],c=Nl(u.file),f={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=f;for(var h=0;h<t.page.length;h++){var d=t.page[h],v=d.id,g=d.file;f[v]=r instanceof Array?r[h]:r[g],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[v].baseTexture.alphaMode=sn.NO_PREMULTIPLIED_ALPHA,f[v].baseTexture.mipmap=Lr.OFF)}for(var h=0;h<t.char.length;h++){var p=t.char[h],v=p.id,m=p.page,y=t.char[h],_=y.x,x=y.y,b=y.width,w=y.height,E=y.xoffset,P=y.yoffset,A=y.xadvance;_/=c,x/=c,b/=c,w/=c,E/=c,P/=c,A/=c;var k=new Le(_+f[m].frame.x/c,x+f[m].frame.y/c,b,w);this.chars[v]={xOffset:E,yOffset:P,xAdvance:A,kerning:{},texture:new me(f[m].baseTexture,k),page:m}}for(var h=0;h<t.kerning.length;h++){var F=t.kerning[h],j=F.first,z=F.second,q=F.amount;j/=c,z/=c,q/=c,this.chars[z]&&(this.chars[z].kerning[j]=q)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(o=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof $l)i=t;else{var o=f1(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof me&&(r=[r]);var a=new e(i,r,n);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,c=Uue(o),f=r instanceof na?r:new na(r),h=u,d=new $l;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var v=0,g=0,p,m,y,_=0,x=[],b=0;b<c.length;b++){p||(p=ie.ADAPTER.createCanvas(),p.width=u,p.height=l,m=p.getContext("2d"),y=new Ne(p,{resolution:s}),x.push(new me(y)),d.page.push({id:x.length-1,file:""}));var w=c[b],E=Cn.measureText(w,f,!1,p),P=E.width,A=Math.ceil(E.height),k=Math.ceil((f.fontStyle==="italic"?2:1)*P);if(g>=l-A*s){if(g===0)throw new Error("[BitmapFont] textureHeight "+l+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+w+"')"));--b,p=null,m=null,y=null,g=0,v=0,_=0;continue}if(_=Math.max(A+E.fontProperties.descent,_),k*s+v>=h){if(v===0)throw new Error("[BitmapFont] textureWidth "+u+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+w+"')"));--b,g+=_*s,g=Math.ceil(g),v=0,_=0;continue}$ue(p,m,E,v,g,s,f);var F=Ff(E.text);d.char.push({id:F,page:x.length-1,x:v/s,y:g/s,width:k,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(P-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),v+=(k+2*a)*s,v=Math.ceil(v)}if(!(n!=null&&n.skipKerning))for(var b=0,j=c.length;b<j;b++)for(var z=c[b],q=0;q<j;q++){var D=c[q],U=m.measureText(z).width,K=m.measureText(D).width,de=m.measureText(z+D).width,pe=de-(U+K);pe&&d.kerning.push({first:Ff(z),second:Ff(D),amount:pe})}var Y=new e(d,x,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=Y,Y},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),Gue=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,zue=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,tO=[],rO=[],nO=[],Hue=function(e){Bue(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,n),a=o.align,s=o.tint,u=o.maxWidth,l=o.letterSpacing,c=o.fontName,f=o.fontSize;if(!li.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._font=void 0,i._fontName=c,i._fontSize=f,i.text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new zi(function(){i.dirty=!0},i,0,0),i._roundPixels=ie.ROUND_PIXELS,i.dirty=!0,i._resolution=ie.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var r,n=li.available[this._fontName],i=this.fontSize,o=i/n.size,a=new Ae,s=[],u=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=jN(c),h=this._maxWidth*n.size/i,d=n.distanceFieldType==="none"?tO:rO,v=null,g=0,p=0,m=0,y=-1,_=0,x=0,b=0,w=0,E=0;E<f.length;E++){var P=f[E],A=Ff(P);if(/(?:\s)/.test(P)&&(y=E,_=g,w++),P==="\r"||P===`
`){u.push(g),l.push(-1),p=Math.max(p,g),++m,++x,a.x=0,a.y+=n.lineHeight,v=null,w=0;continue}var k=n.chars[A];if(k){v&&k.kerning[v]&&(a.x+=k.kerning[v]);var F=nO.pop()||{texture:me.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ae};F.texture=k.texture,F.line=m,F.charCode=A,F.position.x=a.x+k.xOffset+this._letterSpacing/2,F.position.y=a.y+k.yOffset,F.prevSpaces=w,s.push(F),g=F.position.x+Math.max(k.xAdvance-k.xOffset,k.texture.orig.width),a.x+=k.xAdvance+this._letterSpacing,b=Math.max(b,k.yOffset+k.texture.height),v=A,y!==-1&&h>0&&a.x>h&&(++x,Wo(s,1+y-x,1+E-y),E=y,y=-1,u.push(_),l.push(s.length>0?s[s.length-1].prevSpaces:0),p=Math.max(p,_),m++,a.x=0,a.y+=n.lineHeight,v=null,w=0)}}var j=f[f.length-1];j!=="\r"&&j!==`
`&&(/(?:\s)/.test(j)&&(g=_),u.push(g),p=Math.max(p,g),l.push(-1));for(var z=[],E=0;E<=m;E++){var q=0;this._align==="right"?q=p-u[E]:this._align==="center"?q=(p-u[E])/2:this._align==="justify"&&(q=l[E]<0?0:(p-u[E])/l[E]),z.push(q)}var D=s.length,U={},K=[],de=this._activePagesMeshData;d.push.apply(d,de);for(var E=0;E<D;E++){var pe=s[E].texture,Y=pe.baseTexture.uid;if(!U[Y]){var N=d.pop();if(!N){var X=new hc,ne=void 0,ue=void 0;n.distanceFieldType==="none"?(ne=new bs(me.EMPTY),ue=fe.NORMAL):(ne=new bs(me.EMPTY,{program:zs.from(zue,Gue),uniforms:{uFWidth:0}}),ue=fe.NORMAL_NPM);var _e=new xs(X,ne);_e.blendMode=ue,N={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:_e,vertices:null,uvs:null,indices:null}}N.index=0,N.indexCount=0,N.vertexCount=0,N.uvsCount=0,N.total=0;var Se=this._textureCache;Se[Y]=Se[Y]||new me(pe.baseTexture),N.mesh.texture=Se[Y],N.mesh.tint=this._tint,K.push(N),U[Y]=N}U[Y].total++}for(var E=0;E<de.length;E++)K.indexOf(de[E])===-1&&this.removeChild(de[E].mesh);for(var E=0;E<K.length;E++)K[E].mesh.parent!==this&&this.addChild(K[E].mesh);this._activePagesMeshData=K;for(var E in U){var N=U[E],we=N.total;if(!(((r=N.indices)===null||r===void 0?void 0:r.length)>6*we)||N.vertices.length<xs.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*we),N.uvs=new Float32Array(4*2*we),N.indices=new Uint16Array(6*we);else for(var Ue=N.total,He=N.vertices,Je=Ue*4*2;Je<He.length;Je++)He[Je]=0;N.mesh.size=6*we}for(var E=0;E<D;E++){var P=s[E],Pe=P.position.x+z[P.line]*(this._align==="justify"?P.prevSpaces:1);this._roundPixels&&(Pe=Math.round(Pe));var Be=Pe*o,Ve=P.position.y*o,pe=P.texture,Ee=U[pe.baseTexture.uid],ct=pe.frame,or=pe._uvs,Me=Ee.index++;Ee.indices[Me*6+0]=0+Me*4,Ee.indices[Me*6+1]=1+Me*4,Ee.indices[Me*6+2]=2+Me*4,Ee.indices[Me*6+3]=0+Me*4,Ee.indices[Me*6+4]=2+Me*4,Ee.indices[Me*6+5]=3+Me*4,Ee.vertices[Me*8+0]=Be,Ee.vertices[Me*8+1]=Ve,Ee.vertices[Me*8+2]=Be+ct.width*o,Ee.vertices[Me*8+3]=Ve,Ee.vertices[Me*8+4]=Be+ct.width*o,Ee.vertices[Me*8+5]=Ve+ct.height*o,Ee.vertices[Me*8+6]=Be,Ee.vertices[Me*8+7]=Ve+ct.height*o,Ee.uvs[Me*8+0]=or.x0,Ee.uvs[Me*8+1]=or.y0,Ee.uvs[Me*8+2]=or.x1,Ee.uvs[Me*8+3]=or.y1,Ee.uvs[Me*8+4]=or.x2,Ee.uvs[Me*8+5]=or.y2,Ee.uvs[Me*8+6]=or.x3,Ee.uvs[Me*8+7]=or.y3}this._textWidth=p*o,this._textHeight=(a.y+n.lineHeight)*o;for(var E in U){var N=U[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var mr=0,kn=this._textWidth*this.anchor.x,Ti=this._textHeight*this.anchor.y,va=0;va<N.total;va++)N.vertices[mr++]-=kn,N.vertices[mr++]-=Ti,N.vertices[mr++]-=kn,N.vertices[mr++]-=Ti,N.vertices[mr++]-=kn,N.vertices[mr++]-=Ti,N.vertices[mr++]-=kn,N.vertices[mr++]-=Ti;this._maxLineHeight=b*o;var Ys=N.mesh.geometry.getBuffer("aVertexPosition"),Ks=N.mesh.geometry.getBuffer("aTextureCoord"),Zs=N.mesh.geometry.getIndex();Ys.data=N.vertices,Ks.data=N.uvs,Zs.data=N.indices,Ys.update(),Ks.update(),Zs.update()}for(var E=0;E<s.length;E++)nO.push(s[E]);this._font=n,this.dirty=!1},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=li.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var s=this.worldTransform,u=s.a,l=s.b,c=s.c,f=s.d,h=Math.sqrt(u*u+l*l),d=Math.sqrt(c*c+f*f),v=(Math.abs(h)+Math.abs(d))/2,g=this.fontSize/a,p=0,m=this._activePagesMeshData;p<m.length;p++){var y=m[p];y.mesh.shader.uniforms.uFWidth=v*i*g*this._resolution}e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){var r=li.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!li.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:li.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r){var n=this._textureCache,i=li.available[this._fontName],o=i.distanceFieldType==="none"?tO:rO;o.push.apply(o,this._activePagesMeshData);for(var a=0,s=this._activePagesMeshData;a<s.length;a++){var u=s[a];this.removeChild(u.mesh)}this._activePagesMeshData=[],o.filter(function(f){return n[f.mesh.texture.baseTexture.uid]}).forEach(function(f){f.mesh.texture=me.EMPTY});for(var l in n){var c=n[l];c.destroy(),delete n[l]}this._font=null,this._textureCache=null,e.prototype.destroy.call(this,r)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(xr),$N=function(){function e(){}return e.add=function(){gt.setExtensionXhrType("fnt",gt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=f1(t.data);if(!n){r();return}for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),a={},s=function(g){a[g.metadata.pageFile]=g.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=li.install(o,a,!0),r())},u=0;u<o.page.length;++u){var l=o.page[u].file,c=i+l,f=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===c){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var v={crossOrigin:t.crossOrigin,loadType:gt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,v,s)}}},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e.extension=Xe.Loader,e}();/*!
 * @pixi/filter-alpha - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __=function(e,t){return __=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},__(e,t)};function Vue(e,t){__(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wue=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,UN=function(e){Vue(t,e);function t(r){r===void 0&&(r=1);var n=e.call(this,XI,Wue,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/filter-blur - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var x_=function(e,t){return x_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},x_(e,t)};function GN(e,t){x_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var que=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Xue(e,t){var r=Math.ceil(e/2),n=que,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var Yue={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Kue=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Zue(e){for(var t=Yue[e],r=t.length,n=Kue,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,s=0;s<e;s++){var u=o.replace("%index%",s.toString());a=s,s>=r&&(a=e-s-1),u=u.replace("%value%",t[a].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var Ul=function(e){GN(t,e);function t(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=ie.FILTER_RESOLUTION),a===void 0&&(a=5);var s=this,u=Xue(a,r),l=Zue(a);return s=e.call(this,u,l)||this,s.horizontal=r,s.resolution=o,s._quality=0,s.quality=i,s.blur=n,s}return t.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),s=r.renderer,u=n,l=a;this.state.blend=!1,r.applyFilter(this,u,l,Zr.CLEAR);for(var c=1;c<this.passes-1;c++){r.bindAndClear(u,Zr.BLIT),this.uniforms.uSampler=l;var f=l;l=u,u=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,o),r.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t}(ye),Jue=function(e){GN(t,e);function t(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=ie.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new Ul(!0,r,n,i,o),a.blurYFilter=new Ul(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){var u=r.getFilterTexture();this.blurXFilter.apply(r,n,u,Zr.CLEAR),this.blurYFilter.apply(r,u,i,o),r.returnFilterTexture(u)}else s?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/filter-color-matrix - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b_=function(e,t){return b_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},b_(e,t)};function Que(e,t){b_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ele=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,S_=function(e){Que(t,e);function t(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,r1,ele,n)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},t.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.tint=function(r,n){var i=r>>16&255,o=r>>8&255,a=r&255,s=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},t.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,s=1/3,u=a(s),l=i+(1-i)*s,c=s*(1-i)-u*o,f=s*(1-i)+u*o,h=s*(1-i)+u*o,d=i+s*(1-i),v=s*(1-i)-u*o,g=s*(1-i)-u*o,p=s*(1-i)+u*o,m=i+s*(1-i),y=[l,c,f,0,0,h,d,v,0,0,g,p,m,0,0,0,0,0,1,0];this._loadMatrix(y,n)},t.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var s=(i>>16&255)/255,u=(i>>8&255)/255,l=(i&255)/255,c=(o>>16&255)/255,f=(o>>8&255)/255,h=(o&255)/255,d=[.3,.59,.11,0,0,s,u,l,r,0,c,f,h,n,0,s-c,u-f,l-h,0,0];this._loadMatrix(d,a)},t.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(ye);S_.prototype.grayscale=S_.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w_=function(e,t){return w_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},w_(e,t)};function tle(e,t){w_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rle=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,nle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,ile=function(e){tle(t,e);function t(r,n){var i=this,o=new Rt;return r.renderable=!1,i=e.call(this,nle,rle,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new Ae(n,n),i}return t.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),u=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&u!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/u,this.uniforms.rotation[3]=a.d/u),r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/filter-fxaa - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var E_=function(e,t){return E_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},E_(e,t)};function ole(e,t){E_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ale=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,sle=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,ule=function(e){ole(t,e);function t(){return e.call(this,ale,sle)||this}return t}(ye);/*!
 * @pixi/filter-noise - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var T_=function(e,t){return T_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},T_(e,t)};function lle(e,t){T_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cle=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,fle=function(e){lle(t,e);function t(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=e.call(this,r1,cle,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zN=new Rt;wt.prototype._cacheAsBitmap=!1;wt.prototype._cacheData=null;wt.prototype._cacheAsBitmapResolution=null;wt.prototype._cacheAsBitmapMultisample=ut.NONE;var hle=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(wt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new hle),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});wt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};wt.prototype._initCachedDisplayObject=function(t){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(ie.RESOLUTION);var a=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),u=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=ho.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:t.multisample}),f="cacheAsBitmap_"+co();this._cacheData.textureCacheId=f,Ne.addToCache(c.baseTexture,f),me.addToCache(c,f);var h=this.transform.localTransform.copyTo(zN).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(a,s,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new xi(c);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};wt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};wt.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;r.ceil(ie.RESOLUTION);var a=ho.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+co();this._cacheData.textureCacheId=s,Ne.addToCache(a.baseTexture,s),me.addToCache(a,s);var u=zN;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=r.x,u.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new xi(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};wt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};wt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};wt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ne.removeFromCache(this._cacheData.textureCacheId),me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};wt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */wt.prototype.name=null;xr.prototype.getChildByName=function(t,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(o.getChildByName){var a=o.getChildByName(t,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */wt.prototype.getGlobalPosition=function(t,r){return t===void 0&&(t=new Ae),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,t,r):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/app - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var HN=function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,s=o.clientHeight;n=a,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e.extension=Xe.Application,e}(),h1=function(){function e(t){var r=this;this.stage=new xr,t=Object.assign({forceCanvas:!1},t),this.renderer=qI(t),e._plugins.forEach(function(n){n.init.call(r,t)})}return e.registerPlugin=function(t){_r("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),ri.add({type:Xe.Application,ref:t})},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}();ri.handleByList(Xe.Application,h1._plugins);ri.add(HN);/*!
 * @pixi/mesh-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C_=function(e,t){return C_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},C_(e,t)};function Hs(e,t){C_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var VN=function(e){Hs(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,s=this.segHeight-1,u=this.width/a,l=this.height/s,c=0;c<r;c++){var f=c%this.segWidth,h=c/this.segWidth|0;n.push(f*u,h*l),i.push(f/a,h/s)}for(var d=a*s,c=0;c<d;c++){var v=c%a,g=c/a|0,p=g*this.segWidth+v,m=g*this.segWidth+v+1,y=(g+1)*this.segWidth+v,_=(g+1)*this.segWidth+v+1;o.push(p,m,y,m,_,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(hc),WN=function(e){Hs(t,e);function t(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,s=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var u=0,l=r[0],c=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var d=h*4;if(this.textureScale>0){var v=l.x-r[h].x,g=l.y-r[h].y,p=Math.sqrt(v*v+g*g);l=r[h],u+=p/c}else u=h/(f-1);a[d]=u,a[d+1]=0,a[d+2]=u,a[d+3]=1}for(var m=0,h=0;h<f-1;h++){var d=h*2;s[m++]=d,s[m++]=d+1,s[m++]=d+2,s[m++]=d+2,s[m++]=d+1,s[m++]=d+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,s=this.buffers[0].data,u=r.length,l=0;l<u;l++){var c=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=c,a=-(i.x-n.x),o=i.y-n.y;var h=Math.sqrt(o*o+a*a),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=h,a/=h,o*=d,a*=d,s[f]=c.x+o,s[f+1]=c.y+a,s[f+2]=c.x-o,s[f+3]=c.y-a,n=c}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(hc),dle=function(e){Hs(t,e);function t(r,n,i){i===void 0&&(i=0);var o=this,a=new WN(r.height,n,i),s=new bs(r);return i>0&&(r.baseTexture.wrapMode=xn.REPEAT),o=e.call(this,a,s)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,r)},t}(xs),qN=function(e){Hs(t,e);function t(r,n,i){var o=this,a=new VN(r.width,r.height,n,i),s=new bs(me.WHITE);return o=e.call(this,a,s)||this,o.texture=r,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(r.width!==i||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t}(xs),ple=function(e){Hs(t,e);function t(r,n,i,o,a){r===void 0&&(r=me.EMPTY);var s=this,u=new hc(n,i,o);u.getBuffer("aVertexPosition").static=!1;var l=new bs(r);return s=e.call(this,u,l,null,a)||this,s.autoUpdate=!0,s}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t}(xs),af=10,vle=function(e){Hs(t,e);function t(r,n,i,o,a){n===void 0&&(n=af),i===void 0&&(i=af),o===void 0&&(o=af),a===void 0&&(a=af);var s=e.call(this,me.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=o,s._topHeight=i,s._bottomHeight=a,s.texture=r,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(qN);/*!
 * @pixi/sprite-animated - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O_=function(e,t){return O_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},O_(e,t)};function mle(e,t){O_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gle=function(e){mle(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r[0]instanceof me?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ht.shared.add(this.update,this,Kn.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(me.from(r[i]));return new t(n)},t.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(me.from(r[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof me)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ht.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(xi);/*!
 * pixi.js - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ri.add(tN,oN,iN,xN,RN,i1,MN,$N,fN,gN,yN,NN,EI,sN);var A_={AlphaFilter:UN,BlurFilter:Jue,BlurFilterPass:Ul,ColorMatrixFilter:S_,DisplacementFilter:ile,FXAAFilter:ule,NoiseFilter:fle};const yle=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return sn},AbstractBatchRenderer:YI,AbstractMultiResource:mp,AbstractRenderer:WI,AccessibilityManager:tN,AnimatedSprite:gle,AppLoaderPlugin:sN,Application:h1,ArrayResource:Nb,Attribute:e_,get BLEND_MODES(){return fe},get BUFFER_BITS(){return Tl},get BUFFER_TYPE(){return bn},BaseImageResource:Zn,BasePrepare:PN,BaseRenderTexture:Bb,BaseTexture:Ne,BatchDrawCall:Lh,BatchGeometry:n1,BatchPluginFactory:ZI,BatchRenderer:i1,BatchShaderGenerator:KI,BatchSystem:Gb,BatchTextureArray:Mh,BitmapFont:li,BitmapFontData:$l,BitmapFontLoader:$N,BitmapText:Hue,BlobResource:cN,Bounds:Ml,BrowserAdapter:LR,Buffer:Pt,BufferResource:pa,get CLEAR_MODES(){return Zr},get COLOR_MASK_BITS(){return Iy},CanvasResource:Lb,Circle:xI,CompressedTextureLoader:fN,CompressedTextureResource:Dh,Container:xr,ContextSystem:zb,CountLimiter:AN,CubeResource:Mb,DDSLoader:gN,DEG_TO_RAD:fo,get DRAW_MODES(){return en},DisplayObject:wt,get ENV(){return Yn},Ellipse:bI,get ExtensionType(){return Xe},Extract:oN,get FORMATS(){return ee},FORMATS_TO_COMPONENTS:pN,FillStyle:a1,Filter:ye,FilterState:AI,FilterSystem:Ub,Framebuffer:Nh,FramebufferSystem:Hb,get GC_MODES(){return Ol},GLFramebuffer:PI,GLProgram:zI,GLTexture:Nf,GRAPHICS_CURVES:ys,Geometry:Gs,GeometrySystem:Vb,Graphics:jl,GraphicsData:h_,GraphicsGeometry:CN,IGLUniformData:Jae,INSTALLED:Fl,get INTERNAL_FORMATS(){return xe},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Dl,ImageBitmapResource:Db,ImageResource:gp,InteractionData:t_,InteractionEvent:rN,InteractionManager:iN,InteractionTrackingData:Lf,KTXLoader:yN,get LINE_CAP(){return mi},get LINE_JOIN(){return Bn},LineStyle:ON,Loader:gs,get LoaderResource(){return gt},get MASK_TYPES(){return Tt},get MIPMAP_MODES(){return Lr},get MSAA_QUALITY(){return ut},MaskData:kI,MaskSystem:Wb,Matrix:Rt,Mesh:xs,MeshBatchUvs:FN,MeshGeometry:hc,MeshMaterial:bs,NineSlicePlane:vle,ObjectRenderer:fc,ObservablePoint:zi,PI_2:Ll,get PRECISION(){return kr},ParticleContainer:sue,ParticleRenderer:xN,PlaneGeometry:VN,Point:Ae,Polygon:el,Prepare:RN,Program:zs,ProjectionSystem:Yb,Quad:OI,QuadUv:$b,RAD_TO_DEG:_I,get RENDERER_TYPE(){return ps},Rectangle:Le,RenderTexture:ho,RenderTexturePool:CI,RenderTextureSystem:Kb,Renderer:t1,ResizePlugin:HN,Resource:ra,RopeGeometry:WN,RoundedRectangle:SI,Runner:zt,get SAMPLER_TYPES(){return Cl},get SCALE_MODES(){return Pr},get SHAPES(){return Ft},SVGResource:Fb,ScissorSystem:qb,Shader:_i,ShaderSystem:Zb,SimpleMesh:ple,SimplePlane:qN,SimpleRope:dle,Sprite:xi,SpriteMaskFilter:DI,Spritesheet:IN,SpritesheetLoader:NN,State:xo,StateSystem:Jb,StencilSystem:Xb,System:pse,get TARGETS(){return eo},get TEXT_GRADIENT(){return _s},get TYPES(){return he},TYPES_TO_BYTES_PER_COMPONENT:a_,TYPES_TO_BYTES_PER_PIXEL:vN,TemporaryDisplayObject:Ib,Text:l1,TextFormat:DN,TextMetrics:Cn,TextStyle:na,Texture:me,TextureGCSystem:Qb,TextureLoader:uN,TextureMatrix:_p,TextureSystem:e1,TextureUvs:jb,Ticker:Ht,TickerPlugin:EI,TilingSprite:Rue,TilingSpriteRenderer:MN,TimeLimiter:kue,Transform:kb,get UPDATE_PRIORITY(){return Kn},UniformGroup:to,VERSION:gse,VideoResource:yp,ViewableBuffer:Fh,get WRAP_MODES(){return xn},XMLFormat:Bh,XMLStringFormat:BN,accessibleTarget:eN,autoDetectFormat:f1,autoDetectRenderer:qI,autoDetectResource:vp,checkMaxIfStatementsInShader:FI,createUBOElements:$I,defaultFilterVertex:r1,defaultVertex:XI,extensions:ri,filters:A_,generateProgram:HI,generateUniformBufferSync:GI,getTestContext:NI,getUBOData:UI,graphicsUtils:due,groupD8:ft,interactiveTarget:nN,isMobile:tn,parseDDS:dN,parseKTX:mN,resources:JI,settings:ie,systems:QI,uniformParsers:qo,utils:bae},Symbol.toStringTag,{value:"Module"}));let sf;const _le=new Uint8Array(16);function xle(){if(!sf&&(sf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sf(_le)}const Yt=[];for(let e=0;e<256;++e)Yt.push((e+256).toString(16).slice(1));function ble(e,t=0){return Yt[e[t+0]]+Yt[e[t+1]]+Yt[e[t+2]]+Yt[e[t+3]]+"-"+Yt[e[t+4]]+Yt[e[t+5]]+"-"+Yt[e[t+6]]+Yt[e[t+7]]+"-"+Yt[e[t+8]]+Yt[e[t+9]]+"-"+Yt[e[t+10]]+Yt[e[t+11]]+Yt[e[t+12]]+Yt[e[t+13]]+Yt[e[t+14]]+Yt[e[t+15]]}const Sle=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iO={randomUUID:Sle};function Ni(e,t,r){if(iO.randomUUID&&!t&&!e)return iO.randomUUID();e=e||{};const n=e.random||(e.rng||xle)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return ble(n)}const d1=()=>{re.warn("");for(let e=0;e<C.gameplay.performController.performList.length;e++){const t=C.gameplay.performController.performList[e];t.stopFunction(),clearTimeout(t.stopTimeout),C.gameplay.performController.performList.splice(e,1),e--}},p1=()=>{const e=B.getState().stage,t=yt(e.PerformList);B.dispatch(Lt.removeAllPerform()),t.forEach(r=>{k1(r.script)})},XN=(e,t=!0)=>{const r=B.dispatch,n=C.backlogManager.getBacklog()[e];re.debug("backlog",n),t&&ti(n.saveScene.sceneUrl).then(o=>{C.sceneManager.sceneData.currentScene=On(o,n.saveScene.sceneName,n.saveScene.sceneUrl);const a=C.sceneManager.sceneData.currentScene.subSceneList;C.sceneManager.settledScenes.push(C.sceneManager.sceneData.currentScene.sceneUrl);const s=nc(a);ic(s)}),C.sceneManager.sceneData.currentSentenceId=n.saveScene.currentSentenceId,C.sceneManager.sceneData.sceneStack=yt(n.saveScene.sceneStack),d1();for(let o=C.backlogManager.getBacklog().length-1;o>e;o--)C.backlogManager.getBacklog().pop();C.backlogManager.isSaveBacklogNext=!0;const i=yt(n.currentStageState);r(Ud(i)),setTimeout(p1,0),r(Ie({component:"showBacklog",visibility:!1})),r(Ie({component:"showTextBox",visibility:!0}))};function dc(e){const t=document.getElementById("ebg");t&&(t.style.backgroundImage=`url("${e}")`)}const YN=e=>{const r=B.getState().saveData.saveData[e];re.debug("",r),KN(r)};function KN(e){if(!e){re.info("");return}const t=e;ti(t.sceneData.sceneUrl).then(o=>{C.sceneManager.sceneData.currentScene=On(o,t.sceneData.sceneName,t.sceneData.sceneUrl);const a=C.sceneManager.sceneData.currentScene.subSceneList;C.sceneManager.settledScenes.push(C.sceneManager.sceneData.currentScene.sceneUrl);const s=nc(a);ic(s)}),C.sceneManager.sceneData.currentSentenceId=t.sceneData.currentSentenceId,C.sceneManager.sceneData.sceneStack=yt(t.sceneData.sceneStack),d1();const r=t.backlog;C.backlogManager.getBacklog().splice(0,C.backlogManager.getBacklog().length);for(const o of r)C.backlogManager.getBacklog().push(o);const n=yt(t.nowStageState),i=B.dispatch;i(Ud(n)),setTimeout(p1,0),i(Ie({component:"showTitle",visibility:!1})),i(Ie({component:"showMenuPanel",visibility:!1})),dc(B.getState().stage.bgName)}function Df(e,t){for(let r=e;r<=t;r++){const n=B.getState().saveData.saveData[r];ca.setItem(`${C.gameKey}-saves${r}`,n).then(()=>{re.info(`${r}`)})}}function xp(e,t){for(let r=e;r<=t;r++)ca.getItem(`${C.gameKey}-saves${r}`).then(n=>{B.dispatch(vi.saveGame({index:r,saveData:n})),re.info(`${r}`)})}async function Bf(){const e=B.getState().saveData.quickSaveData;await ca.setItem(`${C.gameKey}-saves-fast`,e),re.info("")}async function v1(){const e=await ca.getItem(`${C.gameKey}-saves-fast`);B.dispatch(vi.setFastSave(e)),re.info("")}const P_=e=>{const t=ZN(e);B.dispatch(vi.saveGame({index:e,saveData:t})),Df(e,e)};function ZN(e,t=!0){const r=B.getState().stage,n=yt(C.backlogManager.getBacklog());let i="";if(t){const a=document.getElementById("pixiCanvas"),s=document.createElement("canvas"),u=s.getContext("2d");s.width=480,s.height=270,u.drawImage(a,0,0,480,270),i=s.toDataURL("image/webp",.5),s.remove()}return{nowStageState:yt(r),backlog:n,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:C.sceneManager.sceneData.currentSentenceId,sceneStack:yt(C.sceneManager.sceneData.sceneStack),sceneName:C.sceneManager.sceneData.currentScene.sceneName,sceneUrl:C.sceneManager.sceneData.currentScene.sceneUrl},previewImage:i}}function wle(){`${C.gameName}${C.gameKey}`,`${C.gameName}${C.gameKey}`}async function Ele(){const e=ZN(-1,!1),t=yt(e);B.dispatch(vi.setFastSave(t)),await Bf()}async function Tle(){return await xk(),B.getState().saveData.quickSaveData!==null}async function Cle(){await v1();const e=B.getState().saveData.quickSaveData;e&&KN(e)}const Ole=e=>{const t=B.dispatch;bl.get(e).then(async r=>{var a,s;let n=r.data,i=Ap.parseConfig(n);re.info("",i);const o=i.find(u=>u.command==="Game_key");C.gameKey=((a=o==null?void 0:o.args)==null?void 0:a[0])??"",wle(),await xk(),v1(),xp(0,0),i.forEach(u=>{const{command:l,args:c}=u;if(c.length>0)if(c.length>1)t(kE({key:l,value:c.join("|")}));else{let f=c[0].trim();/^(true|false)$/g.test(c[0])?f=f==="true":/^[0-9]+\.?[0-9]+$/g.test(c[0])&&(f=Number(f)),t(kE({key:l,value:f})),l==="Enable_Appreciation"&&t(Q9(f))}}),(s=window==null?void 0:window.renderPromise)==null||s.call(window),delete window.renderPromise,vt()})},bp=(e,t=!0)=>{e&&C.backlogManager.makeBacklogEmpty(),t&&C.sceneManager.resetScene(),C.gameplay.performController.removeAllPerform(),C.gameplay.resetGamePlay();const r=yt(J2),n=B.getState().stage.GameVar;B.dispatch(Ud(r)),t||B.dispatch(Te({key:"GameVar",value:n}))};let k_;const Ale=(e,t,r=!1)=>{re.warn(""+e+":"+t);const n=B.dispatch;n(Ie({component:"showTitle",visibility:!1})),n(Ie({component:"showMenuPanel",visibility:!1})),n(Ie({component:"isShowLogo",visibility:!1}));const i=document.getElementById("Title_enter_page");i&&(i.style.display="none");const o=yt(C.sceneManager.sceneData.currentScene),a=jr(e,Br.scene);ti(a).then(s=>{const u=Ple(o,C.sceneManager.sceneData.currentScene,t),l=Math.min(t,u),c=kle(l,e),f=c>=0&&r;bp(!f),C.sceneManager.sceneData.currentScene=On(s,e,a);const h=C.sceneManager.sceneData.currentScene.sceneName;C.gameplay.isFast=!0,f&&XN(c,!1),k_&&clearTimeout(k_),m1(t,h)})};function m1(e,t){C.sceneManager.sceneData.currentSentenceId<e&&C.sceneManager.sceneData.currentScene.sceneName===t?(ir(),k_=setTimeout(()=>m1(e,t),2)):C.gameplay.isFast=!1}function Ple(e,t,r){let n=0;for(let i=0;i<r&&i<e.sentenceList.length;i++){const o=JSON.stringify(e.sentenceList[i]),a=JSON.stringify(t.sentenceList[i]);if(o!==a)break;n=i}return n}function kle(e,t){let r=-1;return C.backlogManager.getBacklog().forEach((n,i)=>{const o=n.saveScene.currentSentenceId,a=n.saveScene.sceneName;o<=e&&a===t&&(r=i)}),r}const Rle=()=>{window.JMP=m1};var ki=(e=>(e[e.JUMP=0]="JUMP",e[e.SYNCFC=1]="SYNCFC",e[e.SYNCFE=2]="SYNCFE",e[e.EXE_COMMAND=3]="EXE_COMMAND",e[e.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",e[e.SET_COMPONENT_VISIBILITY=5]="SET_COMPONENT_VISIBILITY",e[e.TEMP_SCENE=6]="TEMP_SCENE",e[e.FONT_OPTIMIZATION=7]="FONT_OPTIMIZATION",e))(ki||{});const Ile=()=>{const e=window.location.hostname,t=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),t!=="http:"&&t!=="https:")return;let i=`ws://${e}${n}/api/webgalsync`;t==="https:"&&(i=`wss://${e}${n}/api/webgalsync`),re.info("socket"+i);const o=new WebSocket(i);o.onopen=()=>{re.info("socket");function a(){const s={event:"message",data:{command:ki.SYNCFC,sceneMsg:{scene:C.sceneManager.sceneData.currentScene.sceneName,sentence:C.sceneManager.sceneData.currentSentenceId},stageSyncMsg:B.getState().stage,message:"sync"}};o.send(JSON.stringify(s)),setTimeout(a,1e3)}a()},o.onmessage=a=>{const s=a.data,l=JSON.parse(s).data;if(l.command===ki.JUMP&&Ale(l.sceneMsg.scene,l.sceneMsg.sentence,l.message==="exp"),l.command===ki.EXE_COMMAND){const c=l.message;Ap.parse(c,"temp.txt","temp.txt").sentenceList.forEach(h=>{k1(h)})}if(l.command===ki.REFETCH_TEMPLATE_FILES){const c=document.getElementById("Title_enter_page");c&&(c.style.display="none"),C.events.styleUpdate.emit()}if(l.command===ki.SET_COMPONENT_VISIBILITY){const c=l.message;JSON.parse(c).forEach(h=>{h&&B.dispatch(Ie({component:h.component,visibility:h.visibility}))})}if(l.command===ki.TEMP_SCENE){const c=l.message;bp(!0),C.sceneManager.sceneData.currentScene=On(c,"temp","./temp.txt"),B.dispatch(Ie({component:"showTitle",visibility:!1})),B.dispatch(Ie({component:"showMenuPanel",visibility:!1})),B.dispatch(Ie({component:"showPanicOverlay",visibility:!1})),setTimeout(()=>{ir()},100)}if(l.command===ki.FONT_OPTIMIZATION){const c=l.message;B.dispatch(eH(c==="true"))}},o.onerror=a=>{re.info(" Terre ")}},Nle="4.5.13",JN={version:Nle,contributors:[]},Lle=navigator.userAgent,g1=!!Lle.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),Mle=()=>{re.info(`WebGAL v${JN.version}`),re.info("Github: https://github.com/OpenWebGAL/WebGAL "),re.info("Made with  by OpenWebGAL"),g1&&alert(`iOS 
| Please use landscape mode on iOS for the best experience
| iOS `),Fle("./game/userStyleSheet.css"),Dle(),Ole("./game/config.txt");const e=jr("start.txt",Br.scene);ti(e).then(t=>{C.sceneManager.sceneData.currentScene=On(t,"start.txt",e);const r=C.sceneManager.sceneData.currentScene.subSceneList;C.sceneManager.settledScenes.push(e);const n=nc(r);ic(n)}),C.gameplay.pixiStage=new Wn,Rle(),Ile()};function Fle(e){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function Dle(){bl.get("./game/animation/animationTable.json").then(e=>{const t=e.data;for(const r of t)bl.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};C.animationManager.addAnimation(i)}})})}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R_=function(e,t){return R_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},R_(e,t)};function Ble(e,t){R_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var jle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$le=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,Ule=function(e){Ble(t,e);function t(r,n){n===void 0&&(n=0);var i=e.call(this,jle,$le)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,t.defaults,r),i}return t.prototype.apply=function(r,n,i,o){var a,s;this.uniforms.dimensions[0]=(a=n.filterFrame)===null||a===void 0?void 0:a.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),t.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},t}(ye);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var I_=function(e,t){return I_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},I_(e,t)};function Gle(e,t){I_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Hle=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,Vle=function(e){Gle(t,e);function t(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=e.call(this,zle,Hle)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(t.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var N_=function(e,t){return N_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},N_(e,t)};function Wle(e,t){N_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Xle=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,Yle=function(e){Wle(t,e);function t(r){var n=e.call(this,qle,Xle)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,t.defaults,r),n}return t.prototype.apply=function(r,n,i,o){var a,s;this.uniforms.dimensions[0]=(a=n.filterFrame)===null||a===void 0?void 0:a.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),t.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},t}(ye);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var L_=function(e,t){return L_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},L_(e,t)};function Kle(e,t){L_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Zle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Jle=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,Qle=function(e){Kle(t,e);function t(r){var n=e.call(this,Zle,Jle)||this;return n.offset=100,n.fillMode=t.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=me.from(n._canvas,{scaleMode:Pr.NEAREST}),Object.assign(n,t.defaults,r),n}return t.prototype.apply=function(r,n,i,o){var a=n.filterFrame,s=a.width,u=a.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.aspect=u/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,o)},t.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,o=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var a=this._slices,s=1,u=0;u<n;u++){var l=s/(a-u),c=Math.max(l*(1-Math.random()*.6),o);r[u]=c,s-=c}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),u=0;u<n;u++){var c=Math.max(f*s*Math.random(),o);r[u]=c,s-=c}r[n]=s}this.shuffle()},t.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var o=Math.random()*i>>0,a=r[i];r[i]=r[o],r[o]=a}},t.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},t.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},t.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var o,a=0,s=0;s<this._slices;s++){o=Math.floor(this._offsets[s]*256);var u=this._sizes[s]*r,l=o>0?o:0,c=o<0?-o:0;i.fillStyle="rgba("+l+", "+c+", 0, 1)",i.fillRect(0,a>>0,r,u+1>>0),a+=u}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(t.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*fo;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},t.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},t.TRANSPARENT=0,t.ORIGINAL=1,t.LOOP=2,t.CLAMP=3,t.MIRROR=4,t}(ye);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M_=function(e,t){return M_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},M_(e,t)};function ece(e,t){M_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,rce=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,nce=function(e){ece(t,e);function t(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var o=e.call(this,tce,rce)||this;return o.red=r,o.green=n,o.blue=i,o}return Object.defineProperty(t.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var F_=function(e,t){return F_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},F_(e,t)};function ice(e,t){F_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ace=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,sce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,uce=function(e){ice(t,e);function t(r){var n=e.call(this,oce,sce.replace("${perlin}",ace))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(t.defaults,r);return n._angleLight=new Ae,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return t.prototype.apply=function(r,n,i,o){var a=n.filterFrame,s=a.width,u=a.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.aspect=u/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*fo;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),t.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},t}(ye);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D_=function(e,t){return D_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},D_(e,t)};function lce(e,t){D_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`,hce=function(e){lce(t,e);function t(r){var n=e.call(this,cce,fce)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return t.prototype.apply=function(r,n,i,o){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,o)},t}(ye);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B_=function(e,t){return B_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},B_(e,t)};function dce(e,t){B_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var pce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,vce=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,mce=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,jh=function(e){dce(t,e);function t(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var o=e.call(this,pce,i?mce:vce)||this;return o._kernels=[],o._blur=4,o._quality=3,o.uniforms.uOffset=new Float32Array(2),o._pixelSize=new Ae,o.pixelSize=1,o._clamp=i,Array.isArray(r)?o.kernels=r:(o._blur=r,o.quality=n),o}return t.prototype.apply=function(r,n,i,o){var a=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,u;if(this._quality===1||this._blur===0)u=this._kernels[0]+.5,this.uniforms.uOffset[0]=u*a,this.uniforms.uOffset[1]=u*s,r.applyFilter(this,n,i,o);else{for(var l=r.getFilterTexture(),c=n,f=l,h=void 0,d=this._quality-1,v=0;v<d;v++)u=this._kernels[v]+.5,this.uniforms.uOffset[0]=u*a,this.uniforms.uOffset[1]=u*s,r.applyFilter(this,c,f,1),h=c,c=f,f=h;u=this._kernels[d]+.5,this.uniforms.uOffset[0]=u*a,this.uniforms.uOffset[1]=u*s,r.applyFilter(this,c,i,o),r.returnFilterTexture(l)}},t.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},t.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var o=r,a=r/n,s=1;s<n;s++)o-=a,i.push(o);this._kernels=i,this._updatePadding()},Object.defineProperty(t.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof Ae?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),t}(ye);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j_=function(e,t){return j_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},j_(e,t)};function QN(e,t){j_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var eL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gce=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,yce=function(e){QN(t,e);function t(r){r===void 0&&(r=.5);var n=e.call(this,eL,gce)||this;return n.threshold=r,n}return Object.defineProperty(t.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),t}(ye),_ce=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(e){QN(t,e);function t(r){var n=e.call(this,eL,_ce)||this;n.bloomScale=1,n.brightness=1,n._resolution=ie.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(t.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var o=i.kernels,a=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;return n._extractFilter=new yce(i.threshold),n._extractFilter.resolution=l,n._blurFilter=o?new jh(o):new jh(a,s),n.pixelSize=u,n.resolution=l,n}return t.prototype.apply=function(r,n,i,o,a){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,a);var u=r.getFilterTexture();this._blurFilter.apply(r,s,u,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=u,r.applyFilter(this,n,i,o),r.returnFilterTexture(u),r.returnFilterTexture(s)},Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),t.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:ie.FILTER_RESOLUTION},t})(ye);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $_=function(e,t){return $_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$_(e,t)};function xce(e,t){$_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Sce=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(e){xce(t,e);function t(r){r===void 0&&(r=8);var n=e.call(this,bce,Sce)||this;return n.size=r,n}return Object.defineProperty(t.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var U_=function(e,t){return U_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},U_(e,t)};function wce(e,t){U_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ece=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Tce=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(e){wce(t,e);function t(r){var n=e.call(this,Ece,Tce)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return t.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._angle/fo},set:function(r){this._angle=r*fo,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightColor",{get:function(){return un(this.uniforms.lightColor)},set:function(r){qt(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowColor",{get:function(){return un(this.uniforms.shadowColor)},set:function(r){qt(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var G_=function(e,t){return G_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},G_(e,t)};function Cce(e,t){G_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){Cce(t,e);function t(r,n,i,o){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=ie.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this,s,u;return typeof r=="number"?(s=r,u=r):r instanceof Ae?(s=r.x,u=r.y):Array.isArray(r)&&(s=r[0],u=r[1]),a.blurXFilter=new Ul(!0,s,n,i,o),a.blurYFilter=new Ul(!1,u,n,i,o),a.blurYFilter.blendMode=fe.SCREEN,a.defaultFilter=new UN,a}return t.prototype.apply=function(r,n,i,o){var a=r.getFilterTexture();this.defaultFilter.apply(r,n,i,o),this.blurXFilter.apply(r,n,a,1),this.blurYFilter.apply(r,a,i,0),r.returnFilterTexture(a)},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z_=function(e,t){return z_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},z_(e,t)};function Oce(e,t){z_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ace=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Pce=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(e){Oce(t,e);function t(r){var n=e.call(this,Ace,Pce)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,t.defaults,r),n}return t.prototype.apply=function(r,n,i,o){var a=n.filterFrame,s=a.width,u=a.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),t.defaults={center:[.5,.5],radius:100,strength:1},t})(ye);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H_=function(e,t){return H_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},H_(e,t)};function kce(e,t){H_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ice=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(e){kce(t,e);function t(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var o=e.call(this,Rce,Ice)||this;return o.mix=1,o._size=0,o._sliceSize=0,o._slicePixelSize=0,o._sliceInnerSize=0,o._nearest=!1,o._scaleMode=null,o._colorMap=null,o._scaleMode=null,o.nearest=n,o.mix=i,o.colorMap=r,o}return t.prototype.apply=function(r,n,i,o){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof me||(r=me.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Lr.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?Pr.NEAREST:Pr.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Lr.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),t.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),e.prototype.destroy.call(this)},t})(ye);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V_=function(e,t){return V_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},V_(e,t)};function Nce(e,t){V_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Lce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Mce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(e){Nce(t,e);function t(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=e.call(this,Lce,Mce)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(qt(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=un(n))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W_=function(e,t){return W_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},W_(e,t)};function Fce(e,t){W_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Dce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Bce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(e){Fce(t,e);function t(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var o=e.call(this,Dce,Bce)||this;return o._originalColor=16711680,o._newColor=0,o.uniforms.originalColor=new Float32Array(3),o.uniforms.newColor=new Float32Array(3),o.originalColor=r,o.newColor=n,o.epsilon=i,o}return Object.defineProperty(t.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(qt(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=un(n))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(qt(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=un(n))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q_=function(e,t){return q_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},q_(e,t)};function jce(e,t){q_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $ce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Uce=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(e){jce(t,e);function t(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var o=e.call(this,$ce,Uce)||this;return o.uniforms.texelSize=new Float32Array(2),o.uniforms.matrix=new Float32Array(9),r!==void 0&&(o.matrix=r),o.width=n,o.height=i,o}return Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,o){n.uniforms.matrix[o]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var X_=function(e,t){return X_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},X_(e,t)};function Gce(e,t){X_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Hce=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(e){Gce(t,e);function t(){return e.call(this,zce,Hce)||this}return t})(ye);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y_=function(e,t){return Y_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Y_(e,t)};function Vce(e,t){Y_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(e){Vce(t,e);function t(r){var n=e.call(this,Wce,qce)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,t.defaults,r),n}return t.prototype.apply=function(r,n,i,o){var a=n.filterFrame,s=a.width,u=a.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),t.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},t})(ye);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K_=function(e,t){return K_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},K_(e,t)};function Xce(e,t){K_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $h=function(){return $h=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$h.apply(this,arguments)},Yce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Kce=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(e){Xce(t,e);function t(r){var n=e.call(this)||this;n.angle=45,n._distance=5,n._resolution=ie.FILTER_RESOLUTION;var i=r?$h($h({},t.defaults),r):t.defaults,o=i.kernels,a=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;n._tintFilter=new ye(Yce,Kce),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new Ae,n._tintFilter.resolution=l,n._blurFilter=o?new jh(o):new jh(a,s),n.pixelSize=u,n.resolution=l;var c=i.shadowOnly,f=i.rotation,h=i.distance,d=i.alpha,v=i.color;return n.shadowOnly=c,n.rotation=f,n.distance=h,n.alpha=d,n.color=v,n._updatePadding(),n}return t.prototype.apply=function(r,n,i,o){var a=r.getFilterTexture();this._tintFilter.apply(r,n,a,1),this._blurFilter.apply(r,a,i,o),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(a)},t.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},t.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.angle/fo},set:function(r){this.angle=r*fo,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return un(this._tintFilter.uniforms.color)},set:function(r){qt(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),t.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:ie.FILTER_RESOLUTION},t})(ye);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Z_=function(e,t){return Z_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Z_(e,t)};function Zce(e,t){Z_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Jce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Qce=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(e){Zce(t,e);function t(r){r===void 0&&(r=5);var n=e.call(this,Jce,Qce)||this;return n.strength=r,n}return Object.defineProperty(t.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J_=function(e,t){return J_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},J_(e,t)};function efe(e,t){J_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,rfe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(e){efe(t,e);function t(r){var n=this,i=Object.assign({},t.defaults,r),o=i.outerStrength,a=i.innerStrength,s=i.color,u=i.knockout,l=i.quality,c=Math.round(i.distance);return n=e.call(this,tfe,rfe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/c).toFixed(7)).replace(/__DIST__/gi,c.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:o,innerStrength:a,padding:c,knockout:u}),n}return Object.defineProperty(t.prototype,"color",{get:function(){return un(this.uniforms.glowColor)},set:function(r){qt(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),t.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},t})(ye);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q_=function(e,t){return Q_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Q_(e,t)};function nfe(e,t){Q_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ife=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ofe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(e){nfe(t,e);function t(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var o=e.call(this,ife,ofe)||this;return o.kernelSize=5,o.uniforms.uVelocity=new Float32Array(2),o._velocity=new zi(o.velocityChanged,o),o.setVelocity(r),o.kernelSize=n,o.offset=i,o}return t.prototype.apply=function(r,n,i,o){var a=this.velocity,s=a.x,u=a.y;this.uniforms.uKernelSize=s!==0||u!==0?this.kernelSize:0,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),t.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},t.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(t.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var e0=function(e,t){return e0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},e0(e,t)};function afe(e,t){e0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ufe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(e){afe(t,e);function t(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var o=e.call(this,sfe,ufe.replace(/%maxColors%/g,i.toFixed(0)))||this;return o._replacements=[],o._maxColors=0,o.epsilon=n,o._maxColors=i,o.uniforms.originalColors=new Float32Array(i*3),o.uniforms.targetColors=new Float32Array(i*3),o.replacements=r,o}return Object.defineProperty(t.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,o=r.length;if(o>this._maxColors)throw new Error("Length of replacements ("+o+") exceeds the maximum colors length ("+this._maxColors+")");n[o*3]=-1;for(var a=0;a<o;a++){var s=r[a],u=s[0];typeof u=="number"?u=qt(u):s[0]=un(u),n[a*3]=u[0],n[a*3+1]=u[1],n[a*3+2]=u[2];var l=s[1];typeof l=="number"?l=qt(l):s[1]=un(l),i[a*3]=l[0],i[a*3+1]=l[1],i[a*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(t.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t0=function(e,t){return t0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t0(e,t)};function lfe(e,t){t0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ffe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(e){lfe(t,e);function t(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var o=e.call(this,cfe,ffe.replace(/\$\{angleStep\}/,t.getAngleStep(i)))||this;return o._thickness=1,o.uniforms.thickness=new Float32Array([0,0]),o.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(o,{thickness:r,color:n,quality:i}),o}return t.getAngleStep=function(r){var n=Math.max(r*t.MAX_SAMPLES,t.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},t.prototype.apply=function(r,n,i,o){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"color",{get:function(){return un(this.uniforms.outlineColor)},set:function(r){qt(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),t.MIN_SAMPLES=1,t.MAX_SAMPLES=100,t})(ye);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r0=function(e,t){return r0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},r0(e,t)};function hfe(e,t){r0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var dfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pfe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(e){hfe(t,e);function t(r){r===void 0&&(r=10);var n=e.call(this,dfe,pfe)||this;return n.size=r,n}return Object.defineProperty(t.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n0=function(e,t){return n0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},n0(e,t)};function vfe(e,t){n0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var mfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gfe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(e){vfe(t,e);function t(r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),o===void 0&&(o=-1);var a=e.call(this,mfe,gfe)||this;return a._angle=0,a.angle=r,a.center=n,a.kernelSize=i,a.radius=o,a}return t.prototype.apply=function(r,n,i,o){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i0=function(e,t){return i0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},i0(e,t)};function yfe(e,t){i0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _fe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xfe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,bfe=function(e){yfe(t,e);function t(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var o=e.call(this,_fe,xfe)||this;return o.center=r,Object.assign(o,t.defaults,n),o.time=i,o}return t.prototype.apply=function(r,n,i,o){this.uniforms.time=this.time,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),t.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},t}(ye);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o0=function(e,t){return o0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},o0(e,t)};function Sfe(e,t){o0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Efe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(e){Sfe(t,e);function t(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var o=e.call(this,wfe,Efe)||this;return o._color=0,o.uniforms.dimensions=new Float32Array(2),o.uniforms.ambientColor=new Float32Array([0,0,0,i]),o.texture=r,o.color=n,o}return t.prototype.apply=function(r,n,i,o){var a,s;this.uniforms.dimensions[0]=(a=n.filterFrame)===null||a===void 0?void 0:a.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(qt(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=un(n))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a0=function(e,t){return a0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},a0(e,t)};function Sp(e,t){a0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Tfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Cfe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,tL=function(e){Sp(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=600);var a=e.call(this,Tfe,Cfe)||this;return a.uniforms.blur=r,a.uniforms.gradientBlur=n,a.uniforms.start=i||new Ae(0,window.innerHeight/2),a.uniforms.end=o||new Ae(600,window.innerHeight/2),a.uniforms.delta=new Ae(30,30),a.uniforms.texSize=new Ae(window.innerWidth,window.innerHeight),a.updateDelta(),a}return t.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(t.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),t}(ye),Ofe=function(e){Sp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},t}(tL),Afe=function(e){Sp(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},t}(tL);(function(e){Sp(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=600);var a=e.call(this)||this;return a.tiltShiftXFilter=new Ofe(r,n,i,o),a.tiltShiftYFilter=new Afe(r,n,i,o),a}return t.prototype.apply=function(r,n,i,o){var a=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,a,1),this.tiltShiftYFilter.apply(r,a,i,o),r.returnFilterTexture(a)},Object.defineProperty(t.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),t})(ye);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s0=function(e,t){return s0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},s0(e,t)};function Pfe(e,t){s0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var kfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Rfe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(e){Pfe(t,e);function t(r){var n=e.call(this,kfe,Rfe)||this;return Object.assign(n,t.defaults,r),n}return Object.defineProperty(t.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),t.defaults={radius:200,angle:4,padding:20,offset:new Ae},t})(ye);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u0=function(e,t){return u0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},u0(e,t)};function Ife(e,t){u0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Nfe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var Lfe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Mfe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(e){Ife(t,e);function t(r){var n=this,i=Object.assign(t.defaults,r),o=i.maxKernelSize,a=Nfe(i,["maxKernelSize"]);return n=e.call(this,Lfe,Mfe.replace("${maxKernelSize}",o.toFixed(1)))||this,Object.assign(n,a),n}return Object.defineProperty(t.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),t.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},t})(ye);const l0="shockwaveFilter";function Ffe(e,t){const r=e.containerFilters.get(l0);if(r)return r;if(t){const n=new bfe([1280,720]);return n.time=0,e.addFilter(n),e.containerFilters.set(l0,n),n}}function Dfe(e){return e.getOrCreateShockwaveFilter(!1)?e.getOrCreateShockwaveFilter().time:0}function Bfe(e,t){if(t===0)e.removeFilter(l0);else{const r=e.getOrCreateShockwaveFilter();r&&(r.time=t)}}const c0=0,f0="radiusAlphaFilter";class jfe extends ye{constructor(t,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[t.x,t.y],this.uniforms.radius=r}set center(t){this.uniforms.center=[t.x,t.y]}get center(){return new Ae(this.uniforms.center[0],this.uniforms.center[1])}set radius(t){this.uniforms.radius=t}get radius(){return this.uniforms.radius}}function $fe(e,t){const r=e.containerFilters.get(f0);if(r)return r;if(t){const n=new jfe(new Ae(.5,.5),c0);return n.radius=c0,e.addFilter(n),e.containerFilters.set(f0,n),n}}function Ufe(e){return e.getOrCreateShockwaveFilter(!1)?e.getOrCreateRadiusAlphaFilter().radius:c0}function Gfe(e,t){if(t===0)e.removeFilter(f0);else{const r=e.getOrCreateRadiusAlphaFilter();r&&(r.radius=t)}}class ja extends xr{constructor(){super();oe(this,"containerFilters",new Map);oe(this,"baseX",0);oe(this,"baseY",0);oe(this,"alphaFilter",new A_.AlphaFilter(1));this.addFilter(this.alphaFilter)}get alphaFilterVal(){return this.alphaFilter.alpha}set alphaFilterVal(r){this.alphaFilter.alpha=r}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(o=>o===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new A_.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateAdjustmentFilter(){const r=this.containerFilters.get("adjustment");if(r)return r;{const n=new hce;return this.addFilter(n),this.containerFilters.set("adjustment",n),n}}isAdjustmentFilterExist(){return this.containerFilters.has("adjustment")}get brightness(){return this.getOrCreateAdjustmentFilter().brightness}set brightness(r){r===1&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().brightness=r)}get contrast(){return this.getOrCreateAdjustmentFilter().contrast}set contrast(r){r===1&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().contrast=r)}get saturation(){return this.getOrCreateAdjustmentFilter().saturation}set saturation(r){r===1&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().saturation=r)}get gamma(){return this.getOrCreateAdjustmentFilter().gamma}set gamma(r){r===1&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().gamma=r)}get colorRed(){return this.getOrCreateAdjustmentFilter().red*255}set colorRed(r){r===255&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().red=r/255)}get colorGreen(){return this.getOrCreateAdjustmentFilter().green*255}set colorGreen(r){r===255&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().green=r/255)}get colorBlue(){return this.getOrCreateAdjustmentFilter().blue*255}set colorBlue(r){r===255&&!this.isAdjustmentFilterExist()||(this.getOrCreateAdjustmentFilter().blue=r/255)}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new Ule;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new Vle;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new Yle;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new Qle;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new nce;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new uce;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return Ffe(this,r)}get shockwaveFilter(){return Dfe(this)}set shockwaveFilter(r){Bfe(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return $fe(this,r)}get radiusAlphaFilter(){return Ufe(this)}set radiusAlphaFilter(r){Gfe(this,r)}}const Uh={height:1440,width:2560};let zfe=null,rL;async function nL(){return zfe}async function Hfe(e,t,r="center"){const n=`spine-${t}`,i=await nL(),o=new ja;this.figureObjects.findIndex(f=>f.key===e)>=0&&this.removeStageObjectByKey(e);const u=this.getFigureMetadataByKey(e);u&&u.zIndex&&(o.zIndex=u.zIndex),this.figureContainer.addChild(o);const l=Ni();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:t,sourceType:"spine",sourceExt:this.getExtName(t)});const c=async()=>{if(!i){re.warn(`Spine module not loaded. Skipping Spine figure: ${e}`);return}};this.cacheGC(),rL.add(n,t).load(c)}async function Vfe(e,t){const r=`spine-${t}`,n=new ja;this.backgroundObjects.findIndex(u=>u.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(n);const a=Ni();this.backgroundObjects.push({uuid:a,key:e,pixiContainer:n,sourceUrl:t,sourceType:"spine",sourceExt:this.getExtName(t)});const s=async()=>{if(!await nL()){re.warn(`Spine module not loaded. Skipping Spine background: ${e}`);return}setTimeout(()=>{},0)};this.cacheGC(),rL.add(r,t).load(s)}window.PIXI=yle;class Wn{constructor(){oe(this,"currentApp",null);oe(this,"effectsContainer");oe(this,"frameDuration",16.67);oe(this,"notUpdateBacklogEffects",!1);oe(this,"figureContainer");oe(this,"figureObjects",[]);oe(this,"stageWidth",Uh.width);oe(this,"stageHeight",Uh.height);oe(this,"assetLoader",new gs);oe(this,"backgroundContainer");oe(this,"backgroundObjects",[]);oe(this,"addSpineFigure",Hfe.bind(this));oe(this,"addSpineBg",Vfe.bind(this));oe(this,"stageAnimations",[]);oe(this,"loadQueue",[]);oe(this,"live2dFigureRecorder",[]);oe(this,"lockTransformTarget",[]);oe(this,"MAX_TEX_COUNT",10);oe(this,"isLive2dAvailable");oe(this,"figureCash");oe(this,"live2DModel");oe(this,"soundManager");const t=new h1({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=t;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.view.id="pixiCanvas",t.renderer.autoResize=!0;const n=document.getElementById("root");n&&t.renderer.resize(n.clientWidth,n.clientHeight),g1&&(t.renderer.view.style.zIndex="-5"),t.stage.sortableChildren=!0,this.effectsContainer=new xr,this.effectsContainer.zIndex=3,this.figureContainer=new xr,this.figureContainer.sortableChildren=!0,this.figureContainer.zIndex=2,this.backgroundContainer=new xr,this.backgroundContainer.zIndex=0,t.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=t;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const o=()=>{setTimeout(o,500),this.callLoader()};o(),this.initialize().then(()=>{})}static assignTransform(t,r){if(!r)return;const n=t.scale,i=t.position;t.scale&&Object.assign(n,r.scale),t.position&&Object.assign(i,r.position),Object.assign(t,r),t.scale=n,t.position=i}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(t,r,n="default"){var i;t&&(this.stageAnimations.push({uuid:Ni(),animationObject:t,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),t.setStartState(),(i=this.currentApp)==null||i.ticker.add(t.tickerFunc))}registerPresetAnimation(t,r,n="default",i){var a;if(!t)return;const o=i.find(s=>s.target===n);if(o){const s=this.getStageObjByKey(n);if(s){const u=s.pixiContainer;Wn.assignTransform(u,o.transform)}return}this.stageAnimations.push({uuid:Ni(),animationObject:t,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),t.setStartState(),(a=this.currentApp)==null||a.ticker.add(t.tickerFunc)}stopPresetAnimationOnTarget(t){const r=this.stageAnimations.find(n=>n.targetKey===t&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(t){var n;const r=this.stageAnimations.findIndex(i=>i.key===t);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(t){var n,i,o;const r=this.stageAnimations.findIndex(a=>a.key===t);if(r>=0){const a=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(a.animationObject.tickerFunc),a.animationObject.setEndState();const s=((o=(i=a.animationObject).getEndFilterEffect)==null?void 0:o.call(i))??{};if(this.unlockStageObject(a.targetKey??"default"),a.targetKey){const u=this.getStageObjByKey(a.targetKey);if(u){const l={alpha:u.pixiContainer.alphaFilterVal,scale:{x:u.pixiContainer.scale.x,y:u.pixiContainer.scale.y},position:{x:u.pixiContainer.x,y:u.pixiContainer.y},rotation:u.pixiContainer.rotation,blur:u.pixiContainer.blur,...s};let c={target:a.targetKey,transform:l};B.dispatch(Lt.updateEffect(c))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(t,r,n,i){var s;const o=(s=this.getStageObjByKey(t))==null?void 0:s.pixiContainer;if(!o)return;const a={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(a[n],()=>{var c;const u=this.assetLoader.resources[a[n]].texture,l=(c=o==null?void 0:o.children)==null?void 0:c[0];!u||!l||(l.texture=u)})}performBlinkAnimation(t,r,n,i){var s;const o=(s=this.getStageObjByKey(t))==null?void 0:s.pixiContainer;if(!o)return;const a={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(a[n],()=>{var c;const u=this.assetLoader.resources[a[n]].texture,l=(c=o==null?void 0:o.children)==null?void 0:c[0];!u||!l||(l.texture=u)})}addBg(t,r){var l,c;const n=this.assetLoader,i=new ja;this.backgroundObjects.findIndex(f=>f.key===t)>=0&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(i);const s=Ni();this.backgroundObjects.push({uuid:s,key:t,pixiContainer:i,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{setTimeout(()=>{var h,d;const f=(d=(h=n.resources)==null?void 0:h[r])==null?void 0:d.texture;if(f&&this.getStageObjByUuid(s)){const v=f.width,g=f.height,p=this.stageWidth/v,m=this.stageHeight/g,y=Math.max(p,m),_=new xi(f);_.scale.x=y,_.scale.y=y,_.anchor.set(.5),_.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(_)}},0)};this.cacheGC(),(c=(l=n.resources)==null?void 0:l[r])!=null&&c.texture?u():this.loadAsset(r,u)}addVideoBg(t,r){var l,c;const n=this.assetLoader,i=new ja;this.backgroundObjects.findIndex(f=>f.key===t)>=0&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(i);const s=Ni();this.backgroundObjects.push({uuid:s,key:t,pixiContainer:i,sourceUrl:r,sourceType:"video",sourceExt:this.getExtName(r)});const u=()=>{setTimeout(()=>{console.debug("start loaded video: "+r);const f=document.createElement("video"),h=new yp(f);h.src=r,h.source.preload="auto",h.source.muted=!0,h.source.loop=!0,h.source.autoplay=!0,h.source.src=r;const d=me.from(h);d&&this.getStageObjByUuid(s)&&d.baseTexture.resource.load().then(()=>{const v=h.source.videoWidth,g=h.source.videoHeight,p=this.stageWidth/v,m=this.stageHeight/g,y=Math.max(p,m),_=new xi(d);_.scale.x=y,_.scale.y=y,_.anchor.set(.5),_.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(_)})},0)};this.cacheGC(),(c=(l=n.resources)==null?void 0:l[r])!=null&&c.texture?u():this.loadAsset(r,u)}addFigure(t,r,n="center"){var f,h;const i=this.assetLoader,o=new ja;this.figureObjects.findIndex(d=>d.key===t)>=0&&this.removeStageObjectByKey(t);const u=this.getFigureMetadataByKey(t);u&&u.zIndex&&(o.zIndex=u.zIndex),this.figureContainer.addChild(o);const l=Ni();this.figureObjects.push({uuid:l,key:t,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const c=()=>{setTimeout(()=>{var v,g;const d=(g=(v=i.resources)==null?void 0:v[r])==null?void 0:g.texture;if(d&&this.getStageObjByUuid(l)){const p=d.width,m=d.height,y=this.stageWidth/p,_=this.stageHeight/m,x=Math.min(y,_),b=new xi(d);b.scale.x=x,b.scale.y=x,b.anchor.set(.5),b.position.y=this.stageHeight/2;const w=p*x,E=m*x;o.setBaseY(this.stageHeight/2),E<this.stageHeight&&o.setBaseY(this.stageHeight/2+(this.stageHeight-E)/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(w/2),n==="right"&&o.setBaseX(this.stageWidth-w/2),o.pivot.set(0,this.stageHeight/2),o.addChild(b)}},0)};this.cacheGC(),(h=(f=i.resources)==null?void 0:f[r])!=null&&h.texture?c():this.loadAsset(r,c)}addLive2dFigure(t,r,n,i,o){if(this.isLive2dAvailable===!0)try{let a=this.stageWidth,s=this.stageHeight;re.debug("Using motion:",i),this.figureCash.push(r);const u=this.assetLoader,l=new ja;this.figureObjects.findIndex(m=>m.key===t)>=0&&this.removeStageObjectByKey(t);const h=this.getFigureMetadataByKey(t);h&&h.zIndex&&(l.zIndex=h.zIndex),this.figureContainer.addChild(l);const d=Ni();this.figureObjects.push({uuid:d,key:t,pixiContainer:l,sourceUrl:r,sourceType:"live2d",sourceExt:"json"});const v=this,g=m=>{l&&this.getStageObjByUuid(d)&&async function(){let y=[0,0,0,0];const _=B.getState().stage.live2dMotion.find(b=>b.target===t);_!=null&&_.overrideBounds&&(y=_.overrideBounds),console.log(y),(await Promise.all([m.live2DModel.from(r,{autoInteract:!1,overWriteBounds:{x0:y[0],y0:y[1],x1:y[2],y1:y[3]}})])).forEach(b=>{const w=a/b.width,E=s/b.height,P=Math.min(w,E),A=b.width*P,k=b.height*P;b.scale.x=P,b.scale.y=P,b.anchor.set(.5),b.position.x=0,b.position.y=s/2;let F=s/2;k<s&&(F=s/2+(s-k)/2),l.setBaseY(F),n==="center"?l.setBaseX(a/2):n==="left"?l.setBaseX(A/2):n==="right"&&l.setBaseX(a-A/2),l.pivot.set(0,s/2);let j=i,z=0,q=3;const D=B.getState().stage.live2dMotion.find(de=>de.target===t),U=B.getState().stage.live2dExpression.find(de=>de.target===t);D&&(j=D.motion),v.updateL2dMotionByKey(t,j),b.motion(j,z,q);let K=o;U&&(K=U.expression),v.updateL2dExpressionByKey(t,K),b.expression(K),b.internalModel.eyeBlink&&(b.internalModel.eyeBlink.blinkInterval=1e3*60*60*24,b.internalModel.eyeBlink.nextBlinkTimeLeft=1e3*60*60*24),m.soundManager.volume=0,b.internalModel.angleXParamIndex!==void 0&&(b.internalModel.angleXParamIndex=999),b.internalModel.angleYParamIndex!==void 0&&(b.internalModel.angleYParamIndex=999),b.internalModel.angleZParamIndex!==void 0&&(b.internalModel.angleZParamIndex=999),l.addChild(b)})}()},p=Object.keys(u.resources);this.cacheGC(),p.includes(r)?g(this):this.loadAsset(r,()=>g(this))}catch(a){console.error("Live2d Module err: "+a),this.isLive2dAvailable=!1}}changeModelMotionByKey(t,r){var o,a;const n=this.figureObjects.find(s=>s.key===t);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===t);if(n&&(i==null?void 0:i.motion)!==r){const u=n.pixiContainer.children;for(const l of u){let c=r,f=0,h=3;const d=(l==null?void 0:l.internalModel)??void 0;(a=(o=d==null?void 0:d.motionManager)==null?void 0:o.stopAllMotions)==null||a.call(o),l.motion(c,f,h)}this.updateL2dMotionByKey(t,r)}}changeModelExpressionByKey(t,r){const n=this.figureObjects.find(o=>o.key===t);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(o=>o.target===t);if(n&&(i==null?void 0:i.expression)!==r){const a=n.pixiContainer.children;for(const s of a)s.expression(r);this.updateL2dExpressionByKey(t,r)}}setModelMouthY(t,r){var a,s,u,l,c,f,h,d,v;function n(g){return g<50?0:(g-50)/50}const i=n(r),o=this.figureObjects.find(g=>g.key===t);if(o&&o.sourceType==="live2d"){const p=o.pixiContainer.children;for(const m of p)m!=null&&m.internalModel&&((s=(a=m==null?void 0:m.internalModel)==null?void 0:a.coreModel)!=null&&s.setParamFloat&&((c=(l=(u=m==null?void 0:m.internalModel)==null?void 0:u.coreModel)==null?void 0:l.setParamFloat)==null||c.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=m==null?void 0:m.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((v=(d=m==null?void 0:m.internalModel)==null?void 0:d.coreModel)==null||v.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(t){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===t)}getStageObjByUuid(t){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===t)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(t){const r=this.figureObjects.findIndex(i=>i.key===t),n=this.backgroundObjects.findIndex(i=>i.key===t);if(r>=0){const i=this.figureObjects[r];for(const o of i.pixiContainer.children)o.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const o of i.pixiContainer.children)o.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){vI()}getExtName(t){return t.split(".").pop()??"png"}getFigureMetadataByKey(t){return console.log(t,B.getState().stage.figureMetaData),B.getState().stage.figureMetaData[t]}loadAsset(t,r,n){this.loadQueue.unshift({url:t,callback:r,name:n}),this.callLoader()}updateL2dMotionByKey(t,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===t);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:t,motion:r,expression:""})}updateL2dExpressionByKey(t,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===t);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:t,motion:"",expression:r})}callLoader(){if(!this.assetLoader.loading){const t=this.loadQueue.shift();if(t)try{this.assetLoader.resources[t.url]?(t.callback(),this.callLoader()):t.name?this.assetLoader.add(t.name,t.url).load(()=>{t.callback(),this.callLoader()}):this.assetLoader.add(t.url).load(()=>{t.callback(),this.callLoader()})}catch(r){re.fatal("PIXI Loader ",r),t.callback(),this.callLoader()}}}updateFps(){rg==null||rg(120).then(t=>{this.frameDuration=1e3/t})}lockStageObject(t){this.lockTransformTarget.push(t)}unlockStageObject(t){const r=this.lockTransformTarget.findIndex(n=>n===t);r>=0&&this.lockTransformTarget.splice(r,1)}async initialize(){try{const{figureCash:t}=await Py(()=>import("./conentsCash-75763c1a.js"),[],import.meta.url);this.figureCash=t;const{Live2DModel:r,SoundManager:n}=await Py(()=>import("./index.es-4e14a52d.js"),[],import.meta.url);this.live2DModel=r,this.soundManager=n}catch(t){this.isLive2dAvailable=!1,console.info("live2d lib load failed",t)}this.isLive2dAvailable===void 0&&(this.isLive2dAvailable=!0,console.info("live2d lib load success"))}}const rg=(()=>{const e=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(t=>t);if(!e){console.error("requestAnimationFrame is not supported!");return}return(t=60)=>{if(t<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function o(){e(()=>{if(++n>=t){const a=Date.now()-r,s=n/a*1e3;return i(s)}o()})})()})}})();function iL(e,t,r){for(const m of e)m.alphaFilterVal=m.alpha,m.alpha=1;const n=C.gameplay.pixiStage.getStageObjByKey(t);let i=0;const o=[],a=[];for(const m of e){const y=m.duration;i+=y;const{position:_,scale:x,...b}=m;o.push({x:_.x,y:_.y,scaleX:x.x,scaleY:x.y,...b}),r!==0?a.push(i/r):a.push(0)}const s=n==null?void 0:n.pixiContainer;let u=null;r>0&&(u=TK({to:o,offset:a,duration:r,onUpdate:m=>{if(s){const{scaleX:y,scaleY:_,...x}=m;Wn.assignTransform(s,am(x,ni)),ni(y)||(s.scale.x=y),ni(_)||(s.scale.y=_)}}}));const{duration:l,...c}=g();B.dispatch(Lt.updateEffect({target:t,transform:c}));function f(){if(n!=null&&n.pixiContainer){const{position:m,scale:y,..._}=v(),x=am({x:m.x,y:m.y,..._},ni);Wn.assignTransform(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(ni(y.x)||(n.pixiContainer.scale.x=y.x),ni(y==null?void 0:y.y)||(n.pixiContainer.scale.y=y.y))}}function h(){if(u&&u.stop(),u=null,n!=null&&n.pixiContainer){const{position:m,scale:y,..._}=g(),x=am({x:m.x,y:m.y,..._},ni);Wn.assignTransform(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(ni(y.x)||(n.pixiContainer.scale.x=y.x),ni(y==null?void 0:y.y)||(n.pixiContainer.scale.y=y.y))}}function d(m){}function v(){return e[0]}function g(){return e[e.length-1]}function p(){const m=e[e.length-1],{alpha:y,rotation:_,blur:x,duration:b,scale:w,position:E,...P}=m;return P}return{setStartState:f,setEndState:h,tickerFunc:d,getEndFilterEffect:p}}function Gh(e,t,r){const n=C.animationManager.getAnimations().find(i=>i.name===e);if(n){const i=n.effects.map(o=>{const a=B.getState().stage.effects.find(u=>u.target===t),s=yt({...(a==null?void 0:a.transform)??cb,duration:0});return Wn.assignTransform(s,o),s.duration=o.duration,s});return re.debug("",i),iL(i,t,r)}return null}function Rr(e){const t=C.animationManager.getAnimations().find(r=>r.name===e);if(t){let r=0;return t.effects.forEach(n=>{r+=n.duration}),r}return 0}function Fi(e,t,r=!1,n){if(t==="enter"){let i=500;r&&(i=1500);let o=Zk(n??e,i);const a=C.animationManager.nextEnterAnimationName.get(e);return a&&(re.debug("",e),o=Gh(a,n??e,Rr(a)),i=Rr(a),C.animationManager.nextEnterAnimationName.delete(e)),{duration:i,animation:o}}else{let i=750;r&&(i=1500);let o=Jk(n??e,i);const a=C.animationManager.nextExitAnimationName.get(e);return a&&(re.debug("",e),o=Gh(a,n??e,Rr(a)),i=Rr(a),C.animationManager.nextExitAnimationName.delete(e)),{duration:i,animation:o}}}const Wfe=e=>{const t=e.content;let r="",n="default";e.args.forEach(l=>{l.key==="unlockname"&&(r=l.value.toString()),l.key==="series"&&(n=l.value.toString())});const i=B.dispatch;r!==""&&i(mk({name:r,url:t,series:n})),i(Lt.removeEffectByTargetId("bg-main"));const o=Oe(e,"transform");let a=Oe(e,"duration");(!a||typeof a!="number")&&(a=1e3);let s;if(o)try{const l=JSON.parse(o.toString());s=Sl("bg-main",l,a),s[0].alpha=0;const c=(Math.random()*10).toString(16),f={name:c,effects:s};C.animationManager.addAnimation(f),a=Rr(c),C.animationManager.nextEnterAnimationName.set("bg-main",c)}catch{u()}else u();function u(){s=Sl("bg-main",{},a),s[0].alpha=0;const c=(Math.random()*10).toString(16),f={name:c,effects:s};C.animationManager.addAnimation(f),a=Rr(c),C.animationManager.nextEnterAnimationName.set("bg-main",c)}return Oe(e,"enter")&&(C.animationManager.nextEnterAnimationName.set("bg-main",Oe(e,"enter").toString()),a=Rr(Oe(e,"enter").toString())),Oe(e,"exit")&&(C.animationManager.nextExitAnimationName.set("bg-main-off",Oe(e,"exit").toString()),a=Rr(Oe(e,"exit").toString())),i(Te({key:"bgName",value:e.content})),{performName:"none",duration:a,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function qfe(e){let t="center",r=e.content,n=!1,i="",o="",a="",s=500,u="",l="",c="",f="",h="",d="",v="",g=-1;const p=B.dispatch;for(const E of e.args)switch(E.key){case"left":E.value===!0&&(t="left");break;case"right":E.value===!0&&(t="right");break;case"clear":E.value===!0&&(r="");break;case"id":n=!0,a=E.value.toString();break;case"motion":i=E.value.toString();break;case"bounds":v=String(E.value);break;case"expression":o=E.value.toString();break;case"mouthOpen":u=E.value.toString(),u=jr(u,Br.figure);break;case"mouthClose":l=E.value.toString(),l=jr(l,Br.figure);break;case"mouthHalfOpen":c=E.value.toString(),c=jr(c,Br.figure);break;case"eyesOpen":f=E.value.toString(),f=jr(f,Br.figure);break;case"eyesClose":h=E.value.toString(),h=jr(h,Br.figure);break;case"animationFlag":d=E.value.toString();break;case"none":r="";break;case"zIndex":g=Number(E.value);break}const m=a||`fig-${t}`,_=B.getState().stage.figureAssociatedAnimation.filter(E=>E.targetId!==m),x={targetId:m,animationFlag:d,mouthAnimation:{open:u,close:l,halfOpen:c},blinkAnimation:{open:f,close:h}};_.push(x),p(Te({key:"figureAssociatedAnimation",value:_}));let b=!0;if(a!==""){const E=B.getState().stage.freeFigure.find(P=>P.key===a);E&&E.name===e.content&&(b=!1)}else t==="center"&&B.getState().stage.figName===e.content&&(b=!1),t==="left"&&B.getState().stage.figNameLeft===e.content&&(b=!1),t==="right"&&B.getState().stage.figNameRight===e.content&&(b=!1);if(b){const E=`fig-${t}`,P=`${a}`;B.dispatch(Lt.removeEffectByTargetId(E)),B.dispatch(Lt.removeEffectByTargetId(P)),p(Lt.setFigureMetaData([E,"zIndex",0,!0])),p(Lt.setFigureMetaData([P,"zIndex",0,!0]))}const w=(E,P)=>{const A=Oe(P,"transform"),k=Oe(P,"duration");k&&typeof k=="number"&&(s=k);let F;if(A){console.log(A);try{const D=JSON.parse(A.toString());F=Sl(E,D,s),F[0].alpha=0;const U=(Math.random()*10).toString(16),K={name:U,effects:F};C.animationManager.addAnimation(K),s=Rr(U),C.animationManager.nextEnterAnimationName.set(E,U)}catch{j()}}else j();function j(){F=Sl(E,{},s),F[0].alpha=0;const U=(Math.random()*10).toString(16),K={name:U,effects:F};C.animationManager.addAnimation(K),s=Rr(U),C.animationManager.nextEnterAnimationName.set(E,U)}const z=Oe(P,"enter"),q=Oe(P,"exit");z&&(C.animationManager.nextEnterAnimationName.set(E,z.toString()),s=Rr(z.toString())),q&&(C.animationManager.nextExitAnimationName.set(E+"-off",q.toString()),s=Rr(q.toString()))};if(n){const E={key:a,name:r,basePosition:t};w(a,e),(i||v)&&p(Lt.setLive2dMotion({target:a,motion:i,overrideBounds:oO(v)})),o&&p(Lt.setLive2dExpression({target:a,expression:o})),g>0&&p(Lt.setFigureMetaData([a,"zIndex",g,!1])),p(Lt.setFreeFigureByKey(E))}else{const E={center:"fig-center",left:"fig-left",right:"fig-right"},P={center:"figName",left:"figNameLeft",right:"figNameRight"};a=E[t],w(a,e),(i||v)&&p(Lt.setLive2dMotion({target:a,motion:i,overrideBounds:oO(v)})),o&&p(Lt.setLive2dExpression({target:a,expression:o})),g>0&&p(Lt.setFigureMetaData([a,"zIndex",g,!1])),p(Te({key:P[t],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}function oO(e){const t=e.split(",").map(n=>Number(n));let r=!0;if(t.forEach(n=>{isNaN(n)&&(r=!1)}),r=r&&t.length===4,r)return t}const oL=(e,t)=>{C.sceneManager.lockSceneWrite||(C.sceneManager.lockSceneWrite=!0,ti(e).then(r=>{C.sceneManager.sceneData.currentScene=On(r,t,e),C.sceneManager.sceneData.currentSentenceId=0;const n=C.sceneManager.sceneData.currentScene.subSceneList;C.sceneManager.settledScenes.push(e);const i=nc(n);ic(i),re.debug("",C.sceneManager.sceneData),C.sceneManager.lockSceneWrite=!1,ir()}).catch(r=>{re.error("",r),C.sceneManager.lockSceneWrite=!1}))},Xfe=e=>{const t=e.content.split("/"),r=t[t.length-1];return oL(e.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},aL=e=>{const t=C.sceneManager.sceneData.currentSentenceId;let r=t;C.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Re.label&&n.content===e&&i!==t&&(r=i)}),C.sceneManager.sceneData.currentSentenceId=r,setTimeout(ir,1)},Yfe="_Choose_Main_1kza1_1",Kfe="_Choose_item_1kza1_13",Zfe="_Choose_item_disabled_1kza1_34",Jfe="_Choose_item_outer_1kza1_50",uf={Choose_Main:Yfe,Choose_item:Kfe,Choose_item_disabled:Zfe,Choose_item_outer:Jfe},Qfe=""+new URL("page-flip-1-7df32409.mp3",import.meta.url).href,ehe=""+new URL("switch-1-99b576bc.mp3",import.meta.url).href,sL="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjE0LjEwMAAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAAGhgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU3LjE1AAAAAAAAAAAAAAAAJAAAAAAAAAAABoYV32R7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQAAAABpAAAAAAAAANIAAAAACADH/+QtN3NAAAKF6IiVEl7hE0Sv/+XsgGgCgQDQFAgGg3D+yBShQzd+K0qXyBQyRQUp3hEkUMGn/8oCBQ5KOIf+sPl3//+Xf/+GP//6w+EgFgk/nOfWhA4Q4ABxjnQhDhCD3pgIQLAARlkyZ8Ew+Ud1AgUOfy7/4OeGOUORPD//wwUd/KHP//+GPykMA445BCHBIYg4ZC4AyGP+PuWtgyRb6quwuJvp+v8wQwDAKoXYMnpC0w6gAc0HLf/84JkuwnkuN6ioaAAD3CpsVVFMAAFQBkWjRnE4hYMOnIaT5sXEGFHCyMLPhfcDTHTUmRcgnQMuCfCKHjcDRlTchxFTcEHsKGiBNQ6mLhLkNImWi8PkY6s3kUWgaJmjd1igSfFzk+gLLIOcMi4gXyupR9A20G/4zAhOJ/PDgGYKI4y4LMEEBYhnUz1lpozrmZk3//lsky4s+TB4ul8ny6YOV0FmRx0ElHlMbNWYOr///1uZFQ3IGRNBRmfWlRUYkeV8mVhC5j/+UOiwF4DdcGgB//zgmTqHCnhQS/NUAGcStp6X4JQAARBgQCDIwGbMjrzxBIRk8s4+IS7mMEYN4elXLheFicbuxm88zzzHaw/G//9DCJ+eYRf8WGFtZp9ydCUvPMKGf/57ZjPRjzHtq+3//+YZ2U8817jxbb1vcn/1yAPkAgGUJuPiliw1FHilYbAAkIkV4CdGauxnChrTd+JTOW4BTlAB55YoeqaxWm7Wv8xLqLOiiZLUixqapJF5JNAcoviEoN2gAwAUcLiN5Mk6i3TRU+ikk++6KKKTqSKyBsx//OCZFMVigU/GuzMAIuQEq5fwxACNMZGRPKvoqXbR0UbJP11I0t9J/SqSrRZ0lXoqetSTnWoto0kl26LJGJqizoJmtJSSNSWk7WdTpXUkiigbVor9K6lpKSrdFNi8gnstA65dQVWxkXlGyTGRiRt9gUkBwgAggllBkQbKigffEMUfzqlL+6Ruli5Bv+4lPf//////X/////o0Wte9XLYBs4JbHGkwql7GrPNPMusqAJDUPzthoURwGi5eZyu+VuecNrURSYBU/p8//81Vf+Znkn/84JkNA4gwTcvDYYmF1lmTbAzByQpycp3ROJPn025p4SQJoSeFQoViUUAoiJFRL3c8JRUNETudLFn0MtLDwrM4lUeOiJtiztbvBk6xyPrctYdEkBpA09q2Xn9/TmkZxYMuXBUW17I4clP/nKrXbW/C6FI5G0z11z31L9fvGqoAzY1X86WwYUHIdWCvLEwkeEq3kQ7iI8MPM/ssO/8OnlHsFW1nWeCvyzwVOtEvHuyqv/8hOYSETL//NtNaySXOSsAqIiRrkS82UvXUvppbobMbv/zgmQhC0HzBAAEwpKVEO4JYAjTIJ/y/0egY3vXWaZv65cpZm36G/mMUpdalcpStzalb1KXUoUBf8pXKyGM5Sv/TRRPKoUSQMYKTJfSwiUDeW+ZhhmIXNYfiyfSbiqFFLNEQaajFVnrO9YLTodKvET9Z0FcSgq6s6eIz3uLcFQmCxJY06W/g0Cri31AqGrq56EgaXxLPCUNdBZ5USrBUse3BqpNF93yP//yMyMDWEJGQ01////MjMv//I1kcjJrLf/stlzL55SkyyOX5q0cjVrL//OCZC4KtfrOGgAjbodYBawMAEQAYf//+Rk1qGRqygo5GRq1sP/sln//cyNWCg0cj//ZZZZKh+asCHP8lAL////9n/////////GMYm3raaWKige/+sW+LesVTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",the=""+new URL("dialog-d5b91235.mp3",import.meta.url).href,uL="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIzLjEwMQAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAAGhgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU4LjQwAAAAAAAAAAAAAAAAJAL7AAAAAAAABobgvJxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQADLH/PRigiACM0AZ+XUAQAoAVYA9AY3IAASAgeRjeQMhP0O/nec/1cn+Qnv/8n+RuhGUhPoQDPISc6HP1Oec7+pwAROeQikI3IT////z+p3Q56VOd/nOc5JzyAAhQAAI053QDFnoQjKACGvoQ7yThzoBgZ8ADMJQURtuNAkMH4P4P+XOZD4f5d/D/64f/3co7/8H8u/wQ5R3/+sPiN8TvB95SDgYT/yjgQf+mpbd5dJrdLkpewIOA5GsDQUQZnZzSB6Q1U50Guqy9OaH/84JkIg/hbXkux6gBEfpLBx+SKAZQvxWLwbxAAoJRbMJjWBoPcgIzjpzzz2clFsxj0ITlVELLXdjzyg8Q3UoM0PPct+QCw/6D5KMrNmLdXOUnPRjXJ3nMYVFVfnfdzf//q//MR+Q/8uwB0uyB/lVHlY6YhEIGR4cHYHAcAZwSQAJAcAocdAxoAMh6L1HV969TxECi7iHlYn7jW//an//+JXU5/9v4l//6EM3f83/41j3///+ozd63/9C2p2W2W22i0Mq2OVytAvxB06nWCVQIZP/zgmQXD4W5ey/HqAEQUkbOR4koAmYRklcoUe+Yd1AuC8AHmsVSoIxFCwPh6RI8ajdB8807yw/JxoLbsai/djzjScCv+Q/lARCSFyRC8hIFYZkF06Dv//MLs5zV+edqzv6krdvP9V/yO3p66H//n73UnMetFzzx4P/MNxBOVut0AFwIAARCgysYSXL+VO2TXhMWBADVCKKhQmjLmX/////0/P+rf7f///29++FO9LfYWYp//Z9n/yHlg30VsPil34MMSQVrYqfLAYVacpCtK1Oq//OCZBUPGaFC3+e0AA8ZVoZdyxAA2az68kOa28sO3puYoqNkUTUxnD6CKnSNlGTJJositaK2TdJSb2NWSX/SSScyDlAnQ6myTv/1X0aJePGZqjnT1FL6v9SRkXW/dVaKP6VaKLOv//+r//X/ZzF06dSFLuv/1B0aZUKwhImgCMAB2aHaUe7x55QPP/rp3zyZZf/VkdS3RFZ3m/9H//iSCn/1Qaev/0CVH3+oO1P///1t+j//9KoPL7QDcAaC4x+83dEEEvXL3vljkRVf5ZqiVpT/84JkGw5BSSx+MMpOEjoual7AxBzqOG5mzBJL6c7URxGtROS/Zu8vMwc2/naKcgTgLi5R79f/ZSUVjWOSaa1aHK5xM/apQnJHJUuTbXQ5VN09HRzSUNfirDtAVBYCwdfpJmYrjDVue/9pJZFMiSvSUMuMAg40uvlBXQECFUh3VKcOGoUBJAurXLsY3+xpv///1aZAwAP///yghpkdW/5qt8OMEMKKg7/pDn///h1/Ues6P/xLEaAkoyibeSeC8E+AuhymiEos8tLHJNRoThxKnP/zgmQcDD0TFAk8xToRuh4sCGgPKooy1Y8s/q2X/ZH//6tqJAEEQwRKxjI9y1KWWqPDw8awiKqQPPob/pRUDwAioCEtX9R7/9eGlncrLPLBVgKmRZ+GpD/tqEogdIXwLlNkUnUxiamSS0W/ooqUlrot//zUCIHRc05Zrqaabod86PDZv/+b/UamAIGjTP+W/879s9liLSrmCVxXgq7xL+RKoQZ+UAAwBYQh4Rig2ZaVmytcNUuiO5/zP8jP1/+VMy/1RygyCgEMDDLv4CCZF3/S//OCZC8JaK7qfiQiTgxILdAAYYYEEhVLrP///S1HoCosaCoCCYZrZUSBkQDwESH/WkJSAZjByJI0oE4Z/////4FCQeBkVZ/xX/zIsRd/6hf7X//4qSfqwEEiLv1ciEyISQKqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",wr=()=>{const e=nr();return{playSeEnter:()=>{e(Te({key:"uiSe",value:sL}))},playSeClick:()=>{e(Te({key:"uiSe",value:uL}))},playSePageChange:()=>{e(Te({key:"uiSe",value:Qfe}))},playSeDialogOpen:()=>{e(Te({key:"uiSe",value:the}))},playSeSwitch:()=>{e(Te({key:"uiSe",value:ehe}))}}},y1=()=>({playSeEnter:()=>{B.dispatch(Te({key:"uiSe",value:sL}))},playSeClick:()=>{B.dispatch(Te({key:"uiSe",value:uL}))}}),rhe=[{reg:/\\\\/g,val:"\\"},{reg:/\\\|/g,val:"|"},{reg:/\\:/g,val:":"},{reg:/\\,/g,val:","},{reg:/\\;/g,val:";"},{reg:/\\./g,val:"."}],_1=e=>{let t=e;for(let r of rhe)t=t.replaceAll(r.reg,r.val);return t};function nhe(e){return Ap.parseScssToWebgalStyleObj(e)}function wn(e){const[t,r]=$.useState(e);return{_value:t,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}var ihe=!1;function ohe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ahe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var she=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!ihe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ahe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=ohe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ur="-ms-",zh="-moz-",je="-webkit-",lL="comm",x1="rule",b1="decl",uhe="@import",cL="@keyframes",lhe="@layer",che=Math.abs,wp=String.fromCharCode,fhe=Object.assign;function hhe(e,t){return Qt(e,0)^45?(((t<<2^Qt(e,0))<<2^Qt(e,1))<<2^Qt(e,2))<<2^Qt(e,3):0}function fL(e){return e.trim()}function dhe(e,t){return(e=t.exec(e))?e[0]:e}function $e(e,t,r){return e.replace(t,r)}function h0(e,t){return e.indexOf(t)}function Qt(e,t){return e.charCodeAt(t)|0}function Gl(e,t,r){return e.slice(t,r)}function Fn(e){return e.length}function S1(e){return e.length}function lf(e,t){return t.push(e),e}function phe(e,t){return e.map(t).join("")}var Ep=1,Ss=1,hL=0,Mr=0,kt=0,Vs="";function Tp(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:Ep,column:Ss,length:a,return:""}}function Su(e,t){return fhe(Tp("",null,null,"",null,null,0),e,{length:-e.length},t)}function vhe(){return kt}function mhe(){return kt=Mr>0?Qt(Vs,--Mr):0,Ss--,kt===10&&(Ss=1,Ep--),kt}function Gr(){return kt=Mr<hL?Qt(Vs,Mr++):0,Ss++,kt===10&&(Ss=1,Ep++),kt}function qn(){return Qt(Vs,Mr)}function jf(){return Mr}function pc(e,t){return Gl(Vs,e,t)}function zl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dL(e){return Ep=Ss=1,hL=Fn(Vs=e),Mr=0,[]}function pL(e){return Vs="",e}function $f(e){return fL(pc(Mr-1,d0(e===91?e+2:e===40?e+1:e)))}function ghe(e){for(;(kt=qn())&&kt<33;)Gr();return zl(e)>2||zl(kt)>3?"":" "}function yhe(e,t){for(;--t&&Gr()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return pc(e,jf()+(t<6&&qn()==32&&Gr()==32))}function d0(e){for(;Gr();)switch(kt){case e:return Mr;case 34:case 39:e!==34&&e!==39&&d0(kt);break;case 40:e===41&&d0(e);break;case 92:Gr();break}return Mr}function _he(e,t){for(;Gr()&&e+kt!==47+10;)if(e+kt===42+42&&qn()===47)break;return"/*"+pc(t,Mr-1)+"*"+wp(e===47?e:Gr())}function xhe(e){for(;!zl(qn());)Gr();return pc(e,Mr)}function bhe(e){return pL(Uf("",null,null,null,[""],e=dL(e),0,[0],e))}function Uf(e,t,r,n,i,o,a,s,u){for(var l=0,c=0,f=a,h=0,d=0,v=0,g=1,p=1,m=1,y=0,_="",x=i,b=o,w=n,E=_;p;)switch(v=y,y=Gr()){case 40:if(v!=108&&Qt(E,f-1)==58){h0(E+=$e($f(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:E+=$f(y);break;case 9:case 10:case 13:case 32:E+=ghe(v);break;case 92:E+=yhe(jf()-1,7);continue;case 47:switch(qn()){case 42:case 47:lf(She(_he(Gr(),jf()),t,r),u);break;default:E+="/"}break;case 123*g:s[l++]=Fn(E)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+c:m==-1&&(E=$e(E,/\f/g,"")),d>0&&Fn(E)-f&&lf(d>32?sO(E+";",n,r,f-1):sO($e(E," ","")+";",n,r,f-2),u);break;case 59:E+=";";default:if(lf(w=aO(E,t,r,l,c,i,s,_,x=[],b=[],f),o),y===123)if(c===0)Uf(E,t,w,w,x,o,f,s,b);else switch(h===99&&Qt(E,3)===110?100:h){case 100:case 108:case 109:case 115:Uf(e,w,w,n&&lf(aO(e,w,w,0,0,i,s,_,i,x=[],f),b),i,b,f,s,n?x:b);break;default:Uf(E,w,w,w,[""],b,0,s,b)}}l=c=d=0,g=m=1,_=E="",f=a;break;case 58:f=1+Fn(E),d=v;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&mhe()==125)continue}switch(E+=wp(y),y*g){case 38:m=c>0?1:(E+="\f",-1);break;case 44:s[l++]=(Fn(E)-1)*m,m=1;break;case 64:qn()===45&&(E+=$f(Gr())),h=qn(),c=f=Fn(_=E+=xhe(jf())),y++;break;case 45:v===45&&Fn(E)==2&&(g=0)}}return o}function aO(e,t,r,n,i,o,a,s,u,l,c){for(var f=i-1,h=i===0?o:[""],d=S1(h),v=0,g=0,p=0;v<n;++v)for(var m=0,y=Gl(e,f+1,f=che(g=a[v])),_=e;m<d;++m)(_=fL(g>0?h[m]+" "+y:$e(y,/&\f/g,h[m])))&&(u[p++]=_);return Tp(e,t,r,i===0?x1:s,u,l,c)}function She(e,t,r){return Tp(e,t,r,lL,wp(vhe()),Gl(e,2,-2),0)}function sO(e,t,r,n){return Tp(e,t,r,b1,Gl(e,0,n),Gl(e,n+1,-1),n)}function ns(e,t){for(var r="",n=S1(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function whe(e,t,r,n){switch(e.type){case lhe:if(e.children.length)break;case uhe:case b1:return e.return=e.return||e.value;case lL:return"";case cL:return e.return=e.value+"{"+ns(e.children,n)+"}";case x1:e.value=e.props.join(",")}return Fn(r=ns(e.children,n))?e.return=e.value+"{"+r+"}":""}function Ehe(e){var t=S1(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}function The(e){return function(t){t.root||(t=t.return)&&e(t)}}function Che(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Ohe=function(t,r,n){for(var i=0,o=0;i=o,o=qn(),i===38&&o===12&&(r[n]=1),!zl(o);)Gr();return pc(t,Mr)},Ahe=function(t,r){var n=-1,i=44;do switch(zl(i)){case 0:i===38&&qn()===12&&(r[n]=1),t[n]+=Ohe(Mr-1,r,n);break;case 2:t[n]+=$f(i);break;case 4:if(i===44){t[++n]=qn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=wp(i)}while(i=Gr());return t},Phe=function(t,r){return pL(Ahe(dL(t),r))},uO=new WeakMap,khe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!uO.get(n))&&!i){uO.set(t,!0);for(var o=[],a=Phe(r,o),s=n.props,u=0,l=0;u<a.length;u++)for(var c=0;c<s.length;c++,l++)t.props[l]=o[u]?a[u].replace(/&\f/g,s[c]):s[c]+" "+a[u]}}},Rhe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function vL(e,t){switch(hhe(e,t)){case 5103:return je+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return je+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return je+e+zh+e+ur+e+e;case 6828:case 4268:return je+e+ur+e+e;case 6165:return je+e+ur+"flex-"+e+e;case 5187:return je+e+$e(e,/(\w+).+(:[^]+)/,je+"box-$1$2"+ur+"flex-$1$2")+e;case 5443:return je+e+ur+"flex-item-"+$e(e,/flex-|-self/,"")+e;case 4675:return je+e+ur+"flex-line-pack"+$e(e,/align-content|flex-|-self/,"")+e;case 5548:return je+e+ur+$e(e,"shrink","negative")+e;case 5292:return je+e+ur+$e(e,"basis","preferred-size")+e;case 6060:return je+"box-"+$e(e,"-grow","")+je+e+ur+$e(e,"grow","positive")+e;case 4554:return je+$e(e,/([^-])(transform)/g,"$1"+je+"$2")+e;case 6187:return $e($e($e(e,/(zoom-|grab)/,je+"$1"),/(image-set)/,je+"$1"),e,"")+e;case 5495:case 3959:return $e(e,/(image-set\([^]*)/,je+"$1$`$1");case 4968:return $e($e(e,/(.+:)(flex-)?(.*)/,je+"box-pack:$3"+ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+je+e+e;case 4095:case 3583:case 4068:case 2532:return $e(e,/(.+)-inline(.+)/,je+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fn(e)-1-t>6)switch(Qt(e,t+1)){case 109:if(Qt(e,t+4)!==45)break;case 102:return $e(e,/(.+:)(.+)-([^]+)/,"$1"+je+"$2-$3$1"+zh+(Qt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~h0(e,"stretch")?vL($e(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Qt(e,t+1)!==115)break;case 6444:switch(Qt(e,Fn(e)-3-(~h0(e,"!important")&&10))){case 107:return $e(e,":",":"+je)+e;case 101:return $e(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+je+(Qt(e,14)===45?"inline-":"")+"box$3$1"+je+"$2$3$1"+ur+"$2box$3")+e}break;case 5936:switch(Qt(e,t+11)){case 114:return je+e+ur+$e(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return je+e+ur+$e(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return je+e+ur+$e(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return je+e+ur+e+e}return e}var Ihe=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case b1:t.return=vL(t.value,t.length);break;case cL:return ns([Su(t,{value:$e(t.value,"@","@"+je)})],i);case x1:if(t.length)return phe(t.props,function(o){switch(dhe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ns([Su(t,{props:[$e(o,/:(read-\w+)/,":"+zh+"$1")]})],i);case"::placeholder":return ns([Su(t,{props:[$e(o,/:(plac\w+)/,":"+je+"input-$1")]}),Su(t,{props:[$e(o,/:(plac\w+)/,":"+zh+"$1")]}),Su(t,{props:[$e(o,/:(plac\w+)/,ur+"input-$1")]})],i)}return""})}},Nhe=[Ihe],Lhe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||Nhe,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),m=1;m<p.length;m++)o[p[m]]=!0;s.push(g)});var u,l=[khe,Rhe];{var c,f=[whe,The(function(g){c.insert(g)})],h=Ehe(l.concat(i,f)),d=function(p){return ns(bhe(p),h)};u=function(p,m,y,_){c=y,d(p?p+"{"+m.styles+"}":m.styles),_&&(v.inserted[m.name]=!0)}}var v={key:r,sheet:new she({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:u};return v.sheet.hydrate(s),v};function Mhe(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Fhe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dhe=!1,Bhe=/[A-Z]|^ms/g,jhe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mL=function(t){return t.charCodeAt(1)===45},lO=function(t){return t!=null&&typeof t!="boolean"},ng=Che(function(e){return mL(e)?e:e.replace(Bhe,"-$&").toLowerCase()}),cO=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(jhe,function(n,i,o){return Dn={name:i,styles:o,next:Dn},i})}return Fhe[t]!==1&&!mL(t)&&typeof r=="number"&&r!==0?r+"px":r},$he="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Hl(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return Dn={name:i.name,styles:i.styles,next:Dn},i.name;var o=r;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)Dn={name:a.name,styles:a.styles,next:Dn},a=a.next;var s=o.styles+";";return s}return Uhe(e,t,r)}case"function":{if(e!==void 0){var u=Dn,l=r(e);return Dn=u,Hl(e,t,l)}break}}var c=r;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function Uhe(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Hl(e,t,r[i])+";";else for(var o in r){var a=r[o];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":lO(s)&&(n+=ng(o)+":"+cO(o,s)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&Dhe)throw new Error($he);if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var u=0;u<a.length;u++)lO(a[u])&&(n+=ng(o)+":"+cO(o,a[u])+";");else{var l=Hl(e,t,a);switch(o){case"animation":case"animationName":{n+=ng(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}}return n}var fO=/label:\s*([^\s;{]+)\s*(;|$)/g,Dn;function ig(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";Dn=void 0;var o=e[0];if(o==null||o.raw===void 0)n=!1,i+=Hl(r,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=Hl(r,t,e[s]),n){var u=o;i+=u[s]}fO.lastIndex=0;for(var l="",c;(c=fO.exec(i))!==null;)l+="-"+c[1];var f=Mhe(i)+l;return{name:f,styles:i,next:Dn}}var Ghe=!0;function gL(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var zhe=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Ghe===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Hhe=function(t,r,n){zhe(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function hO(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function dO(e,t,r){var n=[],i=gL(e,n,r);return n.length<2?r:i+t(n)}var Vhe=function(t){var r=Lhe(t);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=ig(l,r.registered,void 0);return Hhe(r,f,!1),r.key+"-"+f.name},i=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=ig(l,r.registered),h="animation-"+f.name;return hO(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},o=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=ig(l,r.registered);hO(r,f)},a=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return dO(r.registered,n,Whe(l))};return{css:n,cx:a,injectGlobal:o,keyframes:i,hydrate:function(u){u.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:gL.bind(null,r.registered),merge:dO.bind(null,r.registered,n)}},Whe=function e(t){for(var r="",n=0;n<t.length;n++){var i=t[n];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=e(i);else{o="";for(var a in i)i[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=i}o&&(r&&(r+=" "),r+=o)}}return r},yL=Vhe({key:"css"}),qhe=yL.injectGlobal,Ra=yL.css;function w1(e){const t=wn({classNameStyles:{},others:""}),r=ve(o=>o.stage.replacedUIlable),n=(o,a)=>{var u;const s=(r==null?void 0:r[o])??o;if(Object.keys(t.value.classNameStyles).includes(s)){const l=Ra(((u=t.value.classNameStyles)==null?void 0:u[s])??"");return`${a} ${l}`}return a},i=async()=>{re.debug(" Scss ",e);const a=(await bl.get(`game/template/${e}`)).data;t.set(nhe(a))};return $.useEffect(()=>{i()},[]),$.useEffect(()=>{qhe(t.value.others)},[t.value.others]),Xhe(i),n}function Xhe(e){const t=()=>{e()};$.useEffect(()=>(C.events.styleUpdate.on(t),()=>C.events.styleUpdate.off(t)),[])}class E1{constructor(t,r){oe(this,"text");oe(this,"jump");oe(this,"jumpToScene");oe(this,"showCondition");oe(this,"enableCondition");this.text=_1(t),this.jump=r,this.jumpToScene=r.match(new RegExp("(?<!\\\\)\\."))!==null}static parse(t){const r=t.split("->"),n=r.length>1?r[0]:null,o=(r.length>1?r[1]:r[0]).split(new RegExp("(?<!\\\\):","g")),a=new E1(o[0],o[1]);if(n!==null){const s=n.match(/\((.*)\)/);s&&(a.showCondition=s[1]);const u=n.match(/\[(.*)\]/);u&&(a.enableCondition=u[1])}return a}}const Yhe=e=>{const r=e.content.split(new RegExp("(?<!\\\\)\\|")).map(n=>E1.parse(n));return Xn.render(S.jsx(p2,{store:B,children:S.jsx(Khe,{chooseOptions:r})}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Xn.render(S.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}};function Khe(e){B.getState().userData.optionData.textboxFont;const t="YH",{playSeEnter:r,playSeClick:n}=y1(),i=w1("Stage/Choose/choose.scss"),o=a=>a.filter((s,u)=>m0(s.showCondition)).map((s,u)=>{const l=m0(s.enableCondition),c=l?i("Choose_item",uf.Choose_item):i("Choose_item_disabled",uf.Choose_item_disabled),f=l?()=>{n(),s.jumpToScene?oL(s.jump,s.text):aL(s.jump),C.gameplay.performController.unmountPerform("choose")}:()=>{};return S.jsx("div",{className:i("Choose_item_outer",uf.Choose_item_outer),children:S.jsx("div",{className:c,style:{fontFamily:t},onClick:f,onMouseEnter:r,children:s.text})},s.jump+u)});return S.jsx("div",{className:i("Choose_Main",uf.Choose_Main),children:o(e.chooseOptions)})}const Zhe=e=>(re.debug(`${e.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Jhe=e=>(e.content!==""&&e.content!=="none"?B.dispatch(Te({key:"enableFilm",value:e.content})):B.dispatch(Te({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Qhe="_Choose_Main_4xkm5_1",ede="_Choose_item_4xkm5_13",tde="_glabalDialog_container_inner_4xkm5_28",rde="_glabalDialog_container_4xkm5_28",nde="_title_4xkm5_47",ide="_button_4xkm5_59",Ta={Choose_Main:Qhe,Choose_item:ede,glabalDialog_container_inner:tde,glabalDialog_container:rde,title:nde,button:ide},ode=e=>{const t=e.content.toString().trim(),r=Oe(e,"title"),n=(r===0?"Please Input":r)??"Please Input",i=Oe(e,"buttonText"),o=(i===0?"OK":i)??"OK",a=Oe(e,"defaultValue");B.getState().userData.optionData.textboxFont;const s="YH",{playSeEnter:u,playSeClick:l}=y1(),c=S.jsx("div",{style:{fontFamily:s},className:Ta.glabalDialog_container,children:S.jsxs("div",{className:Ta.glabalDialog_container_inner,children:[S.jsx("div",{className:Ta.title,children:n}),S.jsx("input",{id:"user-input",className:Ta.Choose_item}),S.jsx("div",{onMouseEnter:u,onClick:()=>{const f=document.getElementById("user-input");f&&B.dispatch(Q2({key:t,value:(f==null?void 0:f.value)||a||" "})),l(),C.gameplay.performController.unmountPerform("userInput"),ir()},className:Ta.button,children:o})]})});return Xn.render(S.jsx("div",{className:Ta.Choose_Main,children:c}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Xn.render(S.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},ade="_FullScreenPerform_main_1336y_1",sde="_FullScreenPerform_element_1336y_8",ude="_fullScreen_video_1336y_16",lde="_fadeIn_1336y_73",cde="_intro_showSoftly_1336y_1",fde="_slideIn_1336y_79",hde="_typingEffect_1336y_85",dde="_typing_1336y_85",pde="_blinkCursor_1336y_1",vde="_pixelateEffect_1336y_94",mde="_pixelateAnimation_1336y_1",gde="_revealAnimation_1336y_100",yde="_videoContainer_1336y_114",Ln={FullScreenPerform_main:ade,FullScreenPerform_element:sde,fullScreen_video:ude,fadeIn:lde,intro_showSoftly:cde,slideIn:fde,typingEffect:hde,typing:dde,blinkCursor:pde,pixelateEffect:vde,pixelateAnimation:mde,revealAnimation:gde,videoContainer:yde},_de=e=>{const t=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const o=(w,E=0)=>{switch(w){case"fadeIn":return Ln.fadeIn;case"slideIn":return Ln.slideIn;case"typingEffect":return`${Ln.typingEffect} ${E}`;case"pixelateEffect":return Ln.pixelateEffect;case"revealAnimation":return Ln.revealAnimation;default:return Ln.fadeIn}};let a=Ln.fadeIn,s=1500,u=!1,l=!1;for(const w of e.args){if(w.key==="backgroundColor"&&(n=w.value||"rgba(0, 0, 0, 1)"),w.key==="fontColor"&&(i=w.value||"rgba(255, 255, 255, 1)"),w.key==="fontSize")switch(w.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(w.key==="animation"&&(a=o(w.value)),w.key==="delayTime"){const E=parseInt(w.value.toString(),10);s=isNaN(E)?s:E}w.key==="hold"&&w.value===!0&&(u=!0),w.key==="userForward"&&w.value===!0&&(l=!0,u=!0,s=99999999)}const c={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},f=e.content.split(new RegExp("(?<!\\\\)\\|")).map(w=>_1(w));let d=1e3+s*f.length;const v=u?1e3*60*60*24:1e3+s*f.length;let g=!0,p=setTimeout(()=>{g=!1},d),m=setTimeout(()=>{});const y=()=>{const w=document.getElementById("introContainer");if(d-=s,clearTimeout(p),p=setTimeout(()=>{g=!1},d),w){const E=w.childNodes[0].childNodes[0].childNodes,P=E.length;if(l){let A=!0;for(const k of E)if(Number(k.style.animationDelay.split("ms")[0])>0){A=!1;const j=k.getAnimations();k.style.animationDelay="0ms ";for(const z of j)z.currentTime=0,z.play()}A&&(clearTimeout(m),clearTimeout(p),C.gameplay.performController.unmountPerform(t));return}E.forEach((A,k)=>{const F=Number(A.style.animationDelay.split("ms")[0]);F>0&&(A.style.animationDelay=`${F-s}ms`),k===P-1&&(F===0?(clearTimeout(m),C.gameplay.performController.unmountPerform(t)):(clearTimeout(m),u||(m=setTimeout(()=>{C.gameplay.performController.unmountPerform(t)},d))))})}};C.events.userInteractNext.on(y);const _=f.map((w,E)=>S.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:a,children:[w,w===""?"":""]},"introtext"+E+Math.random().toString())),x=S.jsx("div",{style:c,children:S.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:_})});Xn.render(x,document.getElementById("introContainer"));const b=document.getElementById("introContainer");return b&&(b.style.display="block"),{performName:t,duration:v,isHoldOn:!1,stopFunction:()=>{const w=document.getElementById("introContainer");w&&(w.style.display="none"),C.events.userInteractNext.off(y)},blockingNext:()=>g,blockingAuto:()=>g,stopTimeout:void 0,goNextWhenOver:!0}},xde=e=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),bde=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),B.dispatch(Te({key:"miniAvatar",value:t})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},_L=new Map;function Sde(e){return e?typeof e=="string"?e:e():null}function xL(e){const t=Sde(e);return t||(re.error("Get name of perform failed. There no name of the perform."),"")}function Wxe(e,t){if(!t||typeof t!="function")throw new Error(`"${e}" is not a callback.`);_L.set(xL(e),t)}function wde(e,t=[]){const r=_L.get(xL(e));if(!r||!(r instanceof Function))throw re.error(`Can't call the perform named "${e}"`),new Error(`"${e}" don't have the pixiPerform callback.`);return r(...t)}Py(()=>import("./initRegister-31b11c83.js"),[],import.meta.url);const Ede=e=>{const t="PixiPerform"+e.content;C.gameplay.performController.performList.forEach(o=>{if(o.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=wde(e.content),{container:n,tickerKey:i}=r;return{performName:t,duration:0,isHoldOn:!0,stopFunction:()=>{var o,a;re.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(o=C.gameplay.pixiStage)==null||o.effectsContainer.removeChild(n),(a=C.gameplay.pixiStage)==null||a.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Tde=e=>{var o;re.debug("play SE");let t="effect-sound";C.gameplay.performController.unmountPerform(t,!0);let r=e.content,n=!1;Oe(e,"id")&&(t=`effect-sound-${((o=Oe(e,"id"))==null?void 0:o.toString())??""}`,C.gameplay.performController.unmountPerform(t,!0),n=!0);let i=!1;return!r||r===py?{performName:py,duration:0,isHoldOn:!1,blockingAuto(){return!1},blockingNext(){return!1},stopFunction(){},stopTimeout:void 0}:{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(a=>{setTimeout(()=>{var v;const s=Oe(e,"volume");let u=document.createElement("audio");u.src=r,n&&(u.loop=!0);const l=B.getState().userData,c=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=c*.01*(((v=l.optionData)==null?void 0:v.seVolume)??100)*.01*f*.01;u.volume=h,u.currentTime=0;const d={performName:t,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{u.pause(),u.remove()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};a(d),u==null||u.play(),u.onended=()=>{for(const g of C.gameplay.performController.performList)g.performName===t&&(i=!0,g.stopFunction(),C.gameplay.performController.unmountPerform(g.performName))}},1)})}},Cde=e=>{const t=B.getState().userData,r=t.optionData.volumeMain,n=r*.01*t.optionData.vocalVolume*.01,i=r*.01*t.optionData.bgmVolume*.01,o=R1();let a=Oe(e,"skipOff"),s=!1;a&&(s=!0),Xn.render(S.jsx("div",{className:Ln.videoContainer,children:S.jsx("video",{className:Ln.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer"));let u=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>s,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(l=>{setTimeout(()=>{let c=document.getElementById("playVideoElement");if(c!==null){c.currentTime=0,c.volume=i;const f=()=>{for(const y of C.gameplay.performController.performList)y.performName===o&&(u=!0,y.stopFunction(),C.gameplay.performController.unmountPerform(y.performName))},h=()=>{f()};C.events.fullscreenDbClick.on(h);const d={performName:o,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{C.events.fullscreenDbClick.off(h);const y=document.getElementById("currentBgm");y&&(y.volume=i.toString());const _=document.getElementById("currentVocal");y&&(_.volume=n.toString()),Xn.render(S.jsx("div",{}),document.getElementById("videoContainer"))},blockingNext:()=>s,blockingAuto:()=>!u,stopTimeout:void 0,goNextWhenOver:!0};l(d);const v=0,g=0,p=document.getElementById("currentBgm");p&&(p.volume=g.toString());const m=document.getElementById("currentVocal");p&&(m.volume=v.toString()),c==null||c.play(),c.onended=()=>{f()}}},1)})}},Ode=e=>{var a;B.getState().stage.currentDialogKey;const t=e.content,r=Rr(t),n=(((a=Oe(e,"target"))==null?void 0:a.toString())??"default_id").toString(),i=`${n}-${t}-${r}`;let o;return setTimeout(()=>{var u,l;(u=C.gameplay.pixiStage)==null||u.stopPresetAnimationOnTarget(n);const s=Gh(t,n,r);s&&(re.debug(`${t}${n}`,r),(l=C.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),o=()=>{setTimeout(()=>{var s;B.getState().stage.currentDialogKey,(s=C.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Ade(e,t){const r=C.gameplay.pixiStage.getStageObjByKey(e);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function o(a){if(r){const s=r.pixiContainer,u=C.gameplay.pixiStage.frameDuration,l=t/u*a,c=1/l,f=5/l;s.alpha<1&&(s.alpha+=c),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:o}}const Pde=[{name:"universalSoftIn",animationGenerateFunc:Zk},{name:"universalSoftOff",animationGenerateFunc:Jk},{name:"testblur",animationGenerateFunc:Ade}],kde=e=>{var s,u,l;B.getState().stage.currentDialogKey;const t=e.content,r=Oe(e,"duration")??0,n=((s=Oe(e,"target"))==null?void 0:s.toString())??"0",i=`${n}-${t}-${r}`,o=Rde(t);let a=()=>{};if(o){re.debug(`${t}${n}`,r);const c=o(n,r);(u=C.gameplay.pixiStage)==null||u.stopPresetAnimationOnTarget(n),(l=C.gameplay.pixiStage)==null||l.registerAnimation(c,i,n),a=()=>{var f;B.getState().stage.currentDialogKey,(f=C.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Rde(e){const t=Pde.find(r=>r.name===e);return re.debug("",t),t?t.animationGenerateFunc:null}const Ide=e=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Nde=e=>{var l;B.getState().stage.currentDialogKey;const t=(Math.random()*10).toString(16),r=e.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:t,effects:n};C.animationManager.addAnimation(i);const o=Rr(t),a=((l=Oe(e,"target"))==null?void 0:l.toString())??"0",s=`${a}-${t}-${o}`;let u=()=>{};return setTimeout(()=>{var f,h;(f=C.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(a);const c=Gh(t,a,o);c&&(re.debug(`${t}${a}`,o),(h=C.gameplay.pixiStage)==null||h.registerAnimation(c,s,a))},0),u=()=>{setTimeout(()=>{var c;B.getState().stage.currentDialogKey,(c=C.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:o,isHoldOn:!1,stopFunction:u,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Lde(e){return e.content==="hide"?B.dispatch(Te({key:"isDisableTextbox",value:!0})):B.dispatch(Te({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const Mde=e=>{var c;B.getState().stage.currentDialogKey;const t=(Math.random()*10).toString(16),r=e.content;let n;const i=Oe(e,"duration"),o=((c=Oe(e,"target"))==null?void 0:c.toString())??"0";try{const f=JSON.parse(r);n=Sl(o,f,i),console.log("animationObj:",n)}catch{n=[]}const a={name:t,effects:n};C.animationManager.addAnimation(a);const s=Dde(t),u=`${o}-${t}-${s}`;let l=()=>{};return setTimeout(()=>{var h,d;(h=C.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(o);const f=Fde(t,o,s);f&&(re.debug(`${t}${o}`,s),(d=C.gameplay.pixiStage)==null||d.registerAnimation(f,u,o))},0),l=()=>{setTimeout(()=>{var f;B.getState().stage.currentDialogKey,(f=C.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(u)},0)},{performName:u,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Fde(e,t,r){const n=C.animationManager.getAnimations().find(i=>i.name===e);if(n){const i=n.effects.map(o=>{const a=yt({...cb,duration:0});return Wn.assignTransform(a,o),a.duration=o.duration,a});return re.debug("",i),iL(i,t,r)}return null}function Dde(e){const t=C.animationManager.getAnimations().find(r=>r.name===e);if(t){let r=0;return t.effects.forEach(n=>{r+=n.duration}),r}return 0}const Bde=e=>{let t="0";for(const r of e.args)r.key==="target"&&(t=r.value.toString());return Oe(e,"enter")&&C.animationManager.nextEnterAnimationName.set(t,Oe(e,"enter").toString()),Oe(e,"exit")&&C.animationManager.nextExitAnimationName.set(t+"-off",Oe(e,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},jde=e=>{const t=e.content;let r=e.content,n="default";e.args.forEach(o=>{o.key==="name"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())}),re.info(`BGM${r}${t}${n}`),B.dispatch(gk({name:r,url:t,series:n}));const i=B.getState().userData;return ca.setItem(C.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},$de=e=>{const t=e.content;let r=e.content,n="default";e.args.forEach(o=>{o.key==="name"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())}),re.info(`CG${r}${t}${n}`),B.dispatch(mk({name:r,url:t,series:n}));const i=B.getState().userData;return ca.setItem(C.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Ude=e=>{bp(!0);const t=B.dispatch,r=jr("start.txt",Br.scene);return setTimeout(()=>{C.sceneManager.resetScene()},5),t(vi.resetFastSave()),wh(),ti(r).then(n=>{C.sceneManager.sceneData.currentScene=On(n,"start.txt",r)}),t(Ie({component:"showTitle",visibility:!0})),Qx(B.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Gde=e=>(aL(e.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),zde=e=>(C.gameplay.performController.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){re.warn("pixi ",t.performName);for(let r=0;r<C.gameplay.performController.performList.length;r++){const n=C.gameplay.performController.performList[r];n.performName===t.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),C.gameplay.performController.performList.splice(r,1),r--)}B.dispatch(Lt.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),ze={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},Hde=e=>(ze.maxAudioLevel=Math.max(e,ze.maxAudioLevel),{OPEN_THRESHOLD:ze.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:ze.maxAudioLevel*.5}),Vde=e=>{let t=!1;function r(){var n;t||e.animationEndTime&&Date.now()>e.animationEndTime||(t=!0,(n=C.gameplay.pixiStage)==null||n.performBlinkAnimation(e.key,e.animationItem,"closed",e.pos),ze.blinkTimerID=setTimeout(()=>{var o;(o=C.gameplay.pixiStage)==null||o.performBlinkAnimation(e.key,e.animationItem,"open",e.pos),t=!1;const i=Math.random()*300+3500;ze.blinkTimerID=setTimeout(r,i)},200))}r()},Wde=(e,t,r)=>{e.getByteFrequencyData(t);let n=0;for(let i=0;i<r;i++)n+=t[i];return n/r},p0=e=>{var h,d;const{audioLevel:t,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:o,key:a,animationItem:s,pos:u}=e;let l;t>r?l=1:t>n?l=.5:l=0;const c=i+(l-i)*o;(h=C.gameplay.pixiStage)==null||h.setModelMouthY(a,t);let f;c>.75?f="open":c>.25?f="half_open":f="closed",s!==void 0&&((d=C.gameplay.pixiStage)==null||d.performMouthSyncAnimation(a,s,f,u))},qde=e=>{re.debug("play vocal");const t="vocal-play",r=Oe(e,"vocal"),n=Oe(e,"volume");let i;i=B.getState().stage;let o="",a="";const s=i.freeFigure,u=i.figureAssociatedAnimation;let l=0,c=0;const f=1;let h=document.getElementById("currentVocal");C.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const v of e.args)v.value===!0&&Jl(v.key).with("left",()=>{o="left"}).with("right",()=>{o="right"}).endsWith("center",()=>{o="center"}),v.key==="figureId"&&(a=`${v.value.toString()}`);B.dispatch(Te({key:"playVocal",value:r})),B.dispatch(Te({key:"vocal",value:r}));let d=!1;return{arrangePerformPromise:new Promise(v=>{setTimeout(()=>{let g=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?B.dispatch(Te({key:"vocalVolume",value:n})):B.dispatch(Te({key:"vocalVolume",value:100})),g!==null){g.currentTime=0;const p={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(ze.audioLevelInterval),g.pause(),a=a||`fig-${o}`;const y=u.find(_=>_.targetId===a);p0({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:c,lerpSpeed:f,key:a,animationItem:y,pos:o}),clearTimeout(ze.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!d,skipNextCollect:!0,stopTimeout:void 0};C.gameplay.performController.arrangeNewPerform(p,e,!1),a=a||`fig-${o}`;const m=u.find(y=>y.targetId===a);if(m){const y=s.find(b=>b.key===a);if(y&&(o=y.basePosition),!ze.audioContext){let b;b=new AudioContext,ze.analyser=b.createAnalyser(),ze.analyser.fftSize=256,ze.dataArray=new Uint8Array(ze.analyser.frequencyBinCount)}ze.analyser||(ze.analyser=ze.audioContext.createAnalyser(),ze.analyser.fftSize=256),l=ze.analyser.frequencyBinCount,ze.dataArray=new Uint8Array(l);let _=document.getElementById("currentVocal");ze.source||(ze.source=ze.audioContext.createMediaElementSource(_),ze.source.connect(ze.analyser)),ze.analyser.connect(ze.audioContext.destination),ze.audioLevelInterval=setInterval(()=>{const b=Wde(ze.analyser,ze.dataArray,l),{OPEN_THRESHOLD:w,HALF_OPEN_THRESHOLD:E}=Hde(b);p0({audioLevel:b,OPEN_THRESHOLD:w,HALF_OPEN_THRESHOLD:E,currentMouthValue:c,lerpSpeed:f,key:a,animationItem:m,pos:o})},50);let x;x=Date.now()+1e4,Vde({key:a,animationItem:m,pos:o,animationEndTime:x}),setTimeout(()=>{clearTimeout(ze.blinkTimerID)},1e4)}g==null||g.play(),g.onended=()=>{for(const y of C.gameplay.performController.performList)y.performName===t&&(d=!0,y.stopFunction(),C.gameplay.performController.unmountPerform(y.performName))}}},1)})}},Xde=e=>{const t=B.getState().stage,r=B.getState().userData,n=B.dispatch;let i=Math.random().toString(),o=e.content;o&&(o=String(o).replace(/ {2,}/g,P=>"".repeat(P.length)));const a=Oe(e,"concat"),s=Oe(e,"notend"),u=Oe(e,"speaker"),l=Oe(e,"clear"),c=Oe(e,"vocal");a?(i=t.currentDialogKey,o=t.showText+o,n(Te({key:"currentConcatDialogPrev",value:t.showText}))):n(Te({key:"currentConcatDialogPrev",value:""})),n(Te({key:"showText",value:o})),n(Te({key:"vocal",value:""})),r.optionData.voiceInterruption===gl.no&&c===null||(n(Te({key:"playVocal",value:""})),C.gameplay.performController.unmountPerform("vocal-play",!0)),n(Te({key:"currentDialogKey",value:i}));const f=Ex(r.optionData.textSpeed),d=po(e.content,3).reduce((P,A)=>P+A.length,0),v=f*d;for(const P of e.args)if(P.key==="fontSize")switch(P.value){case"default":n(Te({key:"showTextSize",value:-1}));break;case"small":n(Te({key:"showTextSize",value:nn.small}));break;case"medium":n(Te({key:"showTextSize",value:nn.medium}));break;case"large":n(Te({key:"showTextSize",value:nn.large}));break}let g=t.showName;u!==null&&(g=u),l&&(g=""),n(Te({key:"showName",value:g}));let p=null,m=0,y="",_="";for(const P of e.args)P.value===!0&&Jl(P.key).with("left",()=>{y="left"}).with("right",()=>{y="right"}).endsWith("center",()=>{y="center"}),P.key==="figureId"&&(_=`${P.value.toString()}`);let x=80;const b=(P=!1)=>{let A=x+(Math.random()*60-30);Math.abs(A-x)<5&&(A=x+Math.sign(A-x)*5),x=Math.max(15,Math.min(A,100));const j=B.getState().stage.figureAssociatedAnimation.find(q=>q.targetId===_),z=_||`fig-${y}`;P&&(x=0),p0({audioLevel:x,OPEN_THRESHOLD:50,HALF_OPEN_THRESHOLD:25,currentMouthValue:0,lerpSpeed:1,key:z,animationItem:j,pos:y}),P||(p=setTimeout(b,50))};c?qde(e):(_||y)&&(m=d*250,b());const w=R1();let E=Tx(r.optionData.textSpeed)/2;return s&&(E=0),{performName:w,duration:v+E+m,isHoldOn:!1,stopFunction:()=>{C.events.textSettle.emit(),p&&(b(!0),clearTimeout(p))},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}};var vc={},T1={},Yde={document:{}},Cp=Object.prototype.hasOwnProperty,bL=function(e){return Op(e)?e.toLowerCase():e},rl=Array.isArray,Kde=function(e){return Op(e)?e.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)|32)}):e};"I".toLowerCase()!=="i"&&(bL=Kde);function Hh(e){var t=Function.prototype.constructor;delete Function.prototype.constructor;var r=e();return Function.prototype.constructor=t,r}var Zde,C1=Object.prototype.toString,SL=Object.getPrototypeOf,og=AL("ng");function Jde(e){if(e==null||A1(e))return!1;if(rl(e)||Op(e)||Zde)return!0;var t="length"in Object(e)&&e.length;return O1(t)&&(t>=0&&(t-1 in e||e instanceof Array)||typeof e.item=="function")}function pt(e,t,r){var n,i;if(e)if(CL(e))for(n in e)n!=="prototype"&&n!=="length"&&n!=="name"&&e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else if(rl(e)||Jde(e)){var o=typeof e!="object";for(n=0,i=e.length;n<i;n++)(o||n in e)&&t.call(r,e[n],n,e)}else if(e.forEach&&e.forEach!==pt)e.forEach(t,r,e);else if(TL(e))for(n in e)t.call(r,e[n],n,e);else if(typeof e.hasOwnProperty=="function")for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else for(n in e)Cp.call(e,n)&&t.call(r,e[n],n,e);return e}function Qde(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function wL(){}function epe(e){return typeof e>"u"}function $a(e){return typeof e<"u"}function EL(e){return e!==null&&typeof e=="object"}function TL(e){return e!==null&&typeof e=="object"&&!SL(e)}function Op(e){return typeof e=="string"}function O1(e){return typeof e=="number"}function CL(e){return typeof e=="function"}function A1(e){return e&&e.window===e}function OL(e){return e&&e.$evalAsync&&e.$watch}var tpe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function rpe(e){return e&&O1(e.length)&&tpe.test(C1.call(e))}function npe(e){return C1.call(e)==="[object ArrayBuffer]"}function ipe(e,t){var r=[],n=[];if(t){if(rpe(t)||npe(t))throw og("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw og("cpi","Can't copy! Source and destination are identical.");return rl(t)?t.length=0:pt(t,function(s,u){u!=="$$hashKey"&&delete t[u]}),r.push(e),n.push(t),i(e,t)}return o(e);function i(s,u){var l=u.$$hashKey,c;if(rl(s))for(var f=0,h=s.length;f<h;f++)u.push(o(s[f]));else if(TL(s))for(c in s)u[c]=o(s[c]);else if(s&&typeof s.hasOwnProperty=="function")for(c in s)s.hasOwnProperty(c)&&(u[c]=o(s[c]));else for(c in s)Cp.call(s,c)&&(u[c]=o(s[c]));return Qde(u,l),u}function o(s){if(!EL(s))return s;var u=r.indexOf(s);if(u!==-1)return n[u];if(A1(s)||OL(s))throw og("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,c=a(s);return c===void 0&&(c=rl(s)?[]:Object.create(SL(s)),l=!0),r.push(s),n.push(c),l?i(s,c):c}function a(s){switch(C1.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(o(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var u=new ArrayBuffer(s.byteLength);return new Uint8Array(u).set(new Uint8Array(s)),u}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(CL(s.cloneNode))return s.cloneNode(!0)}}function ope(e,t){var r=t;return typeof e=="string"&&e.charAt(0)==="$"&&e.charAt(1)==="$"?r=void 0:A1(t)?r="$WINDOW":t&&Yde.document===t?r="$DOCUMENT":OL(t)&&(r="$SCOPE"),r}function ape(){return Object.create(null)}function spe(e){var t=[];return JSON.stringify(e,function(r,n){if(n=ope(r,n),EL(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function pO(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):epe(e)?"undefined":typeof e!="string"?spe(e):e}function AL(e,t){return t=t||Error,function(){var r=2,n=arguments,i=n[0],o="["+(e?e+":":"")+i+"] ",a=n[1],s,u;for(o+=a.replace(/\{\d+\}/g,function(l){var c=+l.slice(1,-1),f=c+r;return f<n.length?pO(n[f]):l}),o+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(e?e+"/":"")+i,u=r,s="?";u<n.length;u++,s="&")o+=s+"p"+(u-r)+"="+encodeURIComponent(pO(n[u]));return new t(o)}}var Ua=AL("$parse");function PL(e){return e+""}var Gf=ape();pt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Gf[e]=!0});var upe={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'};function zf(e){this.options=e||{}}zf.prototype={constructor:zf,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if(t==='"'||t==="'"||t==="`")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var r=t+this.peek(),n=r+this.peek(2),i=Gf[t],o=Gf[r],a=Gf[n];if(i||o||a){var s=a?n:o?r:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&e<="9"&&typeof e=="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e===""},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return e.length===1?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var r=e.charCodeAt(0),n=t.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?e+t:e},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,r){r=r||this.index;var n=$a(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,r)+"]":" "+r;throw Ua("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var r=bL(this.text.charAt(this.index));if(r==="."||this.isNumber(r))e+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))e+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&e.charAt(e.length-1)==="e")e+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&e.charAt(e.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var r="",n=e,i=e==="`",o=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i&&a==="$"&&this.text.charAt(this.index+1)==="{"){this.tokens.push({index:t,text:n,constant:!0,value:r});var s=this.text.indexOf("}",this.index),u=this.text.substr(this.index+2,s-this.index-2);this.tokens.push({index:this.index,text:"+",operator:!0});for(var l=new zf(this.options).lex(u),c=0,f=l.length;c<f;c++)this.tokens.push(l[c]);this.tokens.push({index:this.index,text:"+",operator:!0}),this.index=s,this.readString("`");return}if(n+=a,o){if(a==="u"){var h=this.text.substring(this.index+1,this.index+5);h.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+h+"]"),this.index+=4,r+=String.fromCharCode(parseInt(h,16))}else{var d=upe[a];r=r+(d||a)}o=!1}else if(a==="\\")o=!0;else if(a===e){this.index++,this.tokens.push({index:t,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",t)}};function W(e,t){this.lexer=e,this.options=t}W.Program="Program";W.ExpressionStatement="ExpressionStatement";W.AssignmentExpression="AssignmentExpression";W.ConditionalExpression="ConditionalExpression";W.LogicalExpression="LogicalExpression";W.BinaryExpression="BinaryExpression";W.UnaryExpression="UnaryExpression";W.CallExpression="CallExpression";W.MemberExpression="MemberExpression";W.Identifier="Identifier";W.Literal="Literal";W.ArrayExpression="ArrayExpression";W.Property="Property";W.ObjectExpression="ObjectExpression";W.ThisExpression="ThisExpression";W.LocalsExpression="LocalsExpression";W.NGValueParameter="NGValueParameter";W.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:W.Program,body:e}},expressionStatement:function(){return{type:W.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!IL(e))throw Ua("lval","Trying to assign a value to a non l-value");e={type:W.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR(),t,r;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(r=this.expression(),{type:W.ConditionalExpression,test:e,alternate:t,consequent:r}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:W.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:W.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e=this.relational(),t;t=this.expect("==","!=","===","!==");)e={type:W.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var e=this.additive(),t;t=this.expect("<",">","<=",">=");)e={type:W.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e={type:W.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e={type:W.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:W.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=ipe(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:W.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)t.text==="("?(e={type:W.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(e={type:W.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?e={type:W.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],r={type:W.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return r},parseArguments:function(){var e=[];if(this.peekToken().text!==")")do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:W.Identifier,name:e.text}},constant:function(){return{type:W.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:W.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;t={type:W.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:W.ObjectExpression,properties:e}},throwError:function(e,t){throw Ua("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0)throw Ua("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw Ua("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,r,n){return this.peekAhead(0,e,t,r,n)},peekAhead:function(e,t,r,n,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===r||a===n||a===i||!t&&!r&&!n&&!i)return o}return!1},expect:function(e,t,r,n){var i=this.peek(e,t,r,n);return i?(this.tokens.shift(),i):!1}};function lpe(e,t){return typeof e<"u"?e:t}function kL(e,t){return typeof e>"u"?t:typeof t>"u"?e:e+t}function cpe(e,t){var r=e(t);if(!r)throw new Error("Filter '"+t+"' is not defined");return!r.$stateful}function Ut(e,t){var r,n,i;switch(e.type){case W.Program:r=!0,pt(e.body,function(o){Ut(o.expression,t),r=r&&o.expression.constant}),e.constant=r;break;case W.Literal:e.constant=!0,e.toWatch=[];break;case W.UnaryExpression:Ut(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case W.BinaryExpression:Ut(e.left,t),Ut(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case W.LogicalExpression:Ut(e.left,t),Ut(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case W.ConditionalExpression:Ut(e.test,t),Ut(e.alternate,t),Ut(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case W.Identifier:e.constant=!1,e.toWatch=[e];break;case W.MemberExpression:Ut(e.object,t),e.computed&&Ut(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case W.CallExpression:i=e.filter?cpe(t,e.callee.name):!1,r=i,n=[],pt(e.arguments,function(o){Ut(o,t),r=r&&o.constant,o.constant||n.push.apply(n,o.toWatch)}),e.constant=r,e.toWatch=i?n:[e];break;case W.AssignmentExpression:Ut(e.left,t),Ut(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case W.ArrayExpression:r=!0,n=[],pt(e.elements,function(o){Ut(o,t),r=r&&o.constant,o.constant||n.push.apply(n,o.toWatch)}),e.constant=r,e.toWatch=n;break;case W.ObjectExpression:r=!0,n=[],pt(e.properties,function(o){Ut(o.value,t),r=r&&o.value.constant&&!o.computed,o.value.constant||n.push.apply(n,o.value.toWatch)}),e.constant=r,e.toWatch=n;break;case W.ThisExpression:e.constant=!1,e.toWatch=[];break;case W.LocalsExpression:e.constant=!1,e.toWatch=[];break}}function RL(e){if(e.length===1){var t=e[0].expression,r=t.toWatch;return r.length!==1||r[0]!==t?r:void 0}}function IL(e){return e.type===W.Identifier||e.type===W.MemberExpression}function NL(e){if(e.body.length===1&&IL(e.body[0].expression))return{type:W.AssignmentExpression,left:e.body[0].expression,right:{type:W.NGValueParameter},operator:"="}}function LL(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===W.Literal||e.body[0].expression.type===W.ArrayExpression||e.body[0].expression.type===W.ObjectExpression)}function ML(e){return e.constant}function FL(e,t){this.astBuilder=e,this.$filter=t}FL.prototype={compile:function(e){var t=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ut(r,t.$filter);var n="",i;if(this.stage="assign",i=NL(r)){this.state.computing="assign";var o=this.nextId();this.recurse(i,o),this.return_(o),n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=RL(r.body);t.stage="inputs",pt(a,function(c,f){var h="fn"+f;t.state[h]={vars:[],body:[],own:{}},t.state.computing=h;var d=t.nextId();t.recurse(c,d),t.return_(d),t.state.inputs.push(h),c.watchId=f}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,PL,lpe,kL),l=function(c,f,h,d){return Hh(function(){return u(c,f,h,d)})};return l.assign=function(c,f,h){return Hh(function(){return u.assign(c,f,h)})},l.inputs=u.inputs,this.state=this.stage=void 0,l.ast=r,l.literal=LL(r),l.constant=ML(r),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,r=this;return pt(t,function(n){e.push("var "+n+"="+r.generateFunction(n,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return pt(this.state.filters,function(r,n){e.push(r+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,n,i,o){var a,s,u=this,l,c,f;if(n=n||wL,!o&&$a(e.watchId)){t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.unsafeComputedMember("i",e.watchId)),this.lazyRecurse(e,t,r,n,i,!0));return}switch(e.type){case W.Program:pt(e.body,function(d,v){u.recurse(d.expression,void 0,void 0,function(g){s=g}),v!==e.body.length-1?u.current().body.push(s,";"):u.return_(s)});break;case W.Literal:c=this.escape(e.value),this.assign(t,c),n(t||c);break;case W.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(d){s=d}),c=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),n(c);break;case W.BinaryExpression:this.recurse(e.left,void 0,void 0,function(d){a=d}),this.recurse(e.right,void 0,void 0,function(d){s=d}),e.operator==="+"?c=this.plus(a,s):e.operator==="-"?c=this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):c="("+a+")"+e.operator+"("+s+")",this.assign(t,c),n(c);break;case W.LogicalExpression:t=t||this.nextId(),u.recurse(e.left,t),u.if_(e.operator==="&&"?t:u.not(t),u.lazyRecurse(e.right,t)),n(t);break;case W.ConditionalExpression:t=t||this.nextId(),u.recurse(e.test,t),u.if_(t,u.lazyRecurse(e.alternate,t),u.lazyRecurse(e.consequent,t)),n(t);break;case W.Identifier:t=t||this.nextId();var h=u.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=u.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),u.if_(u.stage==="inputs"||u.not(u.getHasOwnProperty("l",e.name)),function(){u.if_(u.stage==="inputs"||u.and_("s",u.or_(u.isNull(u.nonComputedMember("s",e.name)),u.hasOwnProperty_("s",e.name))),function(){i&&i!==1&&u.if_(u.isNull(u.nonComputedMember("s",e.name)),u.lazyAssign(u.nonComputedMember("s",e.name),"{}")),u.assign(t,u.nonComputedMember("s",e.name))})},t&&function(){u.if_(u.hasOwnProperty_("l",e.name),u.lazyAssign(t,u.nonComputedMember("l",e.name)))}),n(t);break;case W.MemberExpression:a=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),u.recurse(e.object,a,void 0,function(){var d=null,v=u.current().inAssignment;e.computed?(s=u.nextId(),v||u.state.computing==="assign"?d=u.unsafeComputedMember(a,s):d=u.computedMember(a,s)):(v||u.state.computing==="assign"?d=u.unsafeNonComputedMember(a,e.property.name):d=u.nonComputedMember(a,e.property.name),s=e.property.name),e.computed&&e.property.type===W.Literal&&u.recurse(e.property,s),u.if_(u.and_(u.notNull(a),u.or_(u.isNull(d),u.hasOwnProperty_(a,s,e.computed))),function(){e.computed?(e.property.type!==W.Literal&&u.recurse(e.property,s),i&&i!==1&&u.if_(u.not(d),u.lazyAssign(d,"{}")),u.assign(t,d),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&u.if_(u.isNull(d),u.lazyAssign(d,"{}")),u.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){u.assign(t,"undefined")}),n(t)},!!i);break;case W.CallExpression:t=t||this.nextId(),e.filter?(s=u.filter(e.callee.name),l=[],pt(e.arguments,function(d){var v=u.nextId();u.recurse(d,v),l.push(v)}),c=s+".call("+s+","+l.join(",")+")",u.assign(t,c),n(t)):(s=u.nextId(),a={},l=[],u.recurse(e.callee,s,a,function(){u.if_(u.notNull(s),function(){if(pt(e.arguments,function(v){u.recurse(v,e.constant?void 0:u.nextId(),void 0,function(g){l.push(g)})}),a.name){var d=u.member(a.context,a.name,a.computed);c="("+d+" === null ? null : "+u.unsafeMember(a.context,a.name,a.computed)+".call("+[a.context].concat(l).join(",")+"))"}else c=s+"("+l.join(",")+")";u.assign(t,c)},function(){u.assign(t,"undefined")}),n(t)}));break;case W.AssignmentExpression:s=this.nextId(),a={},u.current().inAssignment=!0,this.recurse(e.left,void 0,a,function(){u.if_(u.and_(u.notNull(a.context),u.or_(u.hasOwnProperty_(a.context,a.name),u.isNull(u.member(a.context,a.name,a.computed)))),function(){u.recurse(e.right,s),c=u.member(a.context,a.name,a.computed)+e.operator+s,u.assign(t,c),n(t||c)}),u.current().inAssignment=!1,u.recurse(e.right,s),u.current().inAssignment=!0},1),u.current().inAssignment=!1;break;case W.ArrayExpression:l=[],pt(e.elements,function(d){u.recurse(d,e.constant?void 0:u.nextId(),void 0,function(v){l.push(v)})}),c="["+l.join(",")+"]",this.assign(t,c),n(t||c);break;case W.ObjectExpression:l=[],f=!1,pt(e.properties,function(d){d.computed&&(f=!0)}),f?(t=t||this.nextId(),this.assign(t,"{}"),pt(e.properties,function(d){d.computed?(a=u.nextId(),u.recurse(d.key,a)):a=d.key.type===W.Identifier?d.key.name:""+d.key.value,s=u.nextId(),u.recurse(d.value,s),u.assign(u.unsafeMember(t,a,d.computed),s)})):(pt(e.properties,function(d){u.recurse(d.value,e.constant?void 0:u.nextId(),void 0,function(v){l.push(u.escape(d.key.type===W.Identifier?d.key.name:""+d.key.value)+":"+v)})}),c="{"+l.join(",")+"}",this.assign(t,c)),n(t||c);break;case W.ThisExpression:this.assign(t,"s"),n(t||"s");break;case W.LocalsExpression:this.assign(t,"l"),n(t||"l");break;case W.NGValueParameter:this.assign(t,"v"),n(t||"v");break}},getHasOwnProperty:function(e,t){var r=e+"."+t,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[r]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return Cp.call(this.state.filters,e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,r){if(e===!0)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(e,t){return"("+e+") || ("+t+")"},hasOwnProperty_:function(e,t,r){return r?"(Object.prototype.hasOwnProperty.call("+e+","+t+"))":"(Object.prototype.hasOwnProperty.call("+e+",'"+t+"'))"},and_:function(e,t){return"("+e+") && ("+t+")"},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(t)?i=e+"."+t:(t=t.replace(n,this.stringEscapeFn),i=e+'["'+t+'"]'),i},unsafeComputedMember:function(e,t){return e+"["+t+"]"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return this.state.computing==="assign"?this.unsafeComputedMember(e,t):"("+e+".hasOwnProperty("+t+") ? "+e+"["+t+"] : undefined)"},unsafeMember:function(e,t,r){return r?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,r){return r?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,r,n,i,o){var a=this;return function(){a.recurse(e,t,r,n,i,o)}},lazyAssign:function(e,t){var r=this;return function(){r.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(Op(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(O1(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(e===null)return"null";if(typeof e>"u")return"undefined";throw Ua("esc","IMPOSSIBLE")},nextId:function(e,t){var r="v"+this.state.nextId++;return e||this.current().vars.push(r+(t?"="+t:"")),r},current:function(){return this.state[this.state.computing]}};function DL(e,t){this.astBuilder=e,this.$filter=t}DL.prototype={compile:function(e){var t=this,r=this.astBuilder.ast(e);Ut(r,t.$filter);var n,i;(n=NL(r))&&(i=this.recurse(n));var o=RL(r.body),a;o&&(a=[],pt(o,function(c,f){var h=t.recurse(c);c.input=h,a.push(h),c.watchId=f}));var s=[];pt(r.body,function(c){s.push(t.recurse(c.expression))});var u=r.body.length===0?wL:r.body.length===1?s[0]:function(c,f){var h;return pt(s,function(d){h=d(c,f)}),h};i&&(u.assign=function(c,f,h){return i(c,h,f)});var l=function(c,f){return Hh(function(){return u(c,f)})};return l.assign=function(c,f,h){return Hh(function(){return u.assign(c,f,h)})},a&&(l.inputs=a),l.ast=r,l.literal=LL(r),l.constant=ML(r),l},recurse:function(e,t,r){var n,i,o=this,a;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case W.Literal:return this.value(e.value,t);case W.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case W.BinaryExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case W.LogicalExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case W.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case W.Identifier:return o.identifier(e.name,t,r);case W.MemberExpression:return n=this.recurse(e.object,!1,!!r),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(n,i,t,r):this.nonComputedMember(n,i,t,r);case W.CallExpression:return a=[],pt(e.arguments,function(s){a.push(o.recurse(s))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(s,u,l,c){for(var f=[],h=0;h<a.length;++h)f.push(a[h](s,u,l,c));var d=i.apply(void 0,f,c);return t?{context:void 0,name:void 0,value:d}:d}:function(s,u,l,c){var f=i(s,u,l,c),h;if(f.value!=null){for(var d=[],v=0;v<a.length;++v)d.push(a[v](s,u,l,c));h=f.value.apply(f.context,d)}return t?{value:h}:h};case W.AssignmentExpression:return n=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(s,u,l,c){var f=n(s,!1,l,c),h=i(s,u,l,c);return f.context[f.name]=h,t?{value:h}:h};case W.ArrayExpression:return a=[],pt(e.elements,function(s){a.push(o.recurse(s))}),function(s,u,l,c){for(var f=[],h=0;h<a.length;++h)f.push(a[h](s,u,l,c));return t?{value:f}:f};case W.ObjectExpression:return a=[],pt(e.properties,function(s){s.computed?a.push({key:o.recurse(s.key),computed:!0,value:o.recurse(s.value)}):a.push({key:s.key.type===W.Identifier?s.key.name:""+s.key.value,computed:!1,value:o.recurse(s.value)})}),function(s,u,l,c){for(var f={},h=0;h<a.length;++h)a[h].computed?f[a[h].key(s,u,l,c)]=a[h].value(s,u,l,c):f[a[h].key]=a[h].value(s,u,l,c);return t?{value:f}:f};case W.ThisExpression:return function(s){return t?{value:s}:s};case W.LocalsExpression:return function(s,u){return t?{value:u}:u};case W.NGValueParameter:return function(s,u,l){return t?{value:l}:l}}},"unary+":function(e,t){return function(r,n,i,o){var a=e(r,n,i,o);return $a(a)?a=+a:a=0,t?{value:a}:a}},"unary-":function(e,t){return function(r,n,i,o){var a=e(r,n,i,o);return $a(a)?a=-a:a=-0,t?{value:a}:a}},"unary!":function(e,t){return function(r,n,i,o){var a=!e(r,n,i,o);return t?{value:a}:a}},"binary+":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a),u=t(n,i,o,a),l=kL(s,u);return r?{value:l}:l}},"binary-":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a),u=t(n,i,o,a),l=($a(s)?s:0)-($a(u)?u:0);return r?{value:l}:l}},"binary*":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)*t(n,i,o,a);return r?{value:s}:s}},"binary/":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)/t(n,i,o,a);return r?{value:s}:s}},"binary%":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)%t(n,i,o,a);return r?{value:s}:s}},"binary===":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)===t(n,i,o,a);return r?{value:s}:s}},"binary!==":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)!==t(n,i,o,a);return r?{value:s}:s}},"binary==":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)==t(n,i,o,a);return r?{value:s}:s}},"binary!=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)!=t(n,i,o,a);return r?{value:s}:s}},"binary<":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)<t(n,i,o,a);return r?{value:s}:s}},"binary>":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)>t(n,i,o,a);return r?{value:s}:s}},"binary<=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)<=t(n,i,o,a);return r?{value:s}:s}},"binary>=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)>=t(n,i,o,a);return r?{value:s}:s}},"binary&&":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)&&t(n,i,o,a);return r?{value:s}:s}},"binary||":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)||t(n,i,o,a);return r?{value:s}:s}},"ternary?:":function(e,t,r,n){return function(i,o,a,s){var u=e(i,o,a,s)?t(i,o,a,s):r(i,o,a,s);return n?{value:u}:u}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,r){return function(n,i){var o=i&&e in i?i:n;r&&r!==1&&o&&o[e]==null&&(o[e]={});var a;return o&&Cp.call(o,e)&&(a=o?o[e]:void 0),t?{context:o,name:e,value:a}:a}},computedMember:function(e,t,r,n){return function(i,o,a,s){var u=e(i,o,a,s),l,c;return u!=null&&(l=t(i,o,a,s),l=PL(l),n&&n!==1&&u&&!u[l]&&(u[l]={}),Object.prototype.hasOwnProperty.call(u,l)&&(c=u[l])),r?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,r,n){return function(i,o,a,s){var u=e(i,o,a,s);n&&n!==1&&u&&u[t]==null&&(u[t]={});var l=void 0;return u!=null&&Object.prototype.hasOwnProperty.call(u,t)&&(l=u[t]),r?{context:u,name:t,value:l}:l}},inputs:function(e,t){return function(r,n,i,o){return o?o[t]:e(r,n,i)}}};var v0=function(t,r,n){this.lexer=t,this.$filter=r,n=n||{},n.handleThis=n.handleThis!=null?n.handleThis:!0,this.options=n,this.ast=new W(t,n),this.ast.selfReferential={$locals:{type:W.LocalsExpression}},n.handleThis&&(this.ast.selfReferential.this={type:W.ThisExpression}),this.astCompiler=n.csp?new DL(this.ast,r):new FL(this.ast,r)};v0.prototype={constructor:v0,parse:function(e){return this.astCompiler.compile(e)}};T1.Lexer=zf;T1.Parser=v0;var BL=T1,jL={},$L=BL.Lexer,UL=BL.Parser;function fpe(e){return e=e||{},e.filters&&(e.cache=e.cache||{}),e.cache=e.cache||P1.cache,e.filters=e.filters||jL,e}function hpe(e){return{handleThis:e.handleThis!=null?e.handleThis:!0,csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}}}function P1(e,t){if(typeof e!="string")throw new TypeError("src must be a string, instead saw '"+typeof e+"'");t=fpe(t);var r=t,n=hpe(t),i=new $L(r),o=new UL(i,function(l){return t.filters[l]},n);if(!t.cache)return o.parse(e);delete t.src;var a=JSON.stringify(Object.assign({src:e},t)),s=t.cache[a];return s||(s=t.cache[a]=o.parse(e)),s}P1.cache=Object.create(null);vc.Lexer=$L;vc.Parser=UL;var GL=vc.compile=P1;vc.filters=jL;var dpe=Math.floor,ppe=Math.random;function vpe(e,t){return e+dpe(ppe()*(t-e+1))}var mpe=vpe,gpe=Id,ype=Gx,_pe=Bd,xpe=Tn;function bpe(e,t,r){if(!xpe(r))return!1;var n=typeof t;return(n=="number"?ype(r)&&_pe(t,r.length):n=="string"&&t in r)?gpe(r[t],e):!1}var Spe=bpe,wpe=/\s/;function Epe(e){for(var t=e.length;t--&&wpe.test(e.charAt(t)););return t}var Tpe=Epe,Cpe=Tpe,Ope=/^\s+/;function Ape(e){return e&&e.slice(0,Cpe(e)+1).replace(Ope,"")}var Ppe=Ape,kpe=Ppe,vO=Tn,Rpe=ip,mO=0/0,Ipe=/^[-+]0x[0-9a-f]+$/i,Npe=/^0b[01]+$/i,Lpe=/^0o[0-7]+$/i,Mpe=parseInt;function Fpe(e){if(typeof e=="number")return e;if(Rpe(e))return mO;if(vO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=kpe(e);var r=Npe.test(e);return r||Lpe.test(e)?Mpe(e.slice(2),r?2:8):Ipe.test(e)?mO:+e}var zL=Fpe,Dpe=zL,gO=1/0,Bpe=17976931348623157e292;function jpe(e){if(!e)return e===0?e:0;if(e=Dpe(e),e===gO||e===-gO){var t=e<0?-1:1;return t*Bpe}return e===e?e:0}var $pe=jpe,Upe=mpe,Gpe=Spe,yO=$pe,zpe=parseFloat,Hpe=Math.min,Vpe=Math.random;function Wpe(e,t,r){if(r&&typeof r!="boolean"&&Gpe(e,t,r)&&(t=r=void 0),r===void 0&&(typeof t=="boolean"?(r=t,t=void 0):typeof e=="boolean"&&(r=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=yO(e),t===void 0?(t=e,e=0):t=yO(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=Vpe();return Hpe(e+i*(t-e+zpe("1e-"+((i+"").length-1))),t)}return Upe(e,t)}var qpe=Wpe;const Xpe=rr(qpe),Ype=e=>{let t=!1;e.args.forEach(n=>{n.key==="global"&&(t=!0)});let r;if(t?r=q9:r=Q2,e.content.match(/\s*=\s*/)){const n=e.content.split(/\s*=\s*/)[0],i=e.content.split(/\s*=\s*/)[1];if(/^\s*[a-zA-Z_$][\w$]*\s*\(.*\)\s*$/.test(i))B.dispatch(r({key:n,value:Kpe(i)}));else if(i.match(/[+\-*\/()]/)){const a=i.split(/([+\-*\/()])/g).map(u=>{if(!u.trim().match(/^[a-zA-Z_$][a-zA-Z0-9_.]*$/))return u;const l=Vh(u.trim(),!0);return typeof l=="string"?`'${l}'`:l}).reduce((u,l)=>u+l,"");let s="";try{s=GL(a)()}catch(u){re.error("expression compile error",u)}B.dispatch(r({key:n,value:s}))}else i.match(/true|false/)?(i.match(/true/)&&B.dispatch(r({key:n,value:!0})),i.match(/false/)&&B.dispatch(r({key:n,value:!1}))):i.length===0?B.dispatch(r({key:n,value:""})):isNaN(Number(i))?B.dispatch(r({key:n,value:Vh(i,!0)})):B.dispatch(r({key:n,value:Number(i)}));t?(re.debug("",{key:n,value:B.getState().userData.globalGameVar[n]}),wh()):re.debug("",{key:n,value:B.getState().stage.GameVar[n]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Kpe(e){return vc.compile(e)({random:(...r)=>r.length?Xpe(...r):Math.random()})}function Zpe(e){let t;const r=B.getState().stage,n=B.getState().userData,i={stage:r,userData:n};if(r.GameVar.hasOwnProperty(e))t=r.GameVar[e];else if(n.globalGameVar.hasOwnProperty(e))t=n.globalGameVar[e];else if(e.startsWith("$")){const o=e.replace("$","");t=bJ(i,o,void 0)}return t}function Vh(e,t=!1){const r=Zpe(e);return r??(re.warn("valueFromState result null, key = "+e),t?e:`{${e}}`)}const Jpe=e=>{const t=B.getState().stage,r=B.getState().userData,n=B.dispatch,i={stageGameVar:t.GameVar,globalGameVar:r.globalGameVar};n(Te({key:"showText",value:JSON.stringify(i)})),n(Te({key:"showName",value:""})),re.debug("",i),setTimeout(()=>{C.events.textSettle.emit()},0);const o=R1(),a=750-r.optionData.textSpeed*250;return{performName:o,duration:a,isHoldOn:!1,stopFunction:()=>{C.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function De(e,t,r){return{scriptType:e,scriptFunction:t,...r}}const HL={};function Qpe(e){const t={};for(const[r,n]of Object.entries(e))t[r]=HL[n.scriptType]={scriptString:r,...n};return t}const eve=e=>{const{content:t}=e,r=t.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const o=i[0],a=i[1];B.dispatch(Lt.replaceUIlable([o,a]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},tve=e=>{const t=Number(e.content);return{performName:`wait${Math.random().toString()}`,duration:t,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},VL=Qpe({intro:De(Re.intro,_de),changeBg:De(Re.changeBg,Wfe),changeFigure:De(Re.changeFigure,qfe),miniAvatar:De(Re.miniAvatar,bde,{next:!0}),changeScene:De(Re.changeScene,Xfe),choose:De(Re.choose,Yhe),end:De(Re.end,Ude),bgm:De(Re.bgm,J7,{next:!0}),playVideo:De(Re.video,Cde),setComplexAnimation:De(Re.setComplexAnimation,kde),setFilter:De(Re.setFilter,Ide),pixiInit:De(Re.pixiInit,zde,{next:!0}),pixiPerform:De(Re.pixi,Ede,{next:!0}),label:De(Re.label,xde,{next:!0}),jumpLabel:De(Re.jumpLabel,Gde),setVar:De(Re.setVar,Ype,{next:!0}),showVars:De(Re.showVars,Jpe),unlockCg:De(Re.unlockCg,$de,{next:!0}),unlockBgm:De(Re.unlockBgm,jde,{next:!0}),say:De(Re.say,Xde),filmMode:De(Re.filmMode,Jhe,{next:!0}),callScene:De(Re.callScene,TY),setTextbox:De(Re.setTextbox,Lde),setAnimation:De(Re.setAnimation,Ode),playEffect:De(Re.playEffect,Tde,{next:!0}),setTempAnimation:De(Re.setTempAnimation,Nde),__commment:De(Re.comment,Zhe,{next:!0}),setTransform:De(Re.setTransform,Mde),setTransition:De(Re.setTransition,Bde,{next:!0}),getUserInput:De(Re.getUserInput,ode),applyStyle:De(Re.applyStyle,eve,{next:!0}),wait:De(Re.wait,tve)}),WL=Object.values(VL),rve=WL.filter(e=>e.next).map(e=>e.scriptType),Ap=new Z7(lH,jr,rve,WL),On=(e,t,r)=>{const n=Ap.parse(e,t,r);return re.info(`${t}`,n),n},k1=e=>{var n;let t=uH;t=(((n=HL[e.command])==null?void 0:n.scriptFunction)??VL.say.scriptFunction)(e),t.arrangePerformPromise?t.arrangePerformPromise.then(i=>C.gameplay.performController.arrangeNewPerform(i,e)):C.gameplay.performController.arrangeNewPerform(t,e)},nve=e=>{C.sceneManager.lockSceneWrite||(C.sceneManager.lockSceneWrite=!0,ti(e.sceneUrl).then(t=>{C.sceneManager.sceneData.currentScene=On(t,e.sceneName,e.sceneUrl),C.sceneManager.sceneData.currentSentenceId=e.continueLine+1,re.debug("",C.sceneManager.sceneData.currentScene),C.sceneManager.lockSceneWrite=!1,ir()}).catch(t=>{re.error("",t),C.sceneManager.lockSceneWrite=!1}))};function ive(e){try{return GL(e)()}catch{return!1}}const m0=e=>{if(e===void 0)return!0;const r=e.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g).map(n=>n.match(/[a-zA-Z]/)?n.match(/true/)||n.match(/false/)?n:Vh(n,!0):n).reduce((n,i)=>n+i,"");return!!ive(r)},qL=()=>{if(C.sceneManager.sceneData.currentSentenceId>C.sceneManager.sceneData.currentScene.sentenceList.length-1){if(C.sceneManager.sceneData.sceneStack.length!==0){const l=C.sceneManager.sceneData.sceneStack.pop();l!==void 0&&nve(l)}return}const e=yt(C.sceneManager.sceneData.currentScene.sentenceList[C.sceneManager.sceneData.currentSentenceId]),t=l=>{let c=l;const f=c.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const d=Vh(h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));c=c.replace(h,d)}),c=c.replace(/\\{/g,"{").replace(/\\}/g,"}"),c};(()=>{e.content=t(e.content),e.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=t(l.value))})})();let n=!0,i=!1,o="";if(e.args.forEach(l=>{l.key==="when"&&(i=!0,o=l.value.toString())}),i&&(n=m0(o)),!n){re.warn(""),C.sceneManager.sceneData.currentSentenceId++,ir();return}k1(e);let a=!1;e.args.forEach(l=>{l.key==="next"&&l.value&&(a=!0)});let s=e.command===Re.say;e.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let u;if(a){C.sceneManager.sceneData.currentSentenceId++,qL();return}setTimeout(()=>{u=B.getState().stage;const l={currentStageState:u,globalGameVar:B.getState().userData.globalGameVar};re.debug("",l),s&&C.backlogManager.saveCurrentStateToBacklog()},0),C.sceneManager.sceneData.currentSentenceId++},ir=()=>{if(C.events.userInteractNext.emit(),B.getState().GUI.showTitle)return;let t=!1;if(C.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(t=!0)}),t){re.warn("next ");return}let r=!0;if(C.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=B.getState().stage,o=yt(i);for(let a=0;a<o.PerformList.length;a++)o.PerformList[a].isHoldOn||(o.PerformList.splice(a,1),a--);B.dispatch(Ud(o)),qL();return}re.debug("");let n=!1;for(let i=0;i<C.gameplay.performController.performList.length;i++){const o=C.gameplay.performController.performList[i];o.isHoldOn||(o.goNextWhenOver&&(n=!0),o.skipNextCollect||(o.stopFunction(),clearTimeout(o.stopTimeout),C.gameplay.performController.performList.splice(i,1),i--))}n&&ir()},R1=()=>Math.random().toString().substring(0,10);class ove{constructor(){oe(this,"performList",[]);oe(this,"timeoutList",[])}arrangeNewPerform(t,r,n=!0){if(this.performList.findIndex(o=>o.performName===t.performName)>-1)for(let o=0;o<this.performList.length;o++){const a=this.performList[o];a.performName===t.performName&&(a.stopFunction(),clearTimeout(a.stopTimeout),this.performList.splice(o,1),o--)}if(t.performName!==py){if(n){const o={id:t.performName,isHoldOn:t.isHoldOn,script:r};B.dispatch(Lt.addPerform(o))}t.stopTimeout=setTimeout(()=>{t.isHoldOn||this.unmountPerform(t.performName)},t.duration),r.args.find(o=>o.key==="continue"&&o.value===!0)&&(t.goNextWhenOver=!0),this.performList.push(t)}}unmountPerform(t,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===t&&(i.stopFunction(),clearTimeout(i.stopTimeout),i.goNextWhenOver&&this.goNextWhenOver(),this.performList.splice(n,1),n--,this.erasePerformFromState(t))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===t&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,i.goNextWhenOver&&this.goNextWhenOver())}}erasePerformFromState(t){B.dispatch(Lt.removePerformByName(t))}removeAllPerform(){for(const t of this.performList)t.stopFunction();this.performList=[];for(const t of this.timeoutList)clearTimeout(t)}goNextWhenOver(){var r;let t=!1;(r=this.performList)==null||r.forEach(n=>{n.blockingAuto()&&(t=!0)}),t?setTimeout(this.goNextWhenOver,100):ir()}}class ave{constructor(){oe(this,"isAuto",!1);oe(this,"isFast",!1);oe(this,"autoInterval",null);oe(this,"fastInterval",null);oe(this,"autoTimeout",null);oe(this,"pixiStage",null);oe(this,"performController",new ove)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const t=this.autoInterval;t!==null&&clearInterval(t),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function sve(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}class uve{constructor(){oe(this,"textSettle",cf("text-settle"));oe(this,"userInteractNext",cf("__NEXT"));oe(this,"fullscreenDbClick",cf("fullscreen-dbclick"));oe(this,"styleUpdate",cf("style-update"))}}const ag=sve();function cf(e){return{on:(t,r)=>{ag.on(`${e}-${r??""}`,t)},emit:(t,r)=>{ag.emit(`${e}-${r??""}`,t)},off:(t,r)=>{ag.off(`${e}-${r??""}`,t)}}}class lve{constructor(){oe(this,"sceneManager",new aH);oe(this,"backlogManager",new oH(this.sceneManager));oe(this,"animationManager",new sH);oe(this,"gameplay",new ave);oe(this,"gameName","");oe(this,"gameKey","");oe(this,"events",new uve)}}const C=new lve;function XL(e){const{textArray:t,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:o,isSafari:a,isFirefox:s,fontSize:u,miniAvatar:l,isHasName:c,showName:f,font:h,textDuration:d,isUseStroke:v,textboxOpacity:g,textSizeState:p}=e,m=w1("Stage/TextBox/textbox.scss");$.useEffect(()=>{function E(){[...document.querySelectorAll(".Textelement_start")].forEach(k=>{k.className=m("TextBox_textElement_Settled",Qe.TextBox_textElement_Settled)})}return C.events.textSettle.on(E),()=>{C.events.textSettle.off(E)}},[]);let y=0;const _=f.map((E,P)=>{const A=E.map((k,F)=>{const j=k.reactNode;let z="",q="",D=!1;if(k.enhancedValue){D=!0;const de=k.enhancedValue;for(const pe of de){const{key:Y,value:N}=pe;switch(Y){case"style":z=N;break;case"tips":break;case"style-alltext":q=N;break}}}const U=" "+Ra(z,{label:"showname"}),K=" "+Ra(q,{label:"showname"});return D?S.jsx("span",{style:{position:"relative"},children:S.jsxs("span",{className:Qe.zhanwei+K,children:[j,S.jsx("span",{className:m("outerName",Qe.outerName)+U+K,children:j}),v&&S.jsx("span",{className:m("innerName",Qe.innerName)+K,children:j})]})},F):S.jsx("span",{style:{position:"relative"},children:S.jsxs("span",{className:Qe.zhanwei+K,children:[j,S.jsx("span",{className:m("outerName",Qe.outerName)+U+K,children:j}),v&&S.jsx("span",{className:m("innerName",Qe.innerName)+K,children:j})]})},F)});return S.jsx("div",{style:{wordBreak:a||e.isFirefox?"break-all":void 0,display:a?"flex":void 0,flexWrap:a?"wrap":void 0},children:A},`text-line-${P}`)}),x=t.map((E,P)=>{const A=E.map((k,F)=>{const j=k.reactNode;let z="",q="";if(k.enhancedValue){const pe=k.enhancedValue;for(const Y of pe){const{key:N,value:X}=Y;switch(N){case"style":z=X;break;case"tips":break;case"style-alltext":q=X;break}}}let D=y*r;y++;let U=n.length;n!==""&&y>=U&&(D=D-U*r);const K=" "+Ra(z),de=" "+Ra(q);return y<U?S.jsx("span",{id:`${D}`,className:m("TextBox_textElement_Settled",Qe.TextBox_textElement_Settled),style:{animationDelay:`${D}ms`,animationDuration:`${d}ms`},children:S.jsxs("span",{className:Qe.zhanwei+de,children:[j,S.jsx("span",{className:m("outer",Qe.outer)+K+de,children:j}),v&&S.jsx("span",{className:m("inner",Qe.inner)+de,children:j})]})},i+F):S.jsx("span",{id:`${D}`,className:`${m("TextBox_textElement_start",Qe.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${D}ms`,position:"relative"},children:S.jsxs("span",{className:Qe.zhanwei+de,children:[j,S.jsx("span",{className:m("outer",Qe.outer)+K+de,children:j}),v&&S.jsx("span",{className:m("inner",Qe.inner)+de,children:j})]})},i+F)});return S.jsx("div",{style:{wordBreak:a||e.isFirefox?"break-all":void 0,display:a?"flex":void 0,flexWrap:a?"wrap":void 0},children:A},`text-line-${P}`)}),b=`line-height: ${p===nn.medium?"2.2em":"2em"}`,w=Ra(b);return S.jsx(S.Fragment,{children:o&&S.jsxs("div",{className:Qe.TextBox_Container,children:[S.jsx("div",{className:m("TextBox_main",Qe.TextBox_main)+" "+m("TextBox_Background",Qe.TextBox_Background)+" "+(l===""?m("TextBox_main_miniavatarOff",Qe.TextBox_main_miniavatarOff):void 0),style:{opacity:`${g/100}`}}),S.jsxs("div",{id:"textBoxMain",className:m("TextBox_main",Qe.TextBox_main)+" "+(l===""?m("TextBox_main_miniavatarOff",Qe.TextBox_main_miniavatarOff):void 0),style:{fontFamily:h},children:[S.jsx("div",{id:"miniAvatar",className:m("miniAvatarContainer",Qe.miniAvatarContainer),children:l!==""&&S.jsx("img",{className:m("miniAvatarImg",Qe.miniAvatarImg),alt:"miniAvatar",src:l})}),c&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:m("TextBox_showName",Qe.TextBox_showName)+" "+m("TextBox_ShowName_Background",Qe.TextBox_ShowName_Background),style:{opacity:`${g/100}`,fontSize:"200%"},children:S.jsx("span",{style:{opacity:0},children:_})}),S.jsx("div",{className:m("TextBox_showName",Qe.TextBox_showName),style:{fontSize:"200%"},children:_})]}),S.jsx("div",{className:`${w} ${m("text",Qe.text)}`,style:{fontSize:u,flexFlow:"column",overflow:"hidden",paddingLeft:"0.1em"},children:x})]})]})})}const YL=navigator.userAgent,cve=/firefox/i.test(YL),fve=/^((?!chrome|android).)*safari/i.test(YL),hve=()=>{const e=ve(b=>b.stage),t=ve(b=>b.GUI),r=ve(b=>b.userData),n=Ex(r.optionData.textSpeed),i=Tx(r.optionData.textSpeed);let o=ny(r.optionData.textSize)+"%";const a=m2(),s=e.showText!==""||e.showName!=="";let u=r.optionData.textSize;s&&e.showTextSize!==-1&&(o=ny(e.showTextSize)+"%",u=e.showTextSize);const l=Jl(u).with(nn.small,()=>3).with(nn.medium,()=>2).with(nn.large,()=>2).default(()=>2),c=po(e.showText,l),f=e.showName!=="",h=po(e.showName,l),d=e.currentConcatDialogPrev,v=e.currentDialogKey,g=e.miniAvatar,p=r.optionData.textboxOpacity,m=XL,y=t.fontOptimization,[_,x]=$.useState(!0);return $.useEffect(()=>{if(!y){x(!0);return}const b=()=>{const w=Uh.height,E=Uh.width,P=window.innerHeight,A=window.innerWidth,k=P/w,F=A/E,j=A/w,z=P/E;[k,F,j,z].forEach(q=>{q<=.2?x(!1):x(!0)})};return window.addEventListener("resize",b),b(),()=>{window.removeEventListener("resize",b)}},[y]),S.jsx(m,{textArray:c,isText:s,textDelay:n,showName:h,isHasName:f,currentConcatDialogPrev:d,fontSize:o,currentDialogKey:v,isSafari:fve,isFirefox:cve,miniAvatar:g,textDuration:i,font:a,textSizeState:u,lineLimit:l,isUseStroke:_,textboxOpacity:p})};function _O(e){return!!e.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function po(e,t,r,n=!0){return e.split(new RegExp("(?<!\\\\)\\|")).map(s=>_1(s)).map(s=>pve(s)).map(s=>{const u=[];return s.forEach((l,c)=>{Jl(l.type).with("SegmentType.String",()=>{const f=dve(l.value,n);u.push(...f.map(h=>({reactNode:h})))}).endsWith("SegmentType.Link",()=>{const f=l.value,h=S.jsx("span",{className:"__enhanced_text",children:S.jsxs("ruby",{children:[f.text,S.jsx("rt",{children:f.ruby})]},c+f.text)},f.text+`${c}`);u.push({reactNode:h,enhancedValue:f.values})})}),u}).slice(0,r?void 0:t)}function dve(e,t=!0){if(!e)return[""];const r=[];let n="",i=_O(e[0]);const o=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of e)if(a===" "||a==="")n&&(r.push(n),n=""),t?r.push(""):r.push(a),i=!1;else if(_O(a)&&!o(a))!i&&n&&(r.push(n),n=""),r.push(a),i=!0;else{if(o(a)){n?(n+=a,r.push(n),n=""):r.length>0?r[r.length-1]+=a:r.push(a);continue}i&&n&&(r.push(n),n=""),n+=a,i=!1}return n&&r.push(n),r}function pve(e){const t=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=t.exec(e))!==null;)if(n[1]){const i=n[2],o=n[3];let a=[],s="";if(o.match(/style=|tips=|ruby=|style-alltext=/)){a=vve(o);const u=a.find(l=>l.key==="ruby");u&&(s=u.value)}else s=o;r.push({type:"SegmentType.Link",value:{text:i,ruby:s,values:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r.unshift({type:"SegmentType.String",value:""}),r}function vve(e){const t=[],r=/(\S+)=(.*?)(?=\s+\S+=|\s*$)/g;let n;for(;(n=r.exec(e))!==null;)t.push({key:n[1],value:n[2].replace(/~/g,":").trim()});return t}const mve=()=>{var g;const e=ve(p=>p.stage),t=ve(p=>p.GUI.titleBgm),r=ve(p=>p.GUI.showTitle),n=ve(p=>p.userData),i=n.optionData.volumeMain,o=i*.01*n.optionData.vocalVolume*.01*e.vocalVolume*.01,a=i*.01*n.optionData.bgmVolume*.01*e.bgm.volume*.01,s=e.bgm.enter,u=e.uiSe,l=i*.01*(((g=n.optionData)==null?void 0:g.seVolume)??100)*.01,c=i*.01*(n.optionData.uiSeVolume??50)*.01,f=ve(p=>p.GUI.isEnterGame),[h,d]=$.useState(setTimeout(()=>{},0)),v=(p,m,y)=>{y>=0?p.volume=0:p.volume=m;const _=10,x=m/y*_,b=()=>{const w=setTimeout(()=>{p.volume+x>=m?p.volume=m:p.volume+x<=0?(p.volume=0,B.dispatch(Te({key:"bgm",value:{src:"",enter:0,volume:100}}))):(p.volume+=x,b())},_);d(w)};b()};return $.useEffect(()=>{clearTimeout(h);const p=document.getElementById("currentBgm");p&&(s===0?p.volume=a:v(p,a,s))},[r,t,e.bgm.src,a,s]),$.useEffect(()=>{re.debug(`${a}`)},[a]),$.useEffect(()=>{re.debug(`: ${s}`)},[s]),$.useEffect(()=>{re.debug(`${o}`);const p=document.getElementById("currentVocal");p&&(p.volume=o.toString())},[o]),$.useEffect(()=>{if(u==="")return;const p=document.createElement("audio");p.src=u,p.loop=!1,isNaN(c)?(re.error("UI SE Vol is NaN"),p.volume=isNaN(l)?i/100:l/100):p.volume=c,p.play(),p.addEventListener("ended",()=>{p.remove()}),B.dispatch(Te({key:"uiSe",value:""}))},[u]),$.useEffect(()=>{re.debug(`: ${l}`)},[l]),$.useEffect(()=>{re.debug(`: ${c}`)},[c]),S.jsxs("div",{children:[S.jsx("audio",{id:"currentBgm",src:r?t:e.bgm.src,loop:!0,autoPlay:f},r.toString()+t),S.jsx("audio",{id:"currentVocal",src:e.playVocal})]})},gve=()=>{const e=ve(i=>i.stage);let t="100%",r="100%",n="0";return e.enableFilm!==""&&(r="76%",n="12%"),S.jsx("div",{className:Ln.FullScreenPerform_main,style:{width:t,height:r,top:n},children:S.jsx("div",{id:"videoContainer"})})},yve="_main_rdjpk_1",_ve="_button_rdjpk_16",xve="_button_text_rdjpk_23",bve="_button_on_rdjpk_31",Sve="_singleButton_rdjpk_42",wve="_singleButton_active_rdjpk_55",Eve="_fastSlPreview_rdjpk_59",Tve="_fastSlEnter_rdjpk_1",Cve="_fastsave_rdjpk_73",Ove="_fastSPreview_rdjpk_73",Ave="_fastload_rdjpk_77",Pve="_fastLPreview_rdjpk_77",kve="_slPreviewMain_rdjpk_89",Rve="_imgContainer_rdjpk_97",Ive="_textContainer_rdjpk_105",ce={main:yve,button:_ve,button_text:xve,button_on:bve,singleButton:Sve,singleButton_active:wve,fastSlPreview:Eve,fastSlEnter:Tve,fastsave:Cve,fastSPreview:Ove,fastload:Ave,fastLPreview:Pve,slPreviewMain:kve,imgContainer:Rve,textContainer:Ive},KL=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=ce.button_on:t.className=ce.singleButton)},I1=()=>{C.gameplay.isAuto=!1,KL(!1),C.gameplay.autoInterval!==null&&(clearInterval(C.gameplay.autoInterval),C.gameplay.autoInterval=null),C.gameplay.autoTimeout!==null&&(clearTimeout(C.gameplay.autoTimeout),C.gameplay.autoTimeout=null)},ZL=()=>{C.gameplay.isAuto?I1():(C.gameplay.isAuto=!0,KL(!0),C.gameplay.autoInterval=setInterval(Lve,100))},Nve=()=>{ir(),C.gameplay.autoTimeout=null},Lve=()=>{const t=1e3+(100-B.getState().userData.optionData.autoSpeed)*60;let r=!1;C.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&C.gameplay.autoTimeout===null&&(C.gameplay.autoTimeout=setTimeout(Nve,t))},JL=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=ce.button_on:t.className=ce.singleButton)},is=()=>{eM()&&(C.gameplay.isFast=!1,JL(!1),C.gameplay.fastInterval!==null&&(clearInterval(C.gameplay.fastInterval),C.gameplay.fastInterval=null))},QL=()=>{eM()||(C.gameplay.isFast=!0,JL(!0),C.gameplay.fastInterval=setInterval(()=>{ir()},wk.fast_timeout))},eM=function(){return C.gameplay.isFast},N1=()=>{is(),I1()},tM=()=>{C.gameplay.isFast?is():QL()},Mve="_TextBox_EventHandler_p3zqw_1",Fve="_TextBox_main_p3zqw_9",Dve="_showSoftly_p3zqw_1",Bve="_TextBox_textElement_p3zqw_37",jve="_TextBox_textElement_start_p3zqw_42",$ve="_TextDelayShow_p3zqw_1",Uve="_TextBox_textElement_Settled_p3zqw_47",Gve="_TextBox_showName_p3zqw_51",zve="_miniAvatarContainer_p3zqw_67",Hve="_miniAvatarImg_p3zqw_75",sg={TextBox_EventHandler:Mve,TextBox_main:Fve,showSoftly:Dve,TextBox_textElement:Bve,TextBox_textElement_start:jve,TextDelayShow:$ve,TextBox_textElement_Settled:Uve,TextBox_showName:Gve,miniAvatarContainer:zve,miniAvatarImg:Hve},Vve=()=>{const e=ve(a=>a.stage),t=ve(a=>a.userData);$.useEffect(()=>{});const r=iH.textInitialDelay-20*t.optionData.textSpeed,n=t.optionData.textSize*50+200+"%",o=e.showText.split("").map((a,s)=>{let u=s*r,l=e.currentConcatDialogPrev.length;return e.currentConcatDialogPrev!==""&&s>=l&&(u=u-l*r),s<l?S.jsx("span",{id:`${u}`,className:sg.TextBox_textElement_Settled,style:{animationDelay:`${u}ms`},children:a},e.currentDialogKey+s):S.jsx("span",{id:`${u}`,className:sg.TextBox_textElement_start,style:{animationDelay:`${u}ms`},children:a},e.currentDialogKey+s)});return S.jsx("div",{id:"textBoxMain",className:sg.TextBox_main,children:S.jsx("div",{style:{fontSize:n},children:o})})};function Ws(e){const t=ve(e),r=$.useRef(t);return $.useEffect(()=>{r.current=t},[t]),r}function qs(e){$.useEffect(()=>{e()},[])}function Xs(e){$.useEffect(()=>function(){e()},[])}function Wve(e){$.useEffect(()=>{e()})}const qve="_Backlog_main_1sokh_1",Xve="_backlog_soft_in_1sokh_1",Yve="_Backlog_main_out_1sokh_14",Kve="_backlog_soft_out_1sokh_1",Zve="_Backlog_main_out_IndexHide_1sokh_27",Jve="_Backlog_main_DisableScroll_1sokh_31",Qve="_backlog_top_1sokh_35",eme="_backlog_top_icon_1sokh_41",tme="_backlog_icon_softin_1sokh_1",rme="_backlog_title_1sokh_61",nme="_backlog_content_1sokh_71",ime="_backlog_item_1sokh_83",ome="_backlog_item_in_1sokh_1",ame="_backlog_item_out_1sokh_93",sme="_backlog_func_area_1sokh_103",ume="_backlog_item_content_name_1sokh_112",lme="_backlog_item_content_1sokh_112",cme="_backlog_item_button_list_1sokh_136",fme="_backlog_item_button_element_1sokh_143",hme="_backlog_item_content_text_1sokh_156",Kt={Backlog_main:qve,backlog_soft_in:Xve,Backlog_main_out:Yve,backlog_soft_out:Kve,Backlog_main_out_IndexHide:Zve,Backlog_main_DisableScroll:Jve,backlog_top:Qve,backlog_top_icon:eme,backlog_icon_softin:tme,backlog_title:rme,backlog_content:nme,backlog_item:ime,backlog_item_in:ome,backlog_item_out:ame,backlog_func_area:sme,backlog_item_content_name:ume,backlog_item_content:lme,backlog_item_button_list:cme,backlog_item_button_element:fme,backlog_item_content_text:hme};var dme=En,pme=function(){return dme.Date.now()},vme=pme,mme=Tn,ug=vme,xO=zL,gme="Expected a function",yme=Math.max,_me=Math.min;function xme(e,t,r){var n,i,o,a,s,u,l=0,c=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(gme);t=xO(t)||0,mme(r)&&(c=!!r.leading,f="maxWait"in r,o=f?yme(xO(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function d(w){var E=n,P=i;return n=i=void 0,l=w,a=e.apply(P,E),a}function v(w){return l=w,s=setTimeout(m,t),c?d(w):a}function g(w){var E=w-u,P=w-l,A=t-E;return f?_me(A,o-P):A}function p(w){var E=w-u,P=w-l;return u===void 0||E>=t||E<0||f&&P>=o}function m(){var w=ug();if(p(w))return y(w);s=setTimeout(m,g(w))}function y(w){return s=void 0,h&&n?d(w):(n=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),l=0,n=u=i=s=void 0}function x(){return s===void 0?a:y(ug())}function b(){var w=ug(),E=p(w);if(n=arguments,i=this,u=w,E){if(s===void 0)return v(u);if(f)return clearTimeout(s),s=setTimeout(m,t),d(u)}return s===void 0&&(s=setTimeout(m,t)),a}return b.cancel=_,b.flush=x,b}var bme=xme,Sme=bme,wme=Tn,Eme="Expected a function";function Tme(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Eme);return wme(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Sme(e,t,{leading:n,maxWait:t,trailing:i})}var Cme=Tme;const Ome=rr(Cme),bO=()=>!!(document.fullscreenElement||document.webkitFullscreenElement);function L1(e=document.documentElement){const t=document.fullscreenEnabled||document.webkitFullscreenEnabled,[r,n]=$.useState(bO());$.useEffect(()=>{if(!t)return;const a=()=>n(bO());return document.addEventListener("fullscreenchange",a),()=>{document.removeEventListener("fullscreenchange",a)}},[]);const i=t?()=>e.requestFullscreen():async()=>{},o=t?()=>document.exitFullscreen():async()=>{};return{isSupported:t,isFullScreen:r,enter:i,exit:o,toggle:()=>r?o():i()}}const SO="keyboard"in navigator&&navigator.keyboard;function Ame(e){Pme(),Rme(),Nme(),Ime(),Lme(),jme(),Ume()}function Pme(){const e=Ws(u=>u.GUI),t=kp(),r=Pp(e),n=rM(e),i=Mme(e),o=Dme(e),a=Fme(e),s=$.useCallback(u=>i()?(t("showGlobalDialog",!1),u.preventDefault(),!1):(a()&&t("showExtra",!1),r()&&t("showTextBox",!e.current.showTextBox),n()&&(t("showBacklog",!1),t("showTextBox",!0)),o()&&t("showMenuPanel",!1),u.preventDefault(),!1),[]);qs(()=>{document.addEventListener("contextmenu",s)}),Xs(()=>{document.removeEventListener("contextmenu",s)})}let kme=setTimeout(()=>{},0);function Rme(){const e=Ws(u=>u.GUI),t=kp(),r=Pp(e),n=rM(e),i=nM(e),o=$.useCallback(Ome(()=>{ir()},100),[]),a=$.useRef(0),s=$.useCallback(u=>{if(i())return;const l=u.wheelDelta&&(u.wheelDelta>0?"up":"down")||u.detail&&(u.detail<0?"up":"down")||"down",c=u.ctrlKey,f=document.querySelector(`.${Kt.backlog_content}`);if(r()&&l==="up"&&!c)t("showBacklog",!0),t("showTextBox",!1);else if(n()&&l==="down"&&!c){if(f){let h=$me(f),d=new Date().getTime();h&&d-a.current>100&&(t("showBacklog",!1),t("showTextBox",!0)),a.current=d}}else r()&&l==="down"&&!c&&(clearTimeout(kme),C.gameplay.isFast=!0,setTimeout(()=>{C.gameplay.isFast=!1},150),o())},[]);qs(()=>{document.addEventListener("wheel",s)}),Xs(()=>{document.removeEventListener("wheel",s)})}function Ime(){const e=["Escape","Backquote"],t=s=>!s.isComposing&&!s.defaultPrevented&&e.includes(s.code),r=Ws(s=>s.GUI),n=$.useCallback(()=>r.current.showTitle,[r]),i=nM(r),o=kp(),a=$.useCallback(s=>{!t(s)||n()||(i()?o("showPanicOverlay",!1):(o("showPanicOverlay",!0),N1()))},[]);qs(()=>{document.addEventListener("keyup",a)}),Xs(()=>{document.removeEventListener("keyup",a)})}function Nme(){const e=Ws(a=>a.GUI),t=Pp(e),r=$.useCallback(a=>a.keyCode===17,[]),n=$.useCallback(a=>{r(a)&&t()&&QL()},[]),i=$.useCallback(a=>{r(a)&&t()&&is()},[]),o=$.useCallback(a=>{is()},[]);qs(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",o)}),Xs(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",o)}),Wve(()=>{t()||is()})}function Lme(){const e=Bme(),t=$.useCallback(async r=>{e()&&await Ele()},[]);qs(()=>{window.addEventListener("beforeunload",t)}),Xs(()=>{window.removeEventListener("beforeunload",t)})}function Pp(e){return $.useCallback(()=>!e.current.showTitle&&!e.current.showMenuPanel&&!e.current.showBacklog&&!e.current.showPanicOverlay,[e])}function rM(e){return $.useCallback(()=>e.current.showBacklog,[e])}function Mme(e){return $.useCallback(()=>e.current.showGlobalDialog,[e])}function Fme(e){return $.useCallback(()=>e.current.showExtra,[e])}function nM(e){return $.useCallback(()=>e.current.showPanicOverlay,[e])}function Dme(e){return $.useCallback(()=>[Ke.Save,Ke.Load,Ke.Option].includes(e.current.currentMenuTag),[e])}function Bme(){return $.useCallback(()=>C.sceneManager.sceneData.currentSentenceId!==0,[C.sceneManager.sceneData])}function kp(){const e=nr();return(t,r)=>{e(Ie({component:t,visibility:r}))}}function jme(){const e=Ws(u=>u.GUI),t=Pp(e),r=kp(),n=$.useRef(!1),i=$.useCallback(u=>u.keyCode===32||u.keyCode===13,[]),o=$.useCallback(u=>{if(i(u)&&t()&&!n.current){if(!e.current.showTextBox){r("showTextBox",!0);return}N1(),ir(),n.current=!0}},[]),a=$.useCallback(u=>{i(u)&&t()&&(n.current=!1)},[]),s=$.useCallback(u=>{n.current=!1},[]);qs(()=>{document.addEventListener("keydown",o),document.addEventListener("keyup",a),document.addEventListener("blur",s)}),Xs(()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",a),document.removeEventListener("blur",s)})}function $me(e){const{scrollTop:t,clientHeight:r,scrollHeight:n}=e;return t===0}function Ume(){const{isSupported:e,isFullScreen:t,toggle:r}=L1();if(!e)return;const n=nr();$.useEffect(()=>{const i=o=>o.repeat||o.key==="F11"&&r();return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[]),$.useEffect(()=>{n(Jt({key:"fullScreen",value:t?0:1})),vt()},[t])}function Gme(e){const t=e.bgName;$.useEffect(()=>{var n,i;const r="bg-main";if(t!==""){const o=(n=C.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);o&&o.sourceUrl!==t&&wO(o),zme(void 0,r,t),dc(t),re.debug("");const{duration:a,animation:s}=Fi("bg-main","enter",!0);C.gameplay.pixiStage.registerPresetAnimation(s,"bg-main-softin",r,e.effects),setTimeout(()=>C.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),a)}else{const o=(i=C.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(r);o&&wO(o)}},[t])}function wO(e){var a,s;(a=C.gameplay.pixiStage)==null||a.removeAnimationWithSetEffects("bg-main-softin");const t=e.key;e.key="bg-main-off"+String(new Date().getTime());const r=e.key,n=e.key+"-softoff";(s=C.gameplay.pixiStage)==null||s.removeStageObjectByKey(t);const{duration:i,animation:o}=Fi("bg-main-off","exit",!0,r);C.gameplay.pixiStage.registerAnimation(o,n,r),setTimeout(()=>{var u,l;(u=C.gameplay.pixiStage)==null||u.removeAnimation(n),(l=C.gameplay.pixiStage)==null||l.removeStageObjectByKey(r)},i)}function zme(e,...t){var n,i,o;const r=t[1];return r.endsWith(".mp4")?(n=C.gameplay.pixiStage)==null?void 0:n.addVideoBg(...t):r.endsWith(".skel")?(i=C.gameplay.pixiStage)==null?void 0:i.addSpineBg(...t):(o=C.gameplay.pixiStage)==null?void 0:o.addBg(...t)}function Hme(e){const{figNameLeft:t,figName:r,figNameRight:n,freeFigure:i,live2dMotion:o,live2dExpression:a}=e;$.useEffect(()=>{var s;for(const u of o)(s=C.gameplay.pixiStage)==null||s.changeModelMotionByKey(u.target,u.motion)},[o]),$.useEffect(()=>{var s;for(const u of a)(s=C.gameplay.pixiStage)==null||s.changeModelExpressionByKey(u.target,u.expression)},[a]),$.useEffect(()=>{var l,c;const s="fig-center",u="fig-center-softin";if(r!==""){const f=(l=C.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&ai(f,u,e.effects),wu(void 0,s,r,"center"),re.debug("");const{duration:h,animation:d}=Fi(s,"enter");C.gameplay.pixiStage.registerPresetAnimation(d,u,s,e.effects),setTimeout(()=>C.gameplay.pixiStage.removeAnimationWithSetEffects(u),h)}else{re.debug("");const f=(c=C.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(s);f&&f.sourceUrl!==r&&ai(f,u,e.effects)}},[r]),$.useEffect(()=>{var l,c;const s="fig-left",u="fig-left-softin";if(t!==""){const f=(l=C.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==t&&ai(f,u,e.effects),wu(void 0,s,t,"left"),re.debug("");const{duration:h,animation:d}=Fi(s,"enter");C.gameplay.pixiStage.registerPresetAnimation(d,u,s,e.effects),setTimeout(()=>C.gameplay.pixiStage.removeAnimationWithSetEffects(u),h)}else{re.debug("");const f=(c=C.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(s);f&&f.sourceUrl!==t&&ai(f,u,e.effects)}},[t]),$.useEffect(()=>{var l,c;const s="fig-right",u="fig-right-softin";if(n!==""){const f=(l=C.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&ai(f,u,e.effects),wu(void 0,s,n,"right"),re.debug("");const{duration:h,animation:d}=Fi(s,"enter");C.gameplay.pixiStage.registerPresetAnimation(d,u,s,e.effects),setTimeout(()=>C.gameplay.pixiStage.removeAnimationWithSetEffects(u),h)}else{const f=(c=C.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(s);f&&f.sourceUrl!==n&&ai(f,u,e.effects)}},[n]),$.useEffect(()=>{var u,l,c;for(const f of i){const h=`${f.key}`,d=`${f.key}-softin`;if(f.name!==""){const v=(u=C.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(h);if(v){if(v.sourceUrl!==f.name){ai(v,d,e.effects),wu(void 0,h,f.name,f.basePosition),re.debug(`${f.key}`);const{duration:g,animation:p}=Fi(h,"enter");C.gameplay.pixiStage.registerPresetAnimation(p,d,h,e.effects),setTimeout(()=>C.gameplay.pixiStage.removeAnimationWithSetEffects(d),g)}}else{wu(void 0,h,f.name,f.basePosition),re.debug(`${f.key}`);const{duration:g,animation:p}=Fi(h,"enter");C.gameplay.pixiStage.registerPresetAnimation(p,d,h,e.effects),setTimeout(()=>C.gameplay.pixiStage.removeAnimationWithSetEffects(d),g)}}else{const v=(l=C.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);v&&v.sourceUrl!==f.name&&ai(v,d,e.effects)}}const s=(c=C.gameplay.pixiStage)==null?void 0:c.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(v=>v.key===h)<0){const v=`${f.key}-softin`;ai(f,v,e.effects)}}}},[i])}function ai(e,t,r){var l,c,f;if((l=C.gameplay.pixiStage)==null||l.removeAnimationWithSetEffects(t),C.gameplay.isFast){re.debug(""),(c=C.gameplay.pixiStage)==null||c.removeStageObjectByKey(e.key);return}const n=e.key,i=n+"-off";e.key=n+String(new Date().getTime())+"-off";const o=e.key;(f=C.gameplay.pixiStage)==null||f.removeStageObjectByKey(n);const a=o+"-softoff",{duration:s,animation:u}=Fi(i,"exit",!1,o);C.gameplay.pixiStage.registerPresetAnimation(u,a,o,r),setTimeout(()=>{var h,d;(h=C.gameplay.pixiStage)==null||h.removeAnimation(a),(d=C.gameplay.pixiStage)==null||d.removeStageObjectByKey(o)},s)}function wu(e,...t){var a,s;const r=t[1],n=window.location.origin,o=new URL(r,n).searchParams.get("type");return r.endsWith(".json")?Vme(...t):r.endsWith(".skel")||o==="spine"?(a=C.gameplay.pixiStage)==null?void 0:a.addSpineFigure(...t):(s=C.gameplay.pixiStage)==null?void 0:s.addFigure(...t)}function Vme(...e){var t;return(t=C.gameplay.pixiStage)==null?void 0:t.addLive2dFigure(...e)}function Wme(e){const t=e.effects;setTimeout(()=>{qme(t)},10)}function qme(e){var r,n,i,o;const t=((r=C.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const a of t){const s=a.key,u=e.find(c=>c.target===s);if(!(((n=C.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(u){const c=(i=C.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(c){const f=c.pixiContainer;Wn.assignTransform(f,EO(u.transform))}}else{const c=(o=C.gameplay.pixiStage)==null?void 0:o.getStageObjByKey(s);if(c){const f=c.pixiContainer;Wn.assignTransform(f,EO(cb))}}}}function EO(e){if(!e)return{};const{position:t,alpha:r,...n}=e;return{...n,x:t.x,y:t.y,alphaFilterVal:r}}function Xme(){const e=ve(t=>t.stage);return Gme(e),Hme(e),Wme(e),S.jsx("div",{style:{display:"none"}})}const Yme="_introContainer_119k8_1",Kme={introContainer:Yme};function Zme(){return S.jsx("div",{className:Kme.introContainer,id:"introContainer"})}function TO(e){const t=document.getElementById("textBoxMain");if(!t)return!1;let r=t.getBoundingClientRect();return e.clientX>r.left&&e.clientX<r.right&&e.clientY>r.top&&e.clientY<r.bottom}function Jme(e,t,r){!t.controlsVisibility&&TO(e)&&r(Ie({component:"controlsVisibility",visibility:!0})),t.controlsVisibility&&!TO(e)&&r(Ie({component:"controlsVisibility",visibility:!1}))}function Qme(e,t){var i;return!!(!t.showTextBox||e.isDisableTextbox||!(e.showText!==""||e.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let lg=null;function ege(e,t,r,n){Qme(t,r)?(lg&&clearTimeout(lg),n(Ie({component:"controlsVisibility",visibility:!0})),lg=setTimeout(()=>{n(Ie({component:"controlsVisibility",visibility:!1}))},1e3)):Jme(e,r,n)}const tge=()=>{const e=ve(n=>n.stage),t=ve(n=>n.GUI),r=nr();return Ame(),S.jsxs("div",{className:cv.MainStage_main,children:[S.jsx(gve,{}),S.jsx(Xme,{}),S.jsx("div",{id:"pixiContianer",className:cv.pixiContainer,style:{zIndex:g1?"-5":void 0}}),S.jsx("div",{id:"chooseContainer",className:cv.chooseContainer}),t.showTextBox&&e.enableFilm===""&&!e.isDisableTextbox&&S.jsx(hve,{}),t.showTextBox&&e.enableFilm!==""&&S.jsx(Vve,{}),S.jsx(mve,{}),S.jsx("div",{onClick:()=>{if(!t.showTextBox){r(Ie({component:"showTextBox",visibility:!0}));return}N1(),ir()},onDoubleClick:()=>{C.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!t.showControls&&ege(n,e,t,r)}),S.jsx(Zme,{})]})};var rge=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ige(e,t){if(e==null)return{};var r=oge(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oge(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var age={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function sge(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function uge(e,t,r){var n=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],o=t.theme||r.theme;switch(o){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:t.size||r.size,strokeWidth:t.strokeWidth||r.strokeWidth,strokeLinecap:t.strokeLinecap||r.strokeLinecap,strokeLinejoin:t.strokeLinejoin||r.strokeLinejoin,colors:i,id:e}}var iM=$.createContext(age);iM.Provider;function et(e,t,r){return function(n){var i=n.size,o=n.strokeWidth,a=n.strokeLinecap,s=n.strokeLinejoin,u=n.theme,l=n.fill,c=n.className,f=n.spin,h=ige(n,rge),d=$.useContext(iM),v=$.useMemo(sge,[]),g=uge(v,{size:i,strokeWidth:o,strokeLinecap:a,strokeLinejoin:s,theme:u,fill:l},d),p=[d.prefix+"-icon"];return p.push(d.prefix+"-icon-"+e),t&&d.rtl&&p.push(d.prefix+"-icon-rtl"),f&&p.push(d.prefix+"-icon-spin"),c&&p.push(c),H.createElement("span",OO(OO({},h),{},{className:p.join(" ")}),r(g))}}const lge=et("align-text-left-one",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M26 24H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M34 15H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M32 33H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),oM=et("close-small",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),cge=et("double-down",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M36 12L24 24L12 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M36 24L24 36L12 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),fge=et("double-right",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M12 12L24 24L12 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M24 12L36 24L24 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),hge=et("double-up",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M12 24L24 12L36 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M12 36L24 24L36 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),aM=et("folder-open",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),dge=et("full-screen",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M33 6H42V15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M42 33V42H33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M15 42H6V33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M6 15V6H15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),pge=et("go-end",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M34 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),vge=et("go-start",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M14 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),mge=et("hamburger-button",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),sM=et("home",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),gge=et("info",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 11C25.3807 11 26.5 12.1193 26.5 13.5C26.5 14.8807 25.3807 16 24 16C22.6193 16 21.5 14.8807 21.5 13.5C21.5 12.1193 22.6193 11 24 11Z",fill:e.colors[2]}),H.createElement("path",{d:"M24.5 34V20H23.5H22.5",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M21 34H28",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),yge=et("left",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M31 36L19 24L31 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),_ge=et("lock",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("rect",{x:"6",y:"22",width:"36",height:"22",rx:"2",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M24 30V36",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),xge=et("logout",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M23.9917 6H6V42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),bge=et("music-list",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M24 19H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M24 10H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M8 38H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M8 28H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M8 10L16 15L8 20V10Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Sge=et("off-screen",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M33 6V15H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M15 6V15H6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M15 42V33H6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M33 42V33H41.8995",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),uM=et("play-one",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),wge=et("preview-close-one",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M20.3142 20.6211C19.4981 21.5109 19 22.6972 19 23.9998C19 26.7612 21.2386 28.9998 24 28.9998C25.3627 28.9998 26.5981 28.4546 27.5 27.5705",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M42 42L6 6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Ege=et("preview-open",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Tge=et("replay-music",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M6 9V17H14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Cge=et("return",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),lM=et("save",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),H.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),cM=et("setting-two",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Oge=et("square-small",!1,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M34 12H14C12.8954 12 12 12.8954 12 14V34C12 35.1046 12.8954 36 14 36H34C35.1046 36 36 35.1046 36 34V14C36 12.8954 35.1046 12 34 12Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),Age=et("unlock",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("rect",{x:"7",y:"22.0476",width:"34",height:"22",rx:"2",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M24 30V36",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Pge=et("volume-notice",!0,function(e){return H.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},H.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),H.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))});function M1(e,t){if(e==null)return{};var r,n,i=rB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kge={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Rge=rr(kge);var Ige=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function AO(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(Rge[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var i=new RegExp(Ige),o=null;(o=i.exec(e))!==null;)if(o[0].trim())if(o[1]){var a=o[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var Nge=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Lge=/^\s*$/,Mge=Object.create(null);function fM(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(fM,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Fge={parse:function(e,t){t||(t={}),t.components||(t.components=Mge);var r,n=[],i=[],o=-1,a=!1;if(e.indexOf("<")!==0){var s=e.indexOf("<");n.push({type:"text",content:s===-1?e:e.substring(0,s)})}return e.replace(Nge,function(u,l){if(a){if(u!=="</"+r.name+">")return;a=!1}var c,f=u.charAt(1)!=="/",h=u.startsWith("<!--"),d=l+u.length,v=e.charAt(d);if(h){var g=AO(u);return o<0?(n.push(g),n):((c=i[o]).children.push(g),n)}if(f&&(o++,(r=AO(u)).type==="tag"&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!v||v==="<"||r.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),o===0&&n.push(r),(c=i[o-1])&&c.children.push(r),i[o]=r),(!f||r.voidElement)&&(o>-1&&(r.voidElement||r.name===u.slice(2,-1))&&(o--,r=o===-1?n:i[o]),!a&&v!=="<"&&v)){c=o===-1?n:i[o].children;var p=e.indexOf("<",d),m=e.slice(d,p===-1?void 0:p);Lge.test(m)&&(m=" "),(p>-1&&o+c.length>=0||m!==" ")&&c.push({type:"text",content:m})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+fM("",r)},"")}};function Hf(){if(console&&console.warn){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(e=console).warn.apply(e,r)}}var PO={};function Wh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&PO[t[0]]||(typeof t[0]=="string"&&(PO[t[0]]=new Date),Hf.apply(void 0,t))}var hM=function(t,r){return function(){if(t.isInitialized)r();else{var n=function i(){setTimeout(function(){t.off("initialized",i)},0),r()};t.on("initialized",n)}}};function kO(e,t,r){e.loadNamespaces(t,hM(e,r))}function RO(e,t,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,hM(e,n))}function Dge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var a=function(u,l){var c=t.services.backendConnector.state["".concat(u,"|").concat(l)];return c===-1||c===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(n,e)&&(!i||a(o,e)))}function Bge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return Wh("i18n.languages were undefined or empty",t.languages),!0;var n=t.options.ignoreJSONStructure!==void 0;return n?t.hasLoadedNamespace(e,{lng:r.lng,precheck:function(o,a){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}):Dge(e,t,r)}var jge=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$ge={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Uge=function(t){return $ge[t]},Gge=function(t){return t.replace(jge,Uge)};function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var g0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gge};function zge(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};g0=NO(NO({},g0),e)}function dM(){return g0}var pM;function Hge(e){pM=e}function F1(){return pM}var Vge=["format"],Wge=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cg(e,t){if(!e)return!1;var r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function fg(e){return e?e.props?e.props.children:e.children:[]}function qge(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(t){return $.isValidElement(t)})}function Lu(e){return Array.isArray(e)?e:[e]}function Xge(e,t){var r=Mt({},t);return r.props=Object.assign(e.props,t.props),r}function vM(e,t){if(!e)return"";var r="",n=Lu(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach(function(o,a){if(typeof o=="string")r+="".concat(o);else if($.isValidElement(o)){var s=Object.keys(o.props).length,u=i.indexOf(o.type)>-1,l=o.props.children;if(!l&&u&&s===0)r+="<".concat(o.type,"/>");else if(!l&&(!u||s!==0))r+="<".concat(a,"></").concat(a,">");else if(o.props.i18nIsDynamicList)r+="<".concat(a,"></").concat(a,">");else if(u&&s===1&&typeof l=="string")r+="<".concat(o.type,">").concat(l,"</").concat(o.type,">");else{var c=vM(l,t);r+="<".concat(a,">").concat(c,"</").concat(a,">")}}else if(o===null)Hf("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Vt(o)==="object"){var f=o.format,h=M1(o,Vge),d=Object.keys(h);if(d.length===1){var v=f?"".concat(d[0],", ").concat(f):d[0];r+="{{".concat(v,"}}")}else Hf("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",o)}else Hf("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",o)}),r}function Yge(e,t,r,n,i,o){if(t==="")return[];var a=n.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(a.join("|")).test(t);if(!e&&!s)return[t];var u={};function l(p){var m=Lu(p);m.forEach(function(y){typeof y!="string"&&(cg(y)?l(fg(y)):Vt(y)==="object"&&!$.isValidElement(y)&&Object.assign(u,y))})}l(e);var c=Fge.parse("<0>".concat(t,"</0>")),f=Mt(Mt({},u),i);function h(p,m,y){var _=fg(p),x=v(_,m.children,y);return qge(_)&&x.length===0?_:x}function d(p,m,y,_,x){p.dummy&&(p.children=m),y.push($.cloneElement(p,Mt(Mt({},p.props),{},{key:_}),x?void 0:m))}function v(p,m,y){var _=Lu(p),x=Lu(m);return x.reduce(function(b,w,E){var P=w.children&&w.children[0]&&w.children[0].content&&r.services.interpolator.interpolate(w.children[0].content,f,r.language);if(w.type==="tag"){var A=_[parseInt(w.name,10)];!A&&y.length===1&&y[0][w.name]&&(A=y[0][w.name]),A||(A={});var k=Object.keys(w.attrs).length!==0?Xge({props:w.attrs},A):A,F=$.isValidElement(k),j=F&&cg(w,!0)&&!w.voidElement,z=s&&Vt(k)==="object"&&k.dummy&&!F,q=Vt(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,w.name);if(typeof k=="string"){var D=r.services.interpolator.interpolate(k,f,r.language);b.push(D)}else if(cg(k)||j){var U=h(k,w,y);d(k,U,b,E)}else if(z){var K=v(_,w.children,y);b.push($.cloneElement(k,Mt(Mt({},k.props),{},{key:E}),K))}else if(Number.isNaN(parseFloat(w.name)))if(q){var de=h(k,w,y);d(k,de,b,E,w.voidElement)}else if(n.transSupportBasicHtmlNodes&&a.indexOf(w.name)>-1)if(w.voidElement)b.push($.createElement(w.name,{key:"".concat(w.name,"-").concat(E)}));else{var pe=v(_,w.children,y);b.push($.createElement(w.name,{key:"".concat(w.name,"-").concat(E)},pe))}else if(w.voidElement)b.push("<".concat(w.name," />"));else{var Y=v(_,w.children,y);b.push("<".concat(w.name,">").concat(Y,"</").concat(w.name,">"))}else if(Vt(k)==="object"&&!F){var N=w.children[0]?P:null;N&&b.push(N)}else w.children.length===1&&P?b.push($.cloneElement(k,Mt(Mt({},k.props),{},{key:E}),P)):b.push($.cloneElement(k,Mt(Mt({},k.props),{},{key:E})))}else if(w.type==="text"){var X=n.transWrapTextNodes,ne=o?n.unescape(r.services.interpolator.interpolate(w.content,f,r.language)):r.services.interpolator.interpolate(w.content,f,r.language);X?b.push($.createElement(X,{key:"".concat(w.name,"-").concat(E)},ne)):b.push(ne)}return b},[])}var g=v([{dummy:!0,children:e||[]}],c,Lu(e||[]));return fg(g[0])}function Kge(e){var t=e.children,r=e.count,n=e.parent,i=e.i18nKey,o=e.context,a=e.tOptions,s=a===void 0?{}:a,u=e.values,l=e.defaults,c=e.components,f=e.ns,h=e.i18n,d=e.t,v=e.shouldUnescape,g=M1(e,Wge),p=h||F1();if(!p)return Wh("You will need to pass in an i18next instance by using i18nextReactModule"),t;var m=d||p.t.bind(p)||function(j){return j};o&&(s.context=o);var y=Mt(Mt({},dM()),p.options&&p.options.react),_=f||m.ns||p.options&&p.options.defaultNS;_=typeof _=="string"?[_]:_||["translation"];var x=l||vM(t,y)||y.transEmptyNodeValue||i,b=y.hashTransKey,w=i||(b?b(x):x),E=u?s.interpolation:{interpolation:Mt(Mt({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},P=Mt(Mt(Mt(Mt({},s),{},{count:r},u),E),{},{defaultValue:x,ns:_}),A=w?m(w,P):x,k=Yge(c||t,A,p,y,P,v),F=n!==void 0?n:y.defaultTransParent;return F?$.createElement(F,g,k):k}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S2(n.key),n)}}function Pn(e,t,r){return t&&MO(e.prototype,t),r&&MO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zge={type:"3rdParty",init:function(t){zge(t.options.react),Hge(t)}},mM=$.createContext(),Jge=function(){function e(){An(this,e),this.usedNamespaces={}}return Pn(e,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}(),Qge=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tye(e){var t=e.children,r=e.count,n=e.parent,i=e.i18nKey,o=e.context,a=e.tOptions,s=a===void 0?{}:a,u=e.values,l=e.defaults,c=e.components,f=e.ns,h=e.i18n,d=e.t,v=e.shouldUnescape,g=M1(e,Qge),p=$.useContext(mM)||{},m=p.i18n,y=p.defaultNS,_=h||m||F1(),x=d||_&&_.t.bind(_);return Kge(eye({children:t,count:r,parent:n,i18nKey:i,context:o,tOptions:s,values:u,defaults:l,components:c,ns:f||x&&x.ns||y||_&&_.options&&_.options.defaultNS,i18n:_,t:d,shouldUnescape:v},g))}function gM(e){if(Array.isArray(e))return e}function rye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function yM(e,t){if(e){if(typeof e=="string")return DO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DO(e,t):void 0}}function _M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(e,t){return gM(e)||rye(e,t)||yM(e,t)||_M()}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var iye=function(t,r){var n=$.useRef();return $.useEffect(function(){n.current=r?n.current:t},[t,r]),n.current};function Rp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.i18n,n=$.useContext(mM)||{},i=n.i18n,o=n.defaultNS,a=r||i||F1();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Jge),!a){Wh("You will need to pass in an i18next instance by using initReactI18next");var s=function(A,k){return typeof k=="string"?k:k&&Vt(k)==="object"&&typeof k.defaultValue=="string"?k.defaultValue:Array.isArray(A)?A[A.length-1]:A},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}a.options.react&&a.options.react.wait!==void 0&&Wh("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=hg(hg(hg({},dM()),a.options.react),t),c=l.useSuspense,f=l.keyPrefix,h=e||o||a.options&&a.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);var d=(a.isInitialized||a.initializedStoreOnce)&&h.every(function(P){return Bge(P,a,l)});function v(){return a.getFixedT(t.lng||null,l.nsMode==="fallback"?h:h[0],f)}var g=$.useState(v),p=nye(g,2),m=p[0],y=p[1],_=h.join();t.lng&&(_="".concat(t.lng).concat(_));var x=iye(_),b=$.useRef(!0);$.useEffect(function(){var P=l.bindI18n,A=l.bindI18nStore;b.current=!0,!d&&!c&&(t.lng?RO(a,t.lng,h,function(){b.current&&y(v)}):kO(a,h,function(){b.current&&y(v)})),d&&x&&x!==_&&b.current&&y(v);function k(){b.current&&y(v)}return P&&a&&a.on(P,k),A&&a&&a.store.on(A,k),function(){b.current=!1,P&&a&&P.split(" ").forEach(function(F){return a.off(F,k)}),A&&a&&A.split(" ").forEach(function(F){return a.store.off(F,k)})}},[a,_]);var w=$.useRef(!0);$.useEffect(function(){b.current&&!w.current&&y(v),w.current=!1},[a,f]);var E=[m,a,d];if(E.t=m,E.i18n=a,E.ready=d,d||!d&&!c)return E;throw new Promise(function(P){t.lng?RO(a,t.lng,h,function(){return P()}):kO(a,h,function(){return P()})})}function Fr(e){const{t}=Rp(),r=i=>t(i[0]==="$"?i.slice(1):e+i);function n(i,...o){return o.length?[r(i),...o.map(a=>r(a))]:r(i)}return n}const oye=()=>{var g,p;const e=Fr("gaming."),{playSeEnter:t,playSeClick:r}=wr(),n=ve(m=>m.GUI),i=n.showBacklog,o=nr(),a="0.8em",[s,u]=$.useState(!1),[l,c]=$.useState(!1),[f,h]=$.useState(20);$.useEffect(()=>{if(!i)return;let m={root:null,rootMargin:"0px",threshold:[1]},y=new IntersectionObserver(x=>{var b;(((b=x==null?void 0:x[0])==null?void 0:b.intersectionRatio)??0)<=0||h(f+20)},m);const _=document.querySelector(`#backlog_item_${f-5}`);return _&&y.observe(_),()=>{y.disconnect()}},[f,i]),$.useEffect(()=>{i||h(20)},[i]);let d=$.useRef();const v=$.useMemo(()=>{let m=[];const y=C.backlogManager.getBacklog().length;for(let _=0;_<Math.min(y,f);_++){const x=y-_-1,b=C.backlogManager.getBacklog()[x],E=po(b.currentStageState.showText,3,!0,!1).map(D=>D.map(U=>U.reactNode)),A=y0(E).map((D,U)=>S.jsx("div",{children:D.map((K,de)=>K==="<br />"?S.jsx("br",{},`br${de}`):K)},`backlog-line-${U}`)),F=po(b.currentStageState.showName,3,!0).map(D=>D.map(U=>U.reactNode)),z=y0(F).map((D,U)=>S.jsx("div",{children:D.map((K,de)=>K==="<br />"?S.jsx("br",{},`br${de}`):K)},`backlog-line-${U}`)),q=S.jsxs("div",{className:Kt.backlog_item,id:`backlog_item_${_}`,style:{animationDelay:`${20*((_-1)%20)}ms`},children:[S.jsxs("div",{className:Kt.backlog_func_area,children:[S.jsxs("div",{className:Kt.backlog_item_button_list,children:[S.jsx("div",{onClick:D=>{r(),XN(x),D.preventDefault(),D.stopPropagation()},onMouseEnter:t,className:Kt.backlog_item_button_element,children:S.jsx(Cge,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}),b.currentStageState.vocal?S.jsx("div",{onClick:()=>{r();const D=document.getElementById("backlog_audio_play_element_"+x);if(D){D.currentTime=0;const U=B.getState().userData,K=U.optionData.volumeMain;D.volume=K*.01*U.optionData.vocalVolume*.01,D==null||D.play()}},onMouseEnter:t,className:Kt.backlog_item_button_element,children:S.jsx(Pge,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}):null]}),S.jsx("div",{className:Kt.backlog_item_content_name,children:z})]}),S.jsx("div",{className:Kt.backlog_item_content,children:S.jsx("span",{className:Kt.backlog_item_content_text,children:A})}),S.jsx("audio",{id:"backlog_audio_play_element_"+x,src:b.currentStageState.vocal})]},"backlogItem"+b.currentStageState.showText+b.saveScene.currentSentenceId);m.push(q)}return m},[((p=(g=C.backlogManager.getBacklog()[C.backlogManager.getBacklog().length-1])==null?void 0:g.saveScene)==null?void 0:p.currentSentenceId)??0,f]);return $.useEffect(()=>{n.showBacklog?(d.current&&clearTimeout(d.current),u(!1),c(!0),setTimeout(()=>{c(!1)},0)):d.current=setTimeout(()=>{u(!0),d.current=void 0},700+80)},[n.showBacklog]),S.jsx(S.Fragment,{children:S.jsxs("div",{className:`
          ${n.showBacklog?Kt.Backlog_main:Kt.Backlog_main_out}
          ${s?Kt.Backlog_main_out_IndexHide:""}
          `,children:[S.jsxs("div",{className:Kt.backlog_top,children:[S.jsx(oM,{className:Kt.backlog_top_icon,onClick:()=>{r(),o(Ie({component:"showBacklog",visibility:!1})),o(Ie({component:"showTextBox",visibility:!0}))},onMouseEnter:t,theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),S.jsx("div",{className:Kt.backlog_title,onClick:()=>{re.info("Rua! Testing")},children:e("buttons.backlog")})]}),n.showBacklog&&S.jsx("div",{className:`${Kt.backlog_content} ${l?Kt.Backlog_main_DisableScroll:""}`,children:v})]})})};function y0(e){let t=[],r="";for(let n=0;n<e.length;n++){const i=e[n];typeof i=="string"?r+=i:(r!==""&&(t.push(r),r=""),t.push(i))}return r!==""&&t.push(r),t}const D1=()=>{if(B.getState().GUI.showTitle)return;const e=B.dispatch;d1(),I1(),is(),e(Te({key:"playVocal",value:""})),e(Ie({component:"showTitle",visibility:!0})),dc(B.getState().GUI.titleBg)},aye="_GlobalDialog_main_bjipy_1",sye="_showGlobalDialog_bjipy_1",uye="_glabalDialog_container_inner_bjipy_16",lye="_glabalDialog_container_bjipy_16",cye="_title_bjipy_35",fye="_button_list_bjipy_40",hye="_button_bjipy_40",To={GlobalDialog_main:aye,showGlobalDialog:sye,glabalDialog_container_inner:uye,glabalDialog_container:lye,title:cye,button_list:fye,button:hye};function dye(){const e=ve(t=>t.GUI.showGlobalDialog);return S.jsx(S.Fragment,{children:e&&S.jsx("div",{id:"globalDialogContainer"})})}function Go(e){const{playSeClick:t,playSeEnter:r}=y1();B.dispatch(Ie({component:"showGlobalDialog",visibility:!0}));const n=()=>{t(),e.leftFunc(),jO()},i=()=>{t(),e.rightFunc(),jO()},o=S.jsx("div",{className:To.GlobalDialog_main,children:S.jsx("div",{className:To.glabalDialog_container,children:S.jsxs("div",{className:To.glabalDialog_container_inner,children:[S.jsx("div",{className:To.title,children:e.title}),S.jsxs("div",{className:To.button_list,children:[S.jsx("div",{className:To.button,onClick:n,onMouseEnter:r,children:e.leftText}),S.jsx("div",{className:To.button,onClick:i,onMouseEnter:r,children:e.rightText})]})]})})});setTimeout(()=>{Xn.render(o,document.getElementById("globalDialogContainer"))},100)}function jO(){B.dispatch(Ie({component:"showGlobalDialog",visibility:!1}))}function pye(){B.dispatch(Ie({component:"showControls",visibility:!0}))}function vye(){B.dispatch(Ie({component:"showControls",visibility:!1}))}function mye(){B.getState().GUI.showControls===!0?vye():pye()}const gye="_Save_Load_main_l29xc_1",yye="_Save_Load_top_l29xc_8",_ye="_Elements_in_l29xc_1",xye="_Save_Load_title_l29xc_16",bye="_Save_title_text_l29xc_34",Sye="_Load_title_text_l29xc_42",wye="_Save_Load_top_buttonList_l29xc_50",Eye="_Save_Load_top_button_l29xc_50",Tye="_Save_Load_top_button_text_l29xc_68",Cye="_Save_Load_top_button_on_l29xc_79",Oye="_Load_top_button_on_l29xc_92",Aye="_Load_top_button_l29xc_92",Pye="_Save_Load_content_l29xc_105",kye="_Save_Load_content_element_l29xc_114",Rye="_Elements_in_transform_l29xc_1",Iye="_Save_Load_content_element_top_l29xc_130",Nye="_Save_Load_content_element_top_index_l29xc_137",Lye="_Load_content_elememt_top_index_l29xc_146",Mye="_Save_Load_content_element_top_date_l29xc_150",Fye="_Load_content_element_top_date_l29xc_161",Dye="_Save_Load_content_text_l29xc_165",Bye="_Save_Load_content_text_padding_l29xc_179",jye="_Save_Load_content_speaker_l29xc_183",$ye="_Load_content_speaker_l29xc_192",Uye="_Load_content_text_l29xc_196",Gye="_Save_Load_content_miniRen_l29xc_200",zye="_Save_Load_content_miniRen_bg_l29xc_207",Hye="_Save_Load_content_miniRen_figure_l29xc_214",Vye="_Save_Load_content_miniRen_figLeft_l29xc_222",Wye="_Save_Load_content_miniRen_figRight_l29xc_227",be={Save_Load_main:gye,Save_Load_top:yye,Elements_in:_ye,Save_Load_title:xye,Save_title_text:bye,Load_title_text:Sye,Save_Load_top_buttonList:wye,Save_Load_top_button:Eye,Save_Load_top_button_text:Tye,Save_Load_top_button_on:Cye,Load_top_button_on:Oye,Load_top_button:Aye,Save_Load_content:Pye,Save_Load_content_element:kye,Elements_in_transform:Rye,Save_Load_content_element_top:Iye,Save_Load_content_element_top_index:Nye,Load_content_elememt_top_index:Lye,Save_Load_content_element_top_date:Mye,Load_content_element_top_date:Fye,Save_Load_content_text:Dye,Save_Load_content_text_padding:Bye,Save_Load_content_speaker:jye,Load_content_speaker:$ye,Load_content_text:Uye,Save_Load_content_miniRen:Gye,Save_Load_content_miniRen_bg:zye,Save_Load_content_miniRen_figure:Hye,Save_Load_content_miniRen_figLeft:Vye,Save_Load_content_miniRen_figRight:Wye},qye=()=>{const{playSePageChange:e,playSeEnter:t,playSeDialogOpen:r}=wr(),n=ve(d=>d.userData),i=ve(d=>d.saveData),o=nr(),a=[];for(let d=1;d<=20;d++){let v=be.Save_Load_top_button;d===n.optionData.slPage&&(v=v+" "+be.Save_Load_top_button_on);const g=S.jsx("div",{onClick:()=>{o(vk(d)),vt(),e()},onMouseEnter:t,className:v,children:S.jsx("div",{className:be.Save_Load_top_button_text,children:d})},"Save_element_page"+d);a.push(g)}const s=Fr("common."),u=[],l=(n.optionData.slPage-1)*10+1,c=l+9;$.useEffect(()=>{xp(l,c)},[l,c]);let f=0;for(let d=l;d<=c;d++){f++;const v=i.saveData[d];let g=S.jsx("div",{});if(v){const m=v.nowStageState.showName===""?"":`${v.nowStageState.showName}`,y=ws(m);g=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:be.Save_Load_content_element_top,children:[S.jsx("div",{className:be.Save_Load_content_element_top_index,children:v.index}),S.jsx("div",{className:be.Save_Load_content_element_top_date,children:v.saveTime})]}),S.jsx("div",{className:be.Save_Load_content_miniRen,children:S.jsx("img",{className:be.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:v.previewImage})}),S.jsxs("div",{className:be.Save_Load_content_text,children:[S.jsx("div",{className:be.Save_Load_content_speaker,children:y}),S.jsx("div",{className:be.Save_Load_content_text_padding,children:ws(v.nowStageState.showText)})]})]})}const p=S.jsx("div",{onClick:()=>{i.saveData[d]?(r(),Go({title:h("saving.isOverwrite"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{P_(d),vt()},rightFunc:()=>{}})):(e(),P_(d))},onMouseEnter:t,className:be.Save_Load_content_element,style:{animationDelay:`${f*30}ms`},children:g},"saveElement_"+d);u.push(p)}const h=Fr("menu.");return S.jsxs("div",{className:be.Save_Load_main,children:[S.jsxs("div",{className:be.Save_Load_top,children:[S.jsx("div",{className:be.Save_Load_title,children:S.jsx("div",{className:be.Save_title_text,children:h("saving.title")})}),S.jsx("div",{className:be.Save_Load_top_buttonList,children:a})]}),S.jsx("div",{className:be.Save_Load_content,id:"Save_content_page_"+n.optionData.slPage,children:u})]})};function ws(e){const r=po(e,3,!0).map(i=>i.map(o=>o.reactNode));return y0(r).map((i,o)=>S.jsx("div",{children:i.map((a,s)=>a==="<br />"?S.jsx("br",{},`br${s}`):a)},`backlog-line-${o}`))}const Xye=()=>{const e=Fr("gaming."),t=2.5,{i18n:r}=Rp(),{playSeEnter:n,playSeClick:i,playSeDialogOpen:o}=wr(),s=r.language==="fr";let u=42,l="150%";s&&(l="125%",u=40);const{isSupported:c,isFullScreen:f,toggle:h}=L1(),d=ve(x=>x.GUI),v=ve(x=>x.stage),g=nr(),p=(x,b)=>{g(Ie({component:x,visibility:b}))},m=x=>{g(Ho(x))},y=ve(x=>x.saveData.saveData);let _=S.jsx("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:S.jsx("div",{style:{fontSize:"125%"},children:e("noSaving")})});if(y[0]){const x=y[0];_=S.jsxs("div",{className:ce.slPreviewMain,children:[S.jsx("div",{className:ce.imgContainer,children:S.jsx("img",{style:{height:"100%"},alt:"q-save-preview image",src:x.previewImage})}),S.jsxs("div",{className:ce.textContainer,children:[S.jsx("div",{children:ws(x.nowStageState.showName)}),S.jsx("div",{style:{fontSize:"75%",color:"rgb(55,60,56)"},children:ws(x.nowStageState.showText)})]})]})}return S.jsx(S.Fragment,{children:d.showTextBox&&v.enableFilm===""&&S.jsxs("div",{className:ce.main,style:{visibility:d.controlsVisibility?"visible":"hidden"},children:[d.showTextBox&&S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{p("showTextBox",!1),i()},onMouseEnter:n,children:[S.jsx(wge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.hide")})]}),!d.showTextBox&&S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{p("showTextBox",!0),i()},onMouseEnter:n,children:[S.jsx(Ege,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.show")})]}),S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{p("showBacklog",!0),p("showTextBox",!1),i()},onMouseEnter:n,children:[S.jsx(lge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.backlog")})]}),S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{let x=document.getElementById("currentVocal");x!==null&&(x.currentTime=0,x.pause(),x==null||x.play()),i()},onMouseEnter:n,children:[S.jsx(Tge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.replay")})]}),S.jsxs("span",{id:"Button_ControlPanel_auto",className:ce.singleButton,style:{fontSize:l},onClick:()=>{ZL(),i()},onMouseEnter:n,children:[S.jsx(uM,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.auto")})]}),S.jsxs("span",{id:"Button_ControlPanel_fast",className:ce.singleButton,style:{fontSize:l},onClick:()=>{tM(),i()},onMouseEnter:n,children:[S.jsx(fge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.forward")})]}),S.jsxs("span",{className:ce.singleButton+" "+ce.fastsave,style:{fontSize:l},onClick:()=>{P_(0),i()},onMouseEnter:n,children:[S.jsx(cge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.quicklySave")}),S.jsx("div",{className:ce.fastSlPreview+" "+ce.fastSPreview,children:_})]}),S.jsxs("span",{className:ce.singleButton+" "+ce.fastload,style:{fontSize:l},onClick:()=>{YN(0),i()},onMouseEnter:n,children:[S.jsx(hge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.quicklyLoad")}),S.jsx("div",{className:ce.fastSlPreview+" "+ce.fastLPreview,children:_})]}),S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{m(Ke.Save),p("showMenuPanel",!0),i()},onMouseEnter:n,children:[S.jsx(lM,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.save")})]}),S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{m(Ke.Load),p("showMenuPanel",!0),i()},onMouseEnter:n,children:[S.jsx(aM,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.load")})]}),S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{m(Ke.Option),p("showMenuPanel",!0),i()},onMouseEnter:n,children:[S.jsx(cM,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.options")})]}),S.jsxs("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{o(),Go({title:e("buttons.titleTips"),leftText:e("$common.yes"),rightText:e("$common.no"),leftFunc:()=>{D1()},rightFunc:()=>{}})},onMouseEnter:n,children:[S.jsx(sM,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.title")})]}),c&&S.jsxs("span",{className:`${ce.singleButton}`,style:{fontSize:l},onClick:h,onMouseEnter:n,children:[!f&&S.jsx(dge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),f&&S.jsx(Sge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}),S.jsx("span",{className:ce.button_text,children:e("buttons.fullscreen")})]}),S.jsx("span",{className:ce.singleButton,style:{fontSize:l},onClick:()=>{mye(),i()},onMouseEnter:n,children:d.showControls?S.jsx(_ge,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t}):S.jsx(Age,{className:ce.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:t})})]})})},Yye="_tag_lqun3_1",Kye="_container_lqun3_16",Zye="_showContainer_lqun3_1",Jye="_singleButton_lqun3_32",Qye="_button_text_lqun3_36",$t={tag:Yye,container:Kye,showContainer:Zye,singleButton:Jye,button_text:Qye},e_e=()=>{const e=wn(!1),t=ve(o=>o.stage),r=nr(),n=(o,a)=>{r(Ie({component:o,visibility:a}))},i=o=>{r(Ho(o))};return S.jsx(S.Fragment,{children:t.enableFilm!==""&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:$t.tag,onClick:()=>{e.set(!e.value)},children:S.jsx(mge,{theme:"outline",size:"32",fill:"#fff"})}),e.value&&S.jsxs("div",{className:$t.container,children:[S.jsx("span",{className:$t.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),e.set(!e.value)},children:S.jsx("span",{className:$t.button_text,children:" / BACKLOG"})}),S.jsx("span",{className:$t.singleButton,onClick:()=>{e.set(!e.value);let o=document.getElementById("currentVocal");o!==null&&(o.currentTime=0,o.pause(),o==null||o.play())},children:S.jsx("span",{className:$t.button_text,children:" / REPLAY VOICE"})}),S.jsx("span",{id:"Button_ControlPanel_auto",className:$t.singleButton,onClick:()=>{ZL(),e.set(!e.value)},children:S.jsx("span",{className:$t.button_text,children:" / AUTO"})}),S.jsx("span",{id:"Button_ControlPanel_fast",className:$t.singleButton,onClick:()=>{tM(),e.set(!e.value)},children:S.jsx("span",{className:$t.button_text,children:" / FAST"})}),S.jsx("span",{className:$t.singleButton,onClick:()=>{e.set(!e.value),i(Ke.Save),n("showMenuPanel",!0)},children:S.jsx("span",{className:$t.button_text,children:" / SAVE"})}),S.jsx("span",{className:$t.singleButton,onClick:()=>{e.set(!e.value),i(Ke.Load),n("showMenuPanel",!0)},children:S.jsx("span",{className:$t.button_text,children:" / LOAD"})}),S.jsx("span",{className:$t.singleButton,onClick:()=>{e.set(!e.value),i(Ke.Option),n("showMenuPanel",!0)},children:S.jsx("span",{className:$t.button_text,children:" / OPTIONS"})}),S.jsx("span",{className:$t.singleButton,onClick:()=>{e.set(!e.value),D1()},children:S.jsx("span",{className:$t.button_text,children:" / TITLE"})})]})]})})},t_e="_devPanelMain_11x6i_1",r_e="_devPanelOpener_11x6i_13",$O={devPanelMain:t_e,devPanelOpener:r_e};function n_e(){document.getElementById("pixiCanvas").toBlob(t=>{if(t){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(t),r.click(),r.remove()}},"image/png")}function i_e(){function e(){return!!window.location.hash.match(/dev/)}const t=wn(!1),r=wn(window.location.hash),n=ve(u=>u.stage);$.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=e(),{t:o,i18n:a}=Rp(),s=S.jsxs(S.Fragment,{children:[S.jsx("div",{onClick:()=>n_e(),children:"Save PIXI Screenshot"}),S.jsxs("div",{children:["Current Language:",a.language]}),S.jsx("div",{onClick:()=>{var u;return(u=C.gameplay.pixiStage)==null?void 0:u.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),S.jsx("div",{children:"Stage State"}),S.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return S.jsxs(S.Fragment,{children:[i&&t.value&&S.jsxs("div",{className:$O.devPanelMain,children:[S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{onClick:()=>t.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),S.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),S.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!t.value&&i&&S.jsx("div",{onClick:()=>t.set(!0),className:$O.devPanelOpener,children:"Open Dev Panel"})]})}const o_e="_extra_wnytv_1",a_e="_extra_top_wnytv_13",s_e="_extra_top_icon_wnytv_19",u_e="_extra_icon_softin_wnytv_1",l_e="_extra_title_wnytv_39",c_e="_mainContainer_wnytv_50",f_e="_bgmContainer_wnytv_58",h_e="_bgmListContainer_wnytv_75",d_e="_bgmPlayerMain_wnytv_90",p_e="_bgmControlButton_wnytv_94",v_e="_bgmName_wnytv_109",m_e="_bgmElement_wnytv_117",g_e="_bgmElement_active_wnytv_147",y_e="_cgMain_wnytv_152",__e="_cgContainer_wnytv_157",x_e="_cgElement_wnytv_169",b_e="_cgShowDiv_wnytv_184",S_e="_cgShowDivWarpper_wnytv_193",w_e="_cgNav_wnytv_202",E_e="_cgNav_active_wnytv_222",T_e="_showFullContainer_wnytv_232",C_e="_showFullCgMain_wnytv_245",O_e="_fullCgIn_wnytv_1",A_e="_bgmElement_In_wnytv_1",st={extra:o_e,extra_top:a_e,extra_top_icon:s_e,extra_icon_softin:u_e,extra_title:l_e,mainContainer:c_e,bgmContainer:f_e,bgmListContainer:h_e,bgmPlayerMain:d_e,bgmControlButton:p_e,bgmName:v_e,bgmElement:m_e,bgmElement_active:g_e,cgMain:y_e,cgContainer:__e,cgElement:x_e,cgShowDiv:b_e,cgShowDivWarpper:S_e,cgNav:w_e,cgNav_active:E_e,showFullContainer:T_e,showFullCgMain:C_e,fullCgIn:O_e,bgmElement_In:A_e};function P_e(){const{playSeClick:e,playSeEnter:t}=wr(),r=ve(g=>g.GUI.titleBgm),n=ve(g=>g.userData.appreciationData),i="Title_BGM",o=wn(!1);let a=i,s=-1;const u=39,l=o.value?"80%":"10%",c=n.bgm.length;n.bgm.forEach((g,p)=>{g.url===r&&(a=g.name,s=p)});const f=wn("");a!==i&&a!==f.value&&f.set(a);const h=nr();function d(g){const p=n.bgm[g];f.set(p.name),h(Eh({asset:"titleBgm",value:p.url}))}const v=n.bgm.map((g,p)=>{let m=st.bgmElement;return g.name===f.value&&(m=m+" "+st.bgmElement_active),S.jsx("div",{onClick:()=>{e(),f.set(g.name),h(Eh({asset:"titleBgm",value:g.url}))},className:m,style:{animationDelay:`${p*150}ms`},onMouseEnter:t,children:g.name},g.name)});return S.jsxs("div",{className:st.bgmContainer,style:{maxHeight:l},children:[S.jsxs("div",{className:st.bgmPlayerMain,children:[S.jsx("div",{onClick:()=>{e(),s<=0?d(c-1):d(s-1)},onMouseEnter:t,className:st.bgmControlButton,children:S.jsx(vge,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),S.jsx("div",{onClick:()=>{e();const g=document.getElementById("currentBgm");g==null||g.play().then()},onMouseEnter:t,className:st.bgmControlButton,children:S.jsx(uM,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),S.jsx("div",{onClick:()=>{e(),s>=c-1?d(0):d(s+1)},onMouseEnter:t,className:st.bgmControlButton,children:S.jsx(pge,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),S.jsx("div",{onClick:()=>{e(),document.getElementById("currentBgm").pause()},onMouseEnter:t,className:st.bgmControlButton,children:S.jsx(Oge,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),S.jsx("div",{className:st.bgmName,children:a}),S.jsx("div",{onClick:()=>{e(),o.set(!o.value)},onMouseEnter:t,className:st.bgmControlButton,style:{marginLeft:"auto"},children:S.jsx(bge,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})})]}),o.value&&S.jsxs("div",{className:st.bgmListContainer,children:[" ",v]})]})}function k_e(e){const t=wn(!1),{playSeEnter:r,playSeClick:n}=wr(),i=$.useMemo(()=>{var u;const s=((u=e.resourceUrl.split(".").pop())==null?void 0:u.toLowerCase())||"";return["mp4","webm","mov","avi","mkv"].includes(s)},[e.resourceUrl]),o=$.useMemo(()=>{var u;const s=((u=e.resourceUrl.split(".").pop())==null?void 0:u.toLowerCase())||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(s)},[e.resourceUrl]),a=s=>i?S.jsx("video",{src:e.resourceUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}):o?S.jsx("div",{style:{backgroundImage:`url('${e.resourceUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}}):S.jsx("div",{style:{backgroundImage:`url('${e.resourceUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}});return S.jsxs(S.Fragment,{children:[t.value&&S.jsx("div",{onClick:()=>{t.set(!t.value),n()},className:st.showFullContainer,onMouseEnter:r,children:S.jsx("div",{className:st.showFullCgMain,children:a()})}),S.jsx("div",{onClick:()=>{t.set(!t.value),n()},onMouseEnter:r,style:{animation:`cg_softIn_${e.transformDeg} 1.5s ease-out ${100+e.index*100}ms forwards`},className:st.cgElement,children:a()},e.name)]})}function R_e(){const t=ve(l=>l.userData.appreciationData),r=Math.ceil(t.cg.length/8),n=wn(1),{playSeEnter:i,playSeClick:o}=wr(),a=[],s=t.cg.length;for(let l=(n.value-1)*8;l<Math.min(s,(n.value-1)*8+8);l++){const c=l-(n.value-1)*8,f=I_e(-5,5),h=S.jsx(k_e,{name:t.cg[l].name,resourceUrl:t.cg[l].url,transformDeg:f,index:c},c.toString()+t.cg[l].url);a.push(h)}const u=[];for(let l=1;l<=r;l++){let c=st.cgNav;n.value===l&&(c=c+" "+st.cgNav_active);const f=S.jsx("div",{onClick:()=>{n.set(l),o()},onMouseEnter:i,className:c,children:l},"nav"+l);u.push(f)}return S.jsxs("div",{className:st.cgMain,children:[S.jsx("div",{className:st.cgShowDiv,children:S.jsx("div",{className:st.cgShowDivWarpper,children:u})}),S.jsx("div",{className:st.cgContainer,children:a})]})}function I_e(e,t){return Math.round(Math.random()*(t-e))+e}function N_e(){const{playSeClick:e}=wr(),t=ve(i=>i.GUI.showExtra),r=nr(),n=Fr("extra.");return S.jsx(S.Fragment,{children:t&&S.jsxs("div",{className:st.extra,children:[S.jsxs("div",{className:st.extra_top,children:[S.jsx(oM,{className:st.extra_top_icon,onClick:()=>{r(Ie({component:"showExtra",visibility:!1})),e()},onMouseEnter:e,theme:"outline",size:"4em",fill:"#fff",strokeWidth:3}),S.jsx("div",{className:st.extra_title,children:n("title")})]}),S.jsxs("div",{className:st.mainContainer,children:[S.jsx(R_e,{}),S.jsx(P_e,{})]})]})})}const L_e="_Logo_main_1bne2_1",M_e="_Logo_Back_1bne2_32",F_e="_animationActive_1bne2_46",D_e="_fadeout_1bne2_1",dg={Logo_main:L_e,"change-img-anim":"_change-img-anim_1bne2_1",Logo_Back:M_e,animationActive:F_e,fadeout:D_e},B_e=()=>{const e=ve(u=>u.GUI),t=e.logoImage,r=e.isEnterGame,n=wn(-1),i=wn(-1),o=5e3,a=()=>{clearTimeout(i.value),n.value<t.length-1?(n.set(n.value+1),i.set(setTimeout(a,o))):n.set(-1)};$.useEffect(()=>{r&&t.length>0&&(n.set(0),i.set(setTimeout(a,o)))},[r]);const s=n.value===-1?"":t[n.value];return S.jsxs(S.Fragment,{children:[n.value!==-1&&S.jsx("div",{className:dg.Logo_Back+" "+(n.value===t.length-1?dg.animationActive:""),style:{animationDuration:`${o}ms`}},n.value+"wh"),s!==""&&S.jsx("div",{className:dg.Logo_main,onClick:a,style:{backgroundImage:`url("${s}")`,animationDuration:`${o}ms`}},n.value+"bg")]})},j_e="_Menu_main_1a7i6_1",$_e="_Menu_ShowSoftly_1a7i6_1",U_e="_Menu_TagContent_1a7i6_10",UO={Menu_main:j_e,Menu_ShowSoftly:$_e,Menu_TagContent:U_e},G_e="_MenuPanel_main_1c9ky_1",z_e="_MenuPanel_button_1c9ky_10",H_e="_MenuPanel_button_icon_1c9ky_38",V_e="_MenuPanel_button_hl_1c9ky_44",Ga={MenuPanel_main:G_e,MenuPanel_button:z_e,MenuPanel_button_icon:H_e,MenuPanel_button_hl:V_e},W_e=e=>{let t;switch(e.iconName){case"save":t=S.jsx(lM,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=S.jsx(aM,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=S.jsx(cM,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=S.jsx(sM,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"exit":t=S.jsx(xge,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;default:t=S.jsx("div",{})}return t},Eu=e=>{const{playSePageChange:t,playSeEnter:r}=wr();let n=Ga.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(n=n+e.buttonOnClassName),S.jsxs("div",{className:n,onClick:()=>{e.clickFunc()},onMouseEnter:r,style:{...e.style,color:e.tagColor},children:[S.jsx("div",{className:Ga.MenuPanel_button_icon,children:S.jsx(W_e,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},q_e=()=>{const e=Fr("menu."),{playSeClick:t,playSeDialogOpen:r,playSePageChange:n}=wr(),i=ve(g=>g.GUI),o=nr(),a=i.currentMenuTag===Ke.Save?` ${Ga.MenuPanel_button_hl}`:"",s=i.currentMenuTag===Ke.Load?` ${Ga.MenuPanel_button_hl}`:"",u=i.currentMenuTag===Ke.Option?` ${Ga.MenuPanel_button_hl}`:"",l=i.currentMenuTag===Ke.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",c=i.currentMenuTag===Ke.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===Ke.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===Ke.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===Ke.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",v=i.currentMenuTag===Ke.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return S.jsxs("div",{className:Ga.MenuPanel_main,children:[S.jsx(Eu,{iconName:"save",buttonOnClassName:a,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&o(Ho(Ke.Save))},tagName:e("saving.title")},"saveButton"),S.jsx(Eu,{iconName:"load",buttonOnClassName:s,iconColor:d,tagColor:c,clickFunc:()=>{n(),o(Ho(Ke.Load))},tagName:e("loadSaving.title")},"loadButton"),S.jsx(Eu,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),Go({title:e("$gaming.buttons.titleTips"),leftText:e("$common.yes"),rightText:e("$common.no"),leftFunc:()=>{D1(),o(Ie({component:"showMenuPanel",visibility:!1}))},rightFunc:()=>{}})},tagName:e("title.title")},"titleIcon"),S.jsx(Eu,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:u,iconColor:v,tagColor:f,clickFunc:()=>{n(),o(Ho(Ke.Option))},tagName:e("options.title")},"optionButton"),S.jsx(Eu,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{t(),o(Ie({component:"showMenuPanel",visibility:!1}))},tagName:e("exit.title")},"exitIcon")]})},X_e=()=>{const{playSeClick:e,playSeEnter:t,playSePageChange:r}=wr(),n=ve(h=>h.userData),i=ve(h=>h.saveData),o=nr(),a=[];for(let h=1;h<=20;h++){let d=be.Save_Load_top_button+" "+be.Load_top_button;h===n.optionData.slPage&&(d=d+" "+be.Save_Load_top_button_on+" "+be.Load_top_button_on);const v=S.jsx("div",{onClick:()=>{o(vk(h)),vt(),r()},onMouseEnter:t,className:d,children:S.jsx("div",{className:be.Save_Load_top_button_text,children:h})},"Load_element_page"+h);a.push(v)}const s=[],u=(n.optionData.slPage-1)*10+1,l=u+9;$.useEffect(()=>{xp(u,l)},[u,l]);let c=0;for(let h=u;h<=l;h++){c++;const d=i.saveData[h];let v=S.jsx("div",{});if(d){const p=d.nowStageState.showName===""?"":`${d.nowStageState.showName}`,m=ws(p);v=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:be.Save_Load_content_element_top,children:[S.jsx("div",{className:be.Save_Load_content_element_top_index+" "+be.Load_content_elememt_top_index,children:d.index}),S.jsx("div",{className:be.Save_Load_content_element_top_date+" "+be.Load_content_element_top_date,children:d.saveTime})]}),S.jsx("div",{className:be.Save_Load_content_miniRen,children:S.jsx("img",{className:be.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:d.previewImage})}),S.jsxs("div",{className:be.Save_Load_content_text,children:[S.jsx("div",{className:be.Save_Load_content_speaker+" "+be.Load_content_speaker,children:m}),S.jsx("div",{className:be.Save_Load_content_text_padding,children:ws(d.nowStageState.showText)})]})]})}const g=S.jsx("div",{onClick:()=>{YN(h),e()},onMouseEnter:t,className:be.Save_Load_content_element,style:{animationDelay:`${c*30}ms`},children:v},"loadElement_"+h);s.push(g)}const f=Fr("menu.");return S.jsxs("div",{className:be.Save_Load_main,children:[S.jsxs("div",{className:be.Save_Load_top,children:[S.jsx("div",{className:be.Save_Load_title,children:S.jsx("div",{className:be.Load_title_text,children:f("loadSaving.title")})}),S.jsx("div",{className:be.Save_Load_top_buttonList,children:a})]}),S.jsx("div",{className:be.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s})]})},Y_e="_Options_main_1tqt4_1",K_e="_Options_top_1tqt4_8",Z_e="_Options_title_1tqt4_15",J_e="_Option_title_text_1tqt4_24",Q_e="_Elements_in_1tqt4_1",e0e="_Option_title_text_shadow_1tqt4_33",t0e="_Option_title_text_ts_1tqt4_40",r0e="_Options_main_content_1tqt4_47",n0e="_Options_main_content_half_1tqt4_54",i0e="_About_title_text_1tqt4_65",o0e="_About_text_1tqt4_75",a0e="_Options_page_container_1tqt4_94",s0e="_Options_button_list_1tqt4_100",u0e="_Options_page_button_1tqt4_104",l0e="_Options_page_button_active_1tqt4_116",Cr={Options_main:Y_e,Options_top:K_e,Options_title:Z_e,Option_title_text:J_e,Elements_in:Q_e,Option_title_text_shadow:e0e,Option_title_text_ts:t0e,Options_main_content:r0e,Options_main_content_half:n0e,About_title_text:i0e,About_text:o0e,Options_page_container:a0e,Options_button_list:s0e,Options_page_button:u0e,Options_page_button_active:l0e},c0e="_NormalOption_ogzuv_1",f0e="_Elements_in_ogzuv_1",h0e="_NormalOption_title_ogzuv_10",d0e="_NormalOption_title_bef_ogzuv_19",p0e="_NormalOption_title_sd_ogzuv_29",v0e="_NormalOption_buttonList_ogzuv_39",pg={NormalOption:c0e,Elements_in:f0e,NormalOption_title:h0e,NormalOption_title_bef:d0e,NormalOption_title_sd:p0e,NormalOption_buttonList:v0e},fr=e=>S.jsxs("div",{className:pg.NormalOption,style:{width:e.full?"100%":"auto"},children:[S.jsx("div",{className:pg.NormalOption_title,children:e.title}),S.jsx("div",{className:pg.NormalOption_buttonList,style:{width:e.full?"100%":"auto",overflow:e.full?"hidden":void 0},children:e.children})]}),m0e="_NormalButton_1qk3b_1",g0e="_NormalButtonChecked_1qk3b_18",vg={NormalButton:m0e,NormalButtonChecked:g0e},Xo=e=>{const t=e.textList.length,r=[],{playSeEnter:n,playSeSwitch:i}=wr();for(let o=0;o<t;o++)if(o===e.currentChecked){const a=S.jsx("div",{className:vg.NormalButton+" "+vg.NormalButtonChecked,onClick:()=>{i(),e.functionList[o]()},onMouseEnter:n,children:e.textList[o]},e.textList[o]+o+e);r.push(a)}else{const a=S.jsx("div",{className:vg.NormalButton,onClick:()=>{i(),e.functionList[o]()},onMouseEnter:n,children:e.textList[o]},e.textList[o]+o);r.push(a)}return S.jsx(S.Fragment,{children:r})};function y0e(e){return yi[e]}function xM(){const{i18n:e}=Rp(),t=Ws(n=>n.userData),r=nr();return(n,i=!0)=>{var s;const o=n??((s=t.current)==null?void 0:s.optionData.language)??yi.zhCn,a=y0e(o);e.changeLanguage(a),r(Jt({key:"language",value:o})),re.info(": "+a),window==null||window.localStorage.setItem("lang",o.toString()),i&&vt()}}const _0e="_backButton_qbk37_1",x0e="_about_qbk37_16",b0e="_icon_qbk37_20",S0e="_title_qbk37_24",w0e="_text_qbk37_34",E0e="_contributor_qbk37_43",Yr={backButton:_0e,about:x0e,icon:b0e,title:S0e,text:w0e,contributor:E0e};function T0e(e){const t=Fr("menu.options.pages.system.options.about.");return S.jsxs("div",{className:Yr.about,children:[S.jsx("div",{className:Yr.backButton,onClick:e.onClose,children:S.jsx(yge,{className:Yr.icon,theme:"outline",size:"35",strokeWidth:3,fill:"#333"})}),S.jsx("div",{className:Yr.title,children:t("subTitle")}),S.jsx("div",{className:Yr.title,children:t("version")}),S.jsx("div",{className:Yr.text,children:JN.version}),S.jsx("div",{className:Yr.title,children:t("source")}),S.jsx("div",{className:Yr.text,children:S.jsx("a",{target:"_blank",href:"https://github.com/OpenWebGAL/WebGAL",children:"https://github.com/OpenWebGAL/WebGAL"})}),S.jsx("div",{className:Yr.title,children:t("contributors")}),S.jsx("div",{className:Yr.text,children:S.jsx("a",{target:"_blank",href:"https://github.com/OpenWebGAL/WebGAL/graphs/contributors",children:"https://github.com/OpenWebGAL/WebGAL/graphs/contributors"})}),S.jsx("div",{className:Yr.title,children:t("website")}),S.jsx("div",{className:Yr.text,children:S.jsx("a",{target:"_blank",href:"https://openwebgal.com/",children:"https://openwebgal.com/"})})]})}const Di=e=>{const{playSeEnter:t}=wr(),[r,n]=$.useState(e.initValue),[i,o]=$.useState(!1),[a,s]=$.useState(!1),u=$.useRef(null);$.useEffect(()=>{const c=()=>s(!1);return document.addEventListener("mouseup",c),()=>document.removeEventListener("mouseup",c)},[]),$.useEffect(()=>{n(e.initValue)},[e.initValue]);const l=()=>{if(!u.current)return 0;const c=u.current,f=e.min||0,h=e.max||100,d=(r-f)/(h-f),v=c.offsetWidth,g=v*.072;return d*(v-g)+g/2};return S.jsxs("div",{className:"Option_WebGAL_slider",children:[S.jsx("input",{id:e.uniqueID,ref:u,type:"range",value:r,min:e.min,max:e.max,onChange:c=>{const f=parseFloat(c.target.value);n(f),e.onChange(c)},onMouseEnter:()=>o(!0),onMouseLeave:()=>!a&&o(!1),onMouseDown:()=>s(!0),onFocus:t,onMouseOver:t,onTouchStart:()=>{s(!0),o(!0)},onTouchEnd:()=>{s(!1),o(!1)}}),(i||a)&&S.jsx("div",{className:"bubble",style:{left:`${l()}px`},children:Number(r.toFixed(1))})]})};function C0e(){const e=ve(h=>h.userData),t=ve(h=>h.saveData),r=nr(),n=xM(),i=Fr("menu.options.pages.system.options."),{playSeDialogOpen:o}=wr();function a(){const d=JSON.stringify({userData:e,saves:t});if(d!==null){const v=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(v),p=document.createElement("a");p.href=g,p.download="saves.json",p.click(),p.remove()}}function s(h){const d=h.target.files[0],v=new FileReader;v.onload=g=>{const p=g.target.result;try{const m=JSON.parse(p);o(),Go({title:i("gameSave.dialogs.import.title"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:async()=>{await ca.setItem(C.gameKey,m.userData).then(()=>{re.info(i("gameSave.dialogs.import.tip"))}),xl(),B.dispatch(vi.replaceSaveGame(m.saves.saveData)),B.dispatch(vi.setFastSave(m.saves.quickSaveData)),Bf(),Df(0,200)},rightFunc:()=>{}})}catch(m){re.error(i("gameSave.dialogs.import.error"),m)}},v.readAsText(d,"UTF-8")}function u(){const h=document.createElement("input");h.type="file",h.onchange=s,h.click()}const[l,c]=$.useState(!1);function f(){c(!l)}return S.jsxs("div",{className:Cr.Options_main_content_half,children:[l&&S.jsx(T0e,{onClose:f}),!l&&S.jsxs(S.Fragment,{children:[S.jsx(fr,{title:i("autoSpeed.title"),children:S.jsx(Di,{initValue:e.optionData.autoSpeed,uniqueID:i("autoSpeed.title"),onChange:h=>{const d=h.target.value;r(Jt({key:"autoSpeed",value:Number(d)})),vt()}})},"option1"),S.jsx(fr,{title:i("language.title"),children:S.jsx(Xo,{currentChecked:e.optionData.language,textList:Object.values(Sh),functionList:Object.keys(Sh).map(h=>()=>n(yi[h]))})},"option7"),S.jsx(fr,{title:i("resetData.title"),children:S.jsx(Xo,{textList:i("resetData.options.clearGameSave","resetData.options.resetSettings","resetData.options.clearAll"),functionList:[()=>{o(),Go({title:i("resetData.dialogs.clearGameSave"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{r(vi.resetSaves()),Df(0,200),Bf()},rightFunc:()=>{}})},()=>{o(),Go({title:i("resetData.dialogs.resetSettings"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{r(X9()),wh()},rightFunc:()=>{}})},()=>{o(),Go({title:i("resetData.dialogs.clearAll"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{r(Y9()),wh(),r(vi.resetSaves()),Df(0,200),Bf()},rightFunc:()=>{}})}],currentChecked:3})},"option2"),S.jsx(fr,{title:i("gameSave.title"),children:S.jsx(Xo,{textList:i("gameSave.options.export","gameSave.options.import"),functionList:[a,u],currentChecked:2})},"option3"),S.jsx("div",{className:Cr.About_title_text,onClick:f,children:S.jsx(gge,{theme:"outline",size:"32",fill:"#227D515F"})})]})]})}const O0e="_textPreviewMain_nolr3_1",A0e="_textbox_nolr3_8",GO={textPreviewMain:O0e,textbox:A0e},P0e=e=>{const t=Fr("menu.options.pages.display.options."),r=ve(E=>E.userData),i=ve(E=>E.stage).bgName,o=Ex(r.optionData.textSpeed),a=Tx(r.optionData.textSpeed),s=r.optionData.textboxOpacity,u=ny(r.optionData.textSize)+"%",l=m2(),c=navigator.userAgent,f=/firefox/i.test(c),h=/^((?!chrome|android).)*safari/i.test(c),d=t("textPreview.text"),v=po(d,3),g=t("textPreview.title"),p=po(g,3),m=g!=="",y=XL,[_,x]=$.useState(0),b=()=>{x(E=>E+1)},w={textArray:v,isText:!0,textDelay:o,isHasName:m,showName:p,currentConcatDialogPrev:"",fontSize:u,currentDialogKey:String(_),isSafari:h,isFirefox:f,miniAvatar:"",textDuration:a,font:l,textSizeState:u,lineLimit:3,isUseStroke:!0,textboxOpacity:s};return S.jsx("div",{className:GO.textPreviewMain,style:{background:i?`bottom / cover no-repeat url(${i})`:"rgba(0, 0, 0, 0.1)"},onClick:b,children:S.jsx("div",{className:GO.textbox,children:S.jsx(y,{...w})},`previewTextbox-${o}`)})};function k0e(){const e=ve(a=>a.userData),t=nr(),r=Fr("menu.options.pages.display.options."),{isSupported:n,enter:i,exit:o}=L1();return S.jsxs("div",{className:Cr.Options_main_content_half,children:[n&&S.jsx(fr,{title:r("fullScreen.title"),children:S.jsx(Xo,{textList:r("fullScreen.options.on","fullScreen.options.off"),functionList:[i,o],currentChecked:e.optionData.fullScreen})},"fullScreen"),S.jsx(fr,{title:r("textSize.title"),children:S.jsx(Xo,{textList:r("textSize.options.small","textSize.options.medium","textSize.options.large"),functionList:[()=>{t(Jt({key:"textSize",value:nn.small})),vt()},()=>{t(Jt({key:"textSize",value:nn.medium})),vt()},()=>{t(Jt({key:"textSize",value:nn.large})),vt()}],currentChecked:e.optionData.textSize})},"textSize"),S.jsx(fr,{title:r("textFont.title"),children:S.jsx(Xo,{textList:r("textFont.options.WebgalUI","textFont.options.YH"),functionList:[()=>{t(Jt({key:"textboxFont",value:cs.fangyuan})),vt()},()=>{t(Jt({key:"textboxFont",value:cs.yuanhei})),vt()}],currentChecked:e.optionData.textboxFont})},"textFont"),S.jsx(fr,{title:r("textSpeed.title"),children:S.jsx(Di,{initValue:e.optionData.textSpeed,uniqueID:r("textSpeed.title"),onChange:a=>{const s=a.target.value;t(Jt({key:"textSpeed",value:Number(s)})),vt()}})},"textSpeed"),S.jsx(fr,{title:r("textboxOpacity.title"),children:S.jsx(Di,{initValue:e.optionData.textboxOpacity,uniqueID:r("textboxOpacity.title"),onChange:a=>{const s=a.target.value;t(Jt({key:"textboxOpacity",value:Number(s)})),vt()}})},"textboxOpacity"),S.jsx(fr,{full:!0,title:r("textPreview.title"),children:S.jsx(P0e,{})},"textPreview")]})}function R0e(){const e=ve(n=>n.userData),t=nr(),r=Fr("menu.options.pages.sound.options.");return S.jsxs("div",{className:Cr.Options_main_content_half,children:[S.jsx(fr,{title:r("volumeMain.title"),children:S.jsx(Di,{initValue:e.optionData.volumeMain,uniqueID:r("volumeMain.title"),onChange:n=>{const i=n.target.value;t(Jt({key:"volumeMain",value:Number(i)})),vt()}})},"option4"),S.jsx(fr,{title:r("vocalVolume.title"),children:S.jsx(Di,{initValue:e.optionData.vocalVolume,uniqueID:r("vocalVolume.title"),onChange:n=>{const i=n.target.value;t(Jt({key:"vocalVolume",value:Number(i)})),vt()}})},"option5"),S.jsx(fr,{title:r("bgmVolume.title"),children:S.jsx(Di,{initValue:e.optionData.bgmVolume,uniqueID:r("bgmVolume.title"),onChange:n=>{const i=n.target.value;t(Jt({key:"bgmVolume",value:Number(i)})),vt()}})},"option6"),S.jsx(fr,{title:r("seVolume.title"),children:S.jsx(Di,{initValue:e.optionData.seVolume,uniqueID:r("seVolume.title"),onChange:n=>{const i=n.target.value;t(Jt({key:"seVolume",value:Number(i)})),vt()}})},"option7"),S.jsx(fr,{title:r("uiSeVolume.title"),children:S.jsx(Di,{initValue:e.optionData.uiSeVolume,uniqueID:r("uiSeVolume.title"),onChange:n=>{const i=n.target.value;t(Jt({key:"uiSeVolume",value:Number(i)})),vt()}})},"option8"),S.jsx(fr,{title:r("voiceOption.title"),children:S.jsx(Xo,{textList:r("voiceStop.title","voiceContinue.title"),functionList:[()=>{t(Jt({key:"voiceInterruption",value:gl.yes})),vt()},()=>{t(Jt({key:"voiceInterruption",value:gl.no})),vt()}],currentChecked:e.optionData.voiceInterruption})},"option9")]})}const I0e=()=>{const{playSeEnter:e,playSeSwitch:t}=wr(),r=wn(0);$.useEffect(xl,[]);function n(o){return o===r.value?Cr.Options_page_button+" "+Cr.Options_page_button_active:Cr.Options_page_button}const i=Fr("menu.options.");return S.jsxs("div",{className:Cr.Options_main,children:[S.jsx("div",{className:Cr.Options_top,children:S.jsx("div",{className:Cr.Options_title,children:S.jsx("div",{className:Cr.Option_title_text,children:i("title")})})}),S.jsxs("div",{className:Cr.Options_page_container,children:[S.jsxs("div",{className:Cr.Options_button_list,children:[S.jsx("div",{onClick:()=>{r.set(0),t()},className:n(0),onMouseEnter:e,children:i("pages.system.title")}),S.jsx("div",{onClick:()=>{r.set(1),t()},className:n(1),onMouseEnter:e,children:i("pages.display.title")}),S.jsx("div",{onClick:()=>{r.set(2),t()},className:n(2),onMouseEnter:e,children:i("pages.sound.title")})]}),S.jsxs("div",{className:Cr.Options_main_content,children:[r.value===1&&S.jsx(k0e,{}),r.value===0&&S.jsx(C0e,{}),r.value===2&&S.jsx(R0e,{})]})]})]})},N0e=()=>{const e=ve(r=>r.GUI);let t;switch(e.currentMenuTag){case Ke.Save:t=S.jsx(qye,{});break;case Ke.Load:t=S.jsx(X_e,{});break;case Ke.Option:t=S.jsx(I0e,{});break}return S.jsx(S.Fragment,{children:e.showMenuPanel&&S.jsxs("div",{className:UO.Menu_main,children:[S.jsx("div",{className:UO.Menu_TagContent,children:t}),S.jsx(q_e,{})]})})},L0e="_panic_overlay_main_1ysz4_1",M0e={panic_overlay_main:L0e},F0e="_yoozle_blue_1r48o_1",D0e="_yoozle_red_1r48o_5",B0e="_yoozle_yellow_1r48o_9",j0e="_yoozle_green_1r48o_13",$0e="_yoozle_e_rotate_1r48o_17",U0e="_yoozle_container_1r48o_22",G0e="_yoozle_title_1r48o_28",z0e="_yoozle_search_1r48o_37",H0e="_yoozle_search_bar_1r48o_44",V0e="_yoozle_search_buttons_1r48o_51",W0e="_yoozle_button_1r48o_55",Tr={yoozle_blue:F0e,yoozle_red:D0e,yoozle_yellow:B0e,yoozle_green:j0e,yoozle_e_rotate:$0e,yoozle_container:U0e,yoozle_title:G0e,yoozle_search:z0e,yoozle_search_bar:H0e,yoozle_search_buttons:V0e,yoozle_button:W0e},q0e=()=>($.useEffect(()=>{const e="Yoozle Search",t=document.title;return document.title=e,()=>{document.title=t}},[]),S.jsxs("div",{className:Tr.yoozle_container,children:[S.jsx("div",{className:Tr.yoozle_title,children:S.jsxs("span",{children:[S.jsx("span",{className:Tr.yoozle_blue,style:{marginRight:"1px"},children:"W"}),S.jsx("span",{className:`${Tr.yoozle_red}`,children:"e"}),S.jsx("span",{className:Tr.yoozle_yellow,children:"b"}),S.jsx("span",{className:Tr.yoozle_blue,children:"g"}),S.jsx("span",{className:`${Tr.yoozle_green} ${Tr.yoozle_e_rotate}`,children:"a"}),S.jsx("span",{className:`${Tr.yoozle_red}`,children:"l"})]})}),S.jsxs("div",{className:Tr.yoozle_search,children:[S.jsx("input",{className:Tr.yoozle_search_bar,type:"text",defaultValue:""}),S.jsxs("div",{className:Tr.yoozle_search_buttons,children:[S.jsx("input",{className:Tr.yoozle_button,type:"submit",value:"WebGAL Search"}),S.jsx("input",{className:Tr.yoozle_button,type:"submit",value:"Feeling Lucky"})]})]})]})),X0e=()=>{const e=ve(a=>a.GUI),[t,r]=$.useState(!1),o=ve(a=>a.userData.globalGameVar).Show_panic===!1;return $.useEffect(()=>{const a=e.showPanicOverlay&&!o;r(a)},[e.showPanicOverlay,o]),Xn.createPortal(S.jsx("div",{className:t?M0e.panic_overlay_main:"",children:t&&S.jsx(q0e,{})}),document.querySelector("div#panic-overlay"))},Y0e="_Title_main_1p5oo_1",K0e="_Title_buttonList_1p5oo_8",Z0e="_Title_button_1p5oo_8",J0e="_Title_button_text_1p5oo_41",Q0e="_Title_backup_background_1p5oo_48",exe="_Title_button_disabled_1p5oo_56",ar={Title_main:Y0e,Title_buttonList:K0e,Title_button:Z0e,Title_button_text:J0e,Title_backup_background:Q0e,Title_button_disabled:exe},txe=()=>{bp(!0);const e=jr("start.txt",Br.scene);ti(e).then(t=>{C.sceneManager.sceneData.currentScene=On(t,"start.txt",e),ir()}),B.dispatch(Ie({component:"showTitle",visibility:!1}))};async function rxe(){if(dc(B.getState().stage.bgName),await Tle()&&C.sceneManager.sceneData.currentSentenceId===0){await Cle();return}C.sceneManager.sceneData.currentSentenceId===0&&C.sceneManager.sceneData.currentScene.sceneName==="start.txt"?ir():p1()}const nxe=()=>{const e=["Title_img","Game_Logo","Title_bgm","Game_name","Game_key"],t=ve(r=>r.userData.globalGameVar);return $.useEffect(()=>{for(let r in t){if(!e.includes(r))continue;const n=t[r];switch(r){case"Title_img":{const i=jr(n,Br.background);B.dispatch(Eh({asset:"titleBg",value:i})),dc(i);break}case"Game_Logo":{const o=n.split("|").map(a=>jr(a,Br.background));B.dispatch(J9(o));break}case"Title_bgm":{const i=jr(n,Br.bgm);B.dispatch(Eh({asset:"titleBgm",value:i}));break}case"Game_name":{C.gameName=n,document.title=n;break}case"Game_key":{C.gameKey=n,xl(),v1(),xp(0,0);break}}}return()=>{}},[t.Game_Logo,t.Game_key,t.Game_name,t.Title_bgm,t.Title_img])},ixe=()=>{const e=ve(h=>h.userData),t=ve(h=>h.GUI),r=nr(),n=e.optionData.fullScreen,i=t.titleBg,o=i===""?"rgba(0,0,0,1)":`url("${i}")`,a=Fr("title."),{playSeEnter:s,playSeClick:u}=wr(),l=w1("UI/Title/title.scss");nxe();const c=ve(h=>h.userData.appreciationData),f=c.bgm.length>0||c.cg.length>0;return S.jsxs(S.Fragment,{children:[t.showTitle&&S.jsx("div",{className:l("Title_backup_background",ar.Title_backup_background)}),S.jsx("div",{id:"enter_game_target",onClick:()=>{Qx(t.titleBgm),r(Ie({component:"isEnterGame",visibility:!0})),n===wx.on&&(document.documentElement.requestFullscreen(),SO&&SO.lock(["Escape","F11"]))},onMouseEnter:s}),t.showTitle&&S.jsx("div",{className:l("Title_main",ar.Title_main),style:{backgroundImage:o,backgroundSize:"cover"},children:S.jsxs("div",{className:l("Title_buttonList",ar.Title_buttonList),children:[S.jsx("div",{className:l("Title_button",ar.Title_button),onClick:()=>{txe(),u()},onMouseEnter:s,children:S.jsx("div",{className:l("Title_button_text",ar.Title_button_text),children:a("start.title")})}),S.jsx("div",{className:l("Title_button",ar.Title_button),onClick:async()=>{u(),r(Ie({component:"showTitle",visibility:!1})),rxe()},onMouseEnter:s,children:S.jsx("div",{className:l("Title_button_text",ar.Title_button_text),children:a("continue.title")})}),S.jsx("div",{className:l("Title_button",ar.Title_button),onClick:()=>{u(),r(Ie({component:"showMenuPanel",visibility:!0})),r(Ho(Ke.Option))},onMouseEnter:s,children:S.jsx("div",{className:l("Title_button_text",ar.Title_button_text),children:a("options.title")})}),S.jsx("div",{className:l("Title_button",ar.Title_button),onClick:()=>{u(),r(Ie({component:"showMenuPanel",visibility:!0})),r(Ho(Ke.Load))},onMouseEnter:s,children:S.jsx("div",{className:l("Title_button_text",ar.Title_button_text),children:a("load.title")})}),t.enableAppreciationMode&&S.jsx("div",{className:`${l("Title_button",ar.Title_button)} ${f?"":ar.Title_button_disabled}`,onClick:()=>{f&&(u(),r(Ie({component:"showExtra",visibility:!0})))},onMouseEnter:s,children:S.jsx("div",{className:l("Title_button_text",ar.Title_button_text),children:a("extra.title")})}),S.jsx("div",{className:l("Title_button",ar.Title_button),onClick:()=>{u(),window.close()},onMouseEnter:s,children:S.jsx("div",{className:l("Title_button_text",ar.Title_button_text),children:a("exit.title")})})]})})]})},oxe="_trans_vsrqd_1",axe="_langWrapper_vsrqd_9",sxe="_lang_vsrqd_9",uxe="_langSelect_vsrqd_28",lxe="_langSelectButton_vsrqd_34",Tu={trans:oxe,langWrapper:axe,lang:sxe,langSelect:uxe,langSelectButton:lxe};function cxe(){const e=xM(),[t,r]=$.useState(!1),i=ve(a=>a.userData.globalGameVar).Default_Language??"",o=a=>{r(!1),e(a)};return $.useEffect(()=>{if(window==null?void 0:window.localStorage.getItem("lang"))e(Number(window==null?void 0:window.localStorage.getItem("lang")),!1);else if(r(!0),i)switch(i){case"zh_CN":o(yi.zhCn);break;default:o(yi.zhCn);break}},[i]),S.jsx(S.Fragment,{children:t&&S.jsx("div",{className:Tu.trans,children:S.jsxs("div",{className:Tu.langWrapper,children:[S.jsx("div",{className:Tu.lang,children:"LANGUAGE SELECT"}),S.jsx("div",{className:Tu.langSelect,children:Object.keys(Sh).map(a=>S.jsx("div",{className:Tu.langSelectButton,onClick:()=>o(yi[a]),children:Sh[a]},a))})]})})})}function fxe(){return $.useEffect(()=>{Mle()},[]),S.jsxs("div",{className:"App",children:[S.jsx(cxe,{}),S.jsx(tge,{}),S.jsx(Xye,{}),S.jsx(e_e,{}),S.jsx(oye,{}),S.jsx(ixe,{}),S.jsx(B_e,{}),S.jsx(N_e,{}),S.jsx(N0e,{}),S.jsx(dye,{}),S.jsx(X0e,{}),S.jsx(i_e,{})]})}function ro(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _0(e,t){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_0(e,t)}function Ip(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_0(e,t)}function mc(e,t){if(t&&(Vt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ro(e)}function Jn(e){return Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jn(e)}function hxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dxe(e){return gM(e)||hxe(e)||yM(e)||_M()}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pxe={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},vxe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};An(this,e),this.init(t,r)}return Pn(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||pxe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,o){return o&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new e(this.logger,HO(HO({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}}]),e}(),Gn=new vxe,vo=function(){function e(){An(this,e),this.observers={}}return Pn(e,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(o){i.observers[o]=i.observers[o]||[],i.observers[o].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[r].concat(i))})}}}]),e}();function Cu(){var e,t,r=new Promise(function(n,i){e=n,t=i});return r.resolve=e,r.reject=t,r}function VO(e){return e==null?"":""+e}function mxe(e,t,r){e.forEach(function(n){t[n]&&(r[n]=t[n])})}function B1(e,t,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=n(o.shift());!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return i()?{}:{obj:e,k:n(o.shift())}}function WO(e,t,r){var n=B1(e,t,Object),i=n.obj,o=n.k;i[o]=r}function gxe(e,t,r,n){var i=B1(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],n&&(o[a]=o[a].concat(r)),n||o[a].push(r)}function qh(e,t){var r=B1(e,t),n=r.obj,i=r.k;if(n)return n[i]}function yxe(e,t,r){var n=qh(e,r);return n!==void 0?n:qh(t,r)}function bM(e,t,r){for(var n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?typeof e[n]=="string"||e[n]instanceof String||typeof t[n]=="string"||t[n]instanceof String?r&&(e[n]=t[n]):bM(e[n],t[n],r):e[n]=t[n]);return e}function Ca(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function xxe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return _xe[t]}):e}var Np=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,bxe=[" ",",","?","!",";"];function Sxe(e,t,r){t=t||"",r=r||"";var n=bxe.filter(function(s){return t.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(r);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}function Xh(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var n=t.split(r),i=e,o=0;o<n.length;++o){if(!i||typeof i[n[o]]=="string"&&o+1<n.length)return;if(i[n[o]]===void 0){for(var a=2,s=n.slice(o,o+a).join(r),u=i[s];u===void 0&&n.length>o+a;)a++,s=n.slice(o,o+a).join(r),u=i[s];if(u===void 0)return;if(u===null)return null;if(t.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var l=n.slice(o+a).join(r);return l?Xh(u,l,r):void 0}i=i[n[o]]}return i}}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e){var t=Exe();return function(){var n=Jn(e),i;if(t){var o=Jn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mc(this,i)}}function Exe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Txe=function(e){Ip(r,e);var t=wxe(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return An(this,r),i=t.call(this),Np&&vo.call(ro(i)),i.data=n||{},i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Pn(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var o=this.options.ns.indexOf(i);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,o];a&&typeof a!="string"&&(c=c.concat(a)),a&&typeof a=="string"&&(c=c.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(c=i.split("."));var f=qh(this.data,c);return f||!l||typeof a!="string"?f:Xh(this.data&&this.data[i]&&this.data[i][o],a,u)}},{key:"addResource",value:function(i,o,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,c=[i,o];a&&(c=c.concat(l?a.split(l):a)),i.indexOf(".")>-1&&(c=i.split("."),s=o,o=c[1]),this.addNamespaces(o),WO(this.data,c,s),u.silent||this.emit("added",i,o,a,s)}},{key:"addResources",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(i,o,u,a[u],{silent:!0});s.silent||this.emit("added",i,o,a)}},{key:"addResourceBundle",value:function(i,o,a,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,o];i.indexOf(".")>-1&&(c=i.split("."),s=a,a=o,o=c[1]),this.addNamespaces(o);var f=qh(this.data,c)||{};s?bM(f,a,u):f=ff(ff({},f),a),WO(this.data,c,f),l.silent||this.emit("added",i,o,a)}},{key:"removeResourceBundle",value:function(i,o){this.hasResourceBundle(i,o)&&delete this.data[i][o],this.removeNamespaces(o),this.emit("removed",i,o)}},{key:"hasResourceBundle",value:function(i,o){return this.getResource(i,o)!==void 0}},{key:"getResourceBundle",value:function(i,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ff(ff({},{}),this.getResource(i,o)):this.getResource(i,o)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var o=this.getDataByLanguage(i),a=o&&Object.keys(o)||[];return!!a.find(function(s){return o[s]&&Object.keys(o[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(vo),SM={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,n,i,o){var a=this;return t.forEach(function(s){a.processors[s]&&(r=a.processors[s].process(r,n,i,o))}),r}};function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cxe(e){var t=Oxe();return function(){var n=Jn(e),i;if(t){var o=Jn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mc(this,i)}}function Oxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var YO={},KO=function(e){Ip(r,e);var t=Cxe(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return An(this,r),i=t.call(this),Np&&vo.call(ro(i)),mxe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,ro(i)),i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Gn.create("translator"),i}return Pn(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,o);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,o){var a=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ns||this.options.defaultNS||[],l=a&&i.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!Sxe(i,a,s);if(l&&!c){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:u};var h=i.split(a);(a!==s||a===s&&this.options.ns.indexOf(h[0])>-1)&&(u=h.shift()),i=h.join(s)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,o,a){var s=this;if(Vt(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),Vt(o)==="object"&&(o=sr({},o)),o||(o={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],o),f=c.key,h=c.namespaces,d=h[h.length-1],v=o.lng||this.language,g=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v&&v.toLowerCase()==="cimode"){if(g){var p=o.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(d).concat(p).concat(f),usedKey:f,exactUsedKey:f,usedLng:v,usedNS:d}:"".concat(d).concat(p).concat(f)}return u?{res:f,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:d}:f}var m=this.resolve(i,o),y=m&&m.res,_=m&&m.usedKey||f,x=m&&m.exactUsedKey||f,b=Object.prototype.toString.apply(y),w=["[object Number]","[object Function]","[object RegExp]"],E=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,A=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(P&&y&&A&&w.indexOf(b)<0&&!(typeof E=="string"&&b==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,y,sr(sr({},o),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return u?(m.res=k,m):k}if(l){var F=b==="[object Array]",j=F?[]:{},z=F?x:_;for(var q in y)if(Object.prototype.hasOwnProperty.call(y,q)){var D="".concat(z).concat(l).concat(q);j[q]=this.translate(D,sr(sr({},o),{joinArrays:!1,ns:h})),j[q]===D&&(j[q]=y[q])}y=j}}else if(P&&typeof E=="string"&&b==="[object Array]")y=y.join(E),y&&(y=this.extendTranslation(y,i,o,a));else{var U=!1,K=!1,de=o.count!==void 0&&typeof o.count!="string",pe=r.hasDefaultValue(o),Y=de?this.pluralResolver.getSuffix(v,o.count,o):"",N=o["defaultValue".concat(Y)]||o.defaultValue;!this.isValidLookup(y)&&pe&&(U=!0,y=N),this.isValidLookup(y)||(K=!0,y=f);var X=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,ne=X&&K?void 0:y,ue=pe&&N!==y&&this.options.updateMissing;if(K||U||ue){if(this.logger.log(ue?"updateKey":"missingKey",v,d,f,ue?N:y),l){var _e=this.resolve(f,sr(sr({},o),{},{keySeparator:!1}));_e&&_e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Se=[],we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(var Ue=0;Ue<we.length;Ue++)Se.push(we[Ue]);else this.options.saveMissingTo==="all"?Se=this.languageUtils.toResolveHierarchy(o.lng||this.language):Se.push(o.lng||this.language);var He=function(Pe,Be,Ve){var Ee=pe&&Ve!==y?Ve:ne;s.options.missingKeyHandler?s.options.missingKeyHandler(Pe,d,Be,Ee,ue,o):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Pe,d,Be,Ee,ue,o),s.emit("missingKey",Pe,d,Be,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&de?Se.forEach(function(Je){s.pluralResolver.getSuffixes(Je,o).forEach(function(Pe){He([Je],f+Pe,o["defaultValue".concat(Pe)]||N)})}):He(Se,f,N))}y=this.extendTranslation(y,i,o,m,a),K&&y===f&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(f)),(K||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(f):f,U?y:void 0):y=this.options.parseMissingKeyHandler(y))}return u?(m.res=y,m):y}},{key:"extendTranslation",value:function(i,o,a,s,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,sr(sr({},this.options.interpolation.defaultVariables),a),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(sr(sr({},a),{interpolation:sr(sr({},this.options.interpolation),a.interpolation)}));var c=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(c){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var d=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(d=sr(sr({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,a.lng||this.language,a),c){var v=i.match(this.interpolator.nestingRegexp),g=v&&v.length;f<g&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(a.lng=s.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];return u&&u[0]===_[0]&&!a.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(_[0]," in key: ").concat(o[0])),null):l.translate.apply(l,_.concat([o]))},a)),a.interpolation&&this.interpolator.reset()}var p=a.postProcess||this.options.postProcess,m=typeof p=="string"?[p]:p;return i!=null&&m&&m.length&&a.applyPostProcessor!==!1&&(i=SM.handle(m,i,o,this.options&&this.options.postProcessPassResolved?sr({i18nResolved:s},a):a,this)),i}},{key:"resolve",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,l,c,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!o.isValidLookup(s)){var d=o.extractFromKey(h,a),v=d.key;u=v;var g=d.namespaces;o.options.fallbackNS&&(g=g.concat(o.options.fallbackNS));var p=a.count!==void 0&&typeof a.count!="string",m=p&&!a.ordinal&&a.count===0&&o.pluralResolver.shouldUseIntlApi(),y=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",_=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);g.forEach(function(x){o.isValidLookup(s)||(f=x,!YO["".concat(_[0],"-").concat(x)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(f)&&(YO["".concat(_[0],"-").concat(x)]=!0,o.logger.warn('key "'.concat(u,'" for languages "').concat(_.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(function(b){if(!o.isValidLookup(s)){c=b;var w=[v];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(w,v,b,x,a);else{var E;p&&(E=o.pluralResolver.getSuffix(b,a.count,a));var P="".concat(o.options.pluralSeparator,"zero");if(p&&(w.push(v+E),m&&w.push(v+P)),y){var A="".concat(v).concat(o.options.contextSeparator).concat(a.context);w.push(A),p&&(w.push(A+E),m&&w.push(A+P))}}for(var k;k=w.pop();)o.isValidLookup(s)||(l=k,s=o.getResource(b,x,k,a))}}))})}}),{res:s,usedKey:u,exactUsedKey:l,usedLng:c,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,o,a,s):this.resourceStore.getResource(i,o,a,s)}}],[{key:"hasDefaultValue",value:function(i){var o="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&o===a.substring(0,o.length)&&i[a]!==void 0)return!0;return!1}}]),r}(vo);function mg(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ZO=function(){function e(t){An(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gn.create("languageUtils")}return Pn(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(o){return o.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=mg(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=mg(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=mg(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(o){if(!i){var a=n.formatLanguageCode(o);(!n.options.supportedLngs||n.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&r.forEach(function(o){if(!i){var a=n.getLanguagePartFromCode(o);if(n.isSupportedCode(a))return i=a;i=n.options.supportedLngs.find(function(s){if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&s.indexOf(a)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,o=this.getFallbackCodes(n||this.options.fallbackLng||[],r),a=[],s=function(l){l&&(i.isSupportedCode(l)?a.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),o.forEach(function(u){a.indexOf(u)<0&&s(i.formatLanguageCode(u))}),a}}]),e}(),Axe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Pxe={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},kxe=["v1","v2","v3"],JO={zero:0,one:1,two:2,few:3,many:4,other:5};function Rxe(){var e={};return Axe.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:Pxe[t.fc]}})}),e}var Ixe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};An(this,e),this.languageUtils=t,this.options=r,this.logger=Gn.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Rxe()}return Pn(e,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(o){return"".concat(n).concat(o)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(r,i);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(a,s){return JO[a]-JO[s]}).map(function(a){return"".concat(n.options.prepend).concat(a)}):o.numbers.map(function(a){return n.getSuffix(r,a,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(r,i);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(n)):this.getSuffixRetroCompatible(o,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,o=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),a=r.numbers[o];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var s=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!kxe.includes(this.options.compatibilityJSON)}}]),e}();function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eA(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=yxe(e,t,r);return!o&&i&&typeof r=="string"&&(o=Xh(e,r,n),o===void 0&&(o=Xh(t,r,n))),o}var Nxe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};An(this,e),this.logger=Gn.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return Pn(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:xxe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Ca(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Ca(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Ca(n.nestingPrefix):n.nestingPrefixEscaped||Ca("$t("),this.nestingSuffix=n.nestingSuffix?Ca(n.nestingSuffix):n.nestingSuffixEscaped||Ca(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,o){var a=this,s,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(p){return p.replace(/\$/g,"$$$$")}var h=function(m){if(m.indexOf(a.formatSeparator)<0){var y=eA(n,c,m,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(y,void 0,i,vn(vn(vn({},o),n),{},{interpolationkey:m})):y}var _=m.split(a.formatSeparator),x=_.shift().trim(),b=_.join(a.formatSeparator).trim();return a.format(eA(n,c,x,a.options.keySeparator,a.options.ignoreJSONStructure),b,i,vn(vn(vn({},o),n),{},{interpolationkey:x}))};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,v=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(m){return f(m)}},{regex:this.regexp,safeValue:function(m){return a.escapeValue?f(a.escape(m)):f(m)}}];return g.forEach(function(p){for(l=0;s=p.regex.exec(r);){var m=s[1].trim();if(u=h(m),u===void 0)if(typeof d=="function"){var y=d(r,s,o);u=typeof y=="string"?y:""}else if(o&&Object.prototype.hasOwnProperty.call(o,m))u="";else if(v){u=s[0];continue}else a.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(r)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=VO(u));var _=p.safeValue(u);if(r=r.replace(s[0],_),v?(p.regex.lastIndex+=u.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,l++,l>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,u;function l(d,v){var g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;var p=d.split(new RegExp("".concat(g,"[ ]*{"))),m="{".concat(p[1]);d=p[0],m=this.interpolate(m,u);var y=m.match(/'/g),_=m.match(/"/g);(y&&y.length%2===0&&!_||_.length%2!==0)&&(m=m.replace(/'/g,'"'));try{u=JSON.parse(m),v&&(u=vn(vn({},v),u))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),x),"".concat(d).concat(g).concat(m)}return delete u.defaultValue,d}for(;a=this.nestingRegexp.exec(r);){var c=[];u=vn({},o),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var f=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(d){return d.trim()});a[1]=h.shift(),c=h,f=!0}if(s=n(l.call(this,a[1].trim(),u),u),s&&a[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=VO(s)),s||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),s=""),f&&(s=c.reduce(function(d,v){return i.format(d,v,o.lng,vn(vn({},o),{},{interpolationkey:a[1].trim()}))},s.trim())),r=r.replace(a[0],s),this.regexp.lastIndex=0}return r}}]),e}();function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var n=e.split("(");t=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(t==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(t==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var o=i.split(";");o.forEach(function(a){if(a){var s=a.split(":"),u=dxe(s),l=u[0],c=u.slice(1),f=c.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:t,formatOptions:r}}function Oa(e){var t={};return function(n,i,o){var a=i+JSON.stringify(o),s=t[a];return s||(s=e(i,o),t[a]=s),s(n)}}var Mxe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};An(this,e),this.logger=Gn.create("formatter"),this.options=t,this.formats={number:Oa(function(r,n){var i=new Intl.NumberFormat(r,si({},n));return function(o){return i.format(o)}}),currency:Oa(function(r,n){var i=new Intl.NumberFormat(r,si(si({},n),{},{style:"currency"}));return function(o){return i.format(o)}}),datetime:Oa(function(r,n){var i=new Intl.DateTimeFormat(r,si({},n));return function(o){return i.format(o)}}),relativetime:Oa(function(r,n){var i=new Intl.RelativeTimeFormat(r,si({},n));return function(o){return i.format(o,n.range||"day")}}),list:Oa(function(r,n){var i=new Intl.ListFormat(r,si({},n));return function(o){return i.format(o)}})},this.init(t)}return Pn(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Oa(n)}},{key:"format",value:function(r,n,i){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),u=s.reduce(function(l,c){var f=Lxe(c),h=f.formatName,d=f.formatOptions;if(o.formats[h]){var v=l;try{var g=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},p=g.locale||g.lng||a.locale||a.lng||i;v=o.formats[h](l,p,si(si(si({},d),a),g))}catch(m){o.logger.warn(m)}return v}else o.logger.warn("there was no format function for ".concat(h));return l},r);return u}}]),e}();function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fxe(e){var t=Dxe();return function(){var n=Jn(e),i;if(t){var o=Jn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mc(this,i)}}function Dxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bxe(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var jxe=function(e){Ip(r,e);var t=Fxe(r);function r(n,i,o){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return An(this,r),a=t.call(this),Np&&vo.call(ro(a)),a.backend=n,a.store=i,a.services=o,a.languageUtils=o.languageUtils,a.options=s,a.logger=Gn.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=s.maxParallelReads||10,a.readingCalls=0,a.maxRetries=s.maxRetries>=0?s.maxRetries:5,a.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(o,s.backend,s),a}return Pn(r,[{key:"queueLoad",value:function(i,o,a,s){var u=this,l={},c={},f={},h={};return i.forEach(function(d){var v=!0;o.forEach(function(g){var p="".concat(d,"|").concat(g);!a.reload&&u.store.hasResourceBundle(d,g)?u.state[p]=2:u.state[p]<0||(u.state[p]===1?c[p]===void 0&&(c[p]=!0):(u.state[p]=1,v=!1,c[p]===void 0&&(c[p]=!0),l[p]===void 0&&(l[p]=!0),h[g]===void 0&&(h[g]=!0)))}),v||(f[d]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,o,a){var s=i.split("|"),u=s[0],l=s[1];o&&this.emit("failedLoading",u,l,o),a&&this.store.addResourceBundle(u,l,a),this.state[i]=o?-1:2;var c={};this.queue.forEach(function(f){gxe(f.loaded,[u],l),Bxe(f,i),o&&f.errors.push(o),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){c[h]||(c[h]={});var d=f.loaded[h];d.length&&d.forEach(function(v){c[h][v]===void 0&&(c[h][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,o,a){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:o,fcName:a,tried:u,wait:l,callback:c});return}this.readingCalls++;var f=function(g,p){if(s.readingCalls--,s.waitingReads.length>0){var m=s.waitingReads.shift();s.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(g&&p&&u<s.maxRetries){setTimeout(function(){s.read.call(s,i,o,a,u+1,l*2,c)},l);return}c(g,p)},h=this.backend[a].bind(this.backend);if(h.length===2){try{var d=h(i,o);d&&typeof d.then=="function"?d.then(function(v){return f(null,v)}).catch(f):f(null,d)}catch(v){f(v)}return}return h(i,o,f)}},{key:"prepareLoading",value:function(i,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof o=="string"&&(o=[o]);var l=this.queueLoad(i,o,s,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(c){a.loadOne(c)})}},{key:"load",value:function(i,o,a){this.prepareLoading(i,o,{},a)}},{key:"reload",value:function(i,o,a){this.prepareLoading(i,o,{reload:!0},a)}},{key:"loadOne",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),u=s[0],l=s[1];this.read(u,l,"read",void 0,void 0,function(c,f){c&&o.logger.warn("".concat(a,"loading namespace ").concat(l," for language ").concat(u," failed"),c),!c&&f&&o.logger.log("".concat(a,"loaded namespace ").concat(l," for language ").concat(u),f),o.loaded(i,c,f)})}},{key:"saveMissing",value:function(i,o,a,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var f=nA(nA({},l),{},{isUpdate:u}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,o,a,s,f):d=h(i,o,a,s),d&&typeof d.then=="function"?d.then(function(v){return c(null,v)}).catch(c):c(null,d)}catch(v){c(v)}else h(i,o,a,s,c,f)}!i||!i[0]||this.store.addResource(i[0],o,a,s)}}}]),r}(vo);function iA(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(Vt(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),Vt(t[2])==="object"||Vt(t[3])==="object"){var n=t[3]||t[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(t,r,n,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function oA(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $xe(e){var t=Uxe();return function(){var n=Jn(e),i;if(t){var o=Jn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mc(this,i)}}function Uxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hf(){}function Gxe(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var Yh=function(e){Ip(r,e);var t=$xe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(An(this,r),n=t.call(this),Np&&vo.call(ro(n)),n.options=oA(i),n.services={},n.logger=Gn,n.modules={external:[]},Gxe(ro(n)),o&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,o),mc(n,ro(n));setTimeout(function(){n.init(i,o)},0)}return n}return Pn(r,[{key:"init",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(a=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var s=iA();this.options=In(In(In({},s),this.options),oA(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=In(In({},s.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function u(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?Gn.init(u(this.modules.logger),this.options):Gn.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=Mxe);var c=new ZO(this.options);this.store=new Txe(this.options.resources,this.options);var f=this.services;f.logger=Gn,f.resourceStore=this.store,f.languageUtils=c,f.pluralResolver=new Ixe(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=u(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Nxe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new jxe(u(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var y=arguments.length,_=new Array(y>1?y-1:0),x=1;x<y;x++)_[x-1]=arguments[x];i.emit.apply(i,[m].concat(_))}),this.modules.languageDetector&&(f.languageDetector=u(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=u(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new KO(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,_=new Array(y>1?y-1:0),x=1;x<y;x++)_[x-1]=arguments[x];i.emit.apply(i,[m].concat(_))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.format=this.options.interpolation.format,a||(a=hf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(m){i[m]=function(){var y;return(y=i.store)[m].apply(y,arguments)}});var v=["addResource","addResources","addResourceBundle","removeResourceBundle"];v.forEach(function(m){i[m]=function(){var y;return(y=i.store)[m].apply(y,arguments),i}});var g=Cu(),p=function(){var y=function(x,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),g.resolve(b),a(x,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),g}},{key:"loadResources",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hf,s=a,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var l=[],c=function(d){if(d){var v=o.services.languageUtils.toResolveHierarchy(d);v.forEach(function(g){l.indexOf(g)<0&&l.push(g)})}};if(u)c(u);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return c(h)})}this.options.preload&&this.options.preload.forEach(function(h){return c(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,o,a){var s=Cu();return i||(i=this.languages),o||(o=this.options.ns),a||(a=hf),this.services.backendConnector.reload(i,o,function(u){s.resolve(),a(u)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&SM.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var o=0;o<this.languages.length;o++){var a=this.languages[o];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,o){var a=this;this.isLanguageChangingTo=i;var s=Cu();this.emit("languageChanging",i);var u=function(h){a.language=h,a.languages=a.services.languageUtils.toResolveHierarchy(h),a.resolvedLanguage=void 0,a.setResolvedLanguage(h)},l=function(h,d){d?(u(d),a.translator.changeLanguage(d),a.isLanguageChangingTo=void 0,a.emit("languageChanged",d),a.logger.log("languageChanged",d)):a.isLanguageChangingTo=void 0,s.resolve(function(){return a.t.apply(a,arguments)}),o&&o(h,function(){return a.t.apply(a,arguments)})},c=function(h){!i&&!h&&a.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:a.services.languageUtils.getBestMatchFromCodes(h);d&&(a.language||u(d),a.translator.language||a.translator.changeLanguage(d),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(d)),a.loadResources(d,function(v){l(v,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),s}},{key:"getFixedT",value:function(i,o,a){var s=this,u=function l(c,f){var h;if(Vt(f)!=="object"){for(var d=arguments.length,v=new Array(d>2?d-2:0),g=2;g<d;g++)v[g-2]=arguments[g];h=s.options.overloadTranslationOptionHandler([c,f].concat(v))}else h=In({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||a||l.keyPrefix;var p=s.options.keySeparator||".",m;return h.keyPrefix&&Array.isArray(c)?m=c.map(function(y){return"".concat(h.keyPrefix).concat(p).concat(y)}):m=h.keyPrefix?"".concat(h.keyPrefix).concat(p).concat(c):c,s.t(m,h)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=o,u.keyPrefix=a,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(d,v){var g=o.services.backendConnector.state["".concat(d,"|").concat(v)];return g===-1||g===2};if(a.precheck){var f=a.precheck(this,c);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,i)&&(!u||c(l,i)))}},{key:"loadNamespaces",value:function(i,o){var a=this,s=Cu();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),o&&o(u)}),s):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(i,o){var a=Cu();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],u=i.filter(function(l){return s.indexOf(l)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(l){a.resolve(),o&&o(l)}),a):(o&&o(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new ZO(iA());return o.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hf,s=In(In(In({},this.options),o),{isClone:!0}),u=new r(s);(o.debug!==void 0||o.prefix!==void 0)&&(u.logger=u.logger.clone(o));var l=["store","services","language"];return l.forEach(function(c){u[c]=i[c]}),u.services=In({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new KO(u.services,u.options),u.translator.on("*",function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];u.emit.apply(u,[c].concat(h))}),u.init(s,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(vo);Wr(Yh,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Yh(e,t)});var vr=Yh.createInstance();vr.createInstance=Yh.createInstance;vr.createInstance;vr.dir;vr.init;vr.loadResources;vr.reloadResources;vr.use;vr.changeLanguage;vr.getFixedT;vr.t;vr.exists;vr.setDefaultNamespace;vr.hasLoadedNamespace;vr.loadNamespaces;vr.loadLanguages;vr.use(Zge).init({resources:V9||{},lng:yi[W9]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("WebGAL i18n Ready!"));Xn.render(S.jsx(H.StrictMode,{children:S.jsx(tye,{children:S.jsx(p2,{store:B,children:S.jsx(fxe,{})})})}),document.getElementById("root"));export{xr as C,$s as E,Rt as M,zi as O,Ae as P,xi as S,kb as T,C as W,me as a,Uh as b,A_ as f,Wxe as r,$o as u};
